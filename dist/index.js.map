{"version":3,"file":"index.js","mappings":"wFAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,i5CAiDtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6CAA6C,MAAQ,GAAG,SAAW,2dAA2d,eAAiB,CAAC,k5CAAk5C,WAAa,MAE7+D,S,6ECrDIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,uWAUtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,oHAAoH,eAAiB,CAAC,wWAAwW,WAAa,MAEjmB,S,6ECdIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,8VAUtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mDAAmD,MAAQ,GAAG,SAAW,oHAAoH,eAAiB,CAAC,+VAA+V,WAAa,MAEzlB,S,+FCbIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,uoGAqK2B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,0DAA0D,MAAQ,GAAG,SAAW,m1CAAm1C,eAAiB,CAAC,wqGAAorG,WAAa,MAErtJ,S,4EC3KIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,wGAKtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+DAA+D,MAAQ,GAAG,SAAW,mDAAmD,eAAiB,CAAC,yGAAyG,WAAa,MAE9S,S,6ECTIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,wGAKtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gEAAgE,MAAQ,GAAG,SAAW,mDAAmD,eAAiB,CAAC,yGAAyG,WAAa,MAE/S,S,+FCRIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,mlNAuWtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,0DAA0D,MAAQ,GAAG,SAAW,kwFAAkwF,eAAiB,CAAC,onNAAwnN,WAAa,MAEvgT,S,6EC7WIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,0HAItC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+DAA+D,MAAQ,GAAG,SAAW,8DAA8D,eAAiB,CAAC,2HAA+H,WAAa,MAE/U,S,6ECRIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,8FAItC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gEAAgE,MAAQ,GAAG,SAAW,0DAA0D,eAAiB,CAAC,+FAAmG,WAAa,MAEhT,S,6ECRIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,0eAiBrC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8DAA8D,MAAQ,GAAG,SAAW,iIAAiI,eAAiB,CAAC,2eAA2e,WAAa,MAE9vB,S,+FCpBIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,8lBAmCtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4DAA4D,MAAQ,GAAG,SAAW,oTAAoT,eAAiB,CAAC,+nBAAioB,WAAa,MAEpkC,S,+FCxCIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,wiDAgEtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6DAA6D,MAAQ,GAAG,SAAW,8nBAA8nB,eAAiB,CAAC,ykDAAilD,WAAa,MAE/1E,S,8FCrEIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,0TAsBtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8DAA8D,MAAQ,GAAG,SAAW,0KAA0K,eAAiB,CAAC,2VAA6V,WAAa,MAExpB,S,+FC3BIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,kYAsBtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,yDAAyD,MAAQ,GAAG,SAAW,mLAAmL,eAAiB,CAAC,maAAqa,WAAa,MAEpuB,S,+FC3BIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,w0CA2EtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2DAA2D,MAAQ,GAAG,SAAW,yiBAAyiB,eAAiB,CAAC,y2CAAi4C,WAAa,MAExjE,S,+FChFIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,gVAiBtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4DAA4D,MAAQ,GAAG,SAAW,6KAA6K,eAAiB,CAAC,mXAAmX,WAAa,MAE/qB,S,+FCtBIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,wPAYtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,0DAA0D,MAAQ,GAAG,SAAW,yGAAyG,eAAiB,CAAC,yRAA2R,WAAa,MAEjhB,S,8FCjBIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,0+BAiDtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,0DAA0D,MAAQ,GAAG,SAAW,ycAAyc,eAAiB,CAAC,2gCAAihC,WAAa,MAEvmD,S,uGCrDIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAC1BJ,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4PAerC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,mEAAmE,MAAQ,GAAG,SAAW,2GAA2G,eAAiB,CAAC,+TAAuU,WAAa,MAEzkB,S,+FCtBIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,iRAetC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4DAA4D,MAAQ,GAAG,SAAW,6IAA6I,eAAiB,CAAC,kTAAoT,WAAa,MAEhlB,S,+FCpBIH,EAA0B,IAA4B,KAC1DA,EAAwBI,EAAE,KAE1BJ,EAAwBC,KAAK,CAACC,EAAOC,GAAI,qsMA+StC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,sEAAsE,MAAQ,GAAG,SAAW,i5EAAi5E,eAAiB,CAAC,suMAAwuM,WAAa,MAElxR,S,6ECrTIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,iGAKtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2EAA2E,MAAQ,GAAG,SAAW,mCAAmC,eAAiB,CAAC,kGAAkG,WAAa,MAEnS,S,6ECTIH,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,iGAKtC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4EAA4E,MAAQ,GAAG,SAAW,mCAAmC,eAAiB,CAAC,kGAAkG,WAAa,MAEpS,S,0bCeA,MAAME,EAAsB,CAACC,EAAQC,EAAa,IAAIC,iBACpDD,EAAWE,YAAYH,GAChBC,GAGIG,EAA0BL,EAAoB,KAC9CM,EAAuBN,EAAoB,KAC3CO,EAAuBP,EAAoB,KAC3CQ,EAAuBR,EAAoB,KAC3CS,EAAuBT,EAAoB,KAC3CU,EAAuBV,EAAoB,KAC3CW,EAAuBX,EAAoB,KAC3CY,EAAuBZ,EAAoB,KAC3Ca,EAAuBb,EAAoB,KAC3Cc,EAAwBd,EAAoB,KAC5Ce,EAAuBf,EAAoB,KAC3CgB,EAAuBhB,EAAoB,KAC3CiB,EAAuBjB,EAAoB,KAC3CkB,EAAuBlB,EAAoB,KAE3CmB,EAAuBnB,EAAoB,KAC3CoB,EAA0BpB,EAAoB,KAC9CqB,EAAuBrB,EAAoB,KAC3CsB,EAAuBtB,EAAoB,KAE3CuB,EAAuBvB,EAAoB,KAC3CwB,EAA0BxB,EAAoB,KAC9CyB,EAAuBzB,EAAoB,KAC3C0B,EAAuB1B,EAAoB,I,kcC7CpD2B,EAA4B,oBAAdC,WAA4BA,UAAUC,UAAUC,cAAcC,QAAQ,WAAa,EAErG,SAASC,EAASC,EAAQC,EAAOC,GAC3BF,EAAOG,iBACTH,EAAOG,iBAAiBF,EAAOC,GAAQ,GAC9BF,EAAOI,aAChBJ,EAAOI,YAAY,KAAKC,OAAOJ,IAAQ,WACrCC,EAAOI,OAAOL,MAChB,GAEJ,CAGA,SAASM,EAAQC,EAAUC,GAGzB,IAFA,IAAIC,EAAOD,EAAIE,MAAM,EAAGF,EAAIG,OAAS,GAE5B9C,EAAI,EAAGA,EAAI4C,EAAKE,OAAQ9C,IAC/B4C,EAAK5C,GAAK0C,EAASE,EAAK5C,GAAG+B,eAG7B,OAAOa,CACT,CAGA,SAASG,EAAQJ,GACI,iBAARA,IAAkBA,EAAM,IAOnC,IAJA,IAAIK,GAFJL,EAAMA,EAAIM,QAAQ,MAAO,KAEVC,MAAM,KAEjBC,EAAQH,EAAKI,YAAY,IAEtBD,GAAS,GACdH,EAAKG,EAAQ,IAAM,IACnBH,EAAKK,OAAOF,EAAO,GACnBA,EAAQH,EAAKI,YAAY,IAG3B,OAAOJ,CACT,CAsFA,IAvEA,IAAIM,EAAU,CACZC,UAAW,EACXC,IAAK,EACLC,MAAO,GACPC,MAAO,GACPC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,MAAO,GACPC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACNC,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACNC,IAAK,GACLC,OAAQ,GACRC,SAAU,GACVC,SAAU,GACV,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK/C,EAAO,IAAM,IAClB,IAAKA,EAAO,GAAK,IACjB,IAAKA,EAAO,GAAK,IACjB,IAAM,IACN,IAAK,IACL,IAAK,IACL,KAAM,KAGJgD,EAAY,CAEd,IAAK,GACLC,MAAO,GAEP,IAAK,GACLC,IAAK,GACLC,OAAQ,GAER,IAAK,GACLC,KAAM,GACNC,QAAS,GAET,IAAK,GACLC,IAAK,GACLC,QAAS,IAEPC,EAAc,CAChB,GAAI,WACJ,GAAI,SACJ,GAAI,UACJ,GAAI,UACJC,SAAU,GACVC,QAAS,GACTC,OAAQ,GACRC,QAAS,IAEPC,EAAQ,CACV,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,GAEFC,EAAY,CAAC,EAERC,EAAI,EAAGA,EAAI,GAAIA,IACtBrC,EAAQ,IAAIf,OAAOoD,IAAM,IAAMA,EAGjC,IAAIC,EAAY,GAEZC,EAAS,MAETC,EAAsB,GAGtBC,EAAO,SAAcC,GACvB,OAAO1C,EAAQ0C,EAAEjE,gBAAkB6C,EAAUoB,EAAEjE,gBAAkBiE,EAAEC,cAAcC,WAAW,EAC9F,EAGA,SAASC,EAASC,GAChBP,EAASO,GAAS,KACpB,CAGA,SAASC,IACP,OAAOR,GAAU,KACnB,CAsHA,IAAIS,EAAa,SAAoBC,GACnC,IAAI5D,EAAM4D,EAAK5D,IACXyD,EAAQG,EAAKH,MACbhE,EAASmE,EAAKnE,OACdoE,EAAgBD,EAAKE,SACrBA,OAA6B,IAAlBD,EAA2B,IAAMA,EAC7BzD,EAAQJ,GACd+D,SAAQ,SAAUC,GAC7B,IAAIC,EAAaD,EAAUzD,MAAMuD,GAC7BI,EAAMD,EAAW9D,OACjBgE,EAAUF,EAAWC,EAAM,GAC3BE,EAAsB,MAAZD,EAAkB,IAAMf,EAAKe,GAC3C,GAAKpB,EAAUqB,GAAf,CAEKX,IAAOA,EAAQC,KACpB,IAAIzD,EAAOiE,EAAM,EAAIpE,EAAQmC,EAAWgC,GAAc,GACtDlB,EAAUqB,GAAWrB,EAAUqB,GAASC,KAAI,SAAUC,GAIpD,OAFuB7E,GAAS6E,EAAO7E,SAAWA,GAE1B6E,EAAOb,QAAUA,IApP/C,SAAsBc,EAAIC,GAKxB,IAJA,IAAIC,EAAOF,EAAGpE,QAAUqE,EAAGrE,OAASoE,EAAKC,EACrCE,EAAOH,EAAGpE,QAAUqE,EAAGrE,OAASqE,EAAKD,EACrCI,GAAU,EAELtH,EAAI,EAAGA,EAAIoH,EAAKtE,OAAQ9C,KACA,IAA3BqH,EAAKrF,QAAQoF,EAAKpH,MAAYsH,GAAU,GAG9C,OAAOA,CACT,CA0OwDC,CAAaN,EAAOrE,KAAMA,GAIrEqE,EAHE,CAAC,CAIZ,GAb+B,CAcjC,GACF,EAGA,SAASO,EAAarF,EAAOsF,EAASrB,GACpC,IAAIsB,EAEJ,GAAID,EAAQrB,QAAUA,GAA2B,QAAlBqB,EAAQrB,MAAiB,CAItD,IAAK,IAAIuB,KAFTD,EAAiBD,EAAQ7E,KAAKE,OAAS,EAEzB2C,EACRmC,OAAOC,UAAUC,eAAeC,KAAKtC,EAAOkC,MACzClC,EAAMkC,IAAMF,EAAQ7E,KAAKZ,SAAS2F,IAAM,GAAKlC,EAAMkC,KAAoC,IAA9BF,EAAQ7E,KAAKZ,SAAS2F,MAClFD,GAAiB,IAMK,IAAxBD,EAAQ7E,KAAKE,QAAiB2C,EAAM,KAAQA,EAAM,KAAQA,EAAM,KAAQA,EAAM,OAAOiC,GAAuC,MAArBD,EAAQO,WAC1E,IAAnCP,EAAQrF,OAAOD,EAAOsF,KACpBtF,EAAM8F,eAAgB9F,EAAM8F,iBAAsB9F,EAAM+F,aAAc,EACtE/F,EAAMgG,iBAAiBhG,EAAMgG,kBAC7BhG,EAAMiG,eAAcjG,EAAMiG,cAAe,GAGnD,CACF,CAGA,SAASC,EAASlG,GAChB,IAAImG,EAAW5C,EAAU,KACrB/C,EAAMR,EAAM4E,SAAW5E,EAAMoG,OAASpG,EAAMqG,SAEhD,GAAKC,EAAQC,OAAOX,KAAKY,KAAMxG,GAA/B,CAsCA,GAnCY,KAARQ,GAAsB,MAARA,IAAaA,EAAM,KAQL,IAA5BiD,EAAU5D,QAAQW,IAAuB,MAARA,GAAaiD,EAAU/F,KAAK8C,GAMjE,CAAC,UAAW,SAAU,WAAY,WAAW+D,SAAQ,SAAUkC,GAC7D,IAAIC,EAASzD,EAAYwD,GAErBzG,EAAMyG,KAA2C,IAA/BhD,EAAU5D,QAAQ6G,GACtCjD,EAAU/F,KAAKgJ,IACL1G,EAAMyG,IAAYhD,EAAU5D,QAAQ6G,IAAW,EACzDjD,EAAUvC,OAAOuC,EAAU5D,QAAQ6G,GAAS,GACvB,YAAZD,GAAyBzG,EAAMyG,IAAiC,IAArBhD,EAAU9C,SAKxDX,EAAMmD,SAAWnD,EAAMkD,UAAYlD,EAAMoD,SAC7CK,EAAYA,EAAU/C,MAAM+C,EAAU5D,QAAQ6G,KAGpD,IAKIlG,KAAO8C,EAAO,CAGhB,IAAK,IAAIE,KAFTF,EAAM9C,IAAO,EAECiC,EACRA,EAAUe,KAAOhD,IAAK8F,EAAQ9C,IAAK,GAGzC,IAAK2C,EAAU,MACjB,CAGA,IAAK,IAAIQ,KAAKrD,EACRmC,OAAOC,UAAUC,eAAeC,KAAKtC,EAAOqD,KAC9CrD,EAAMqD,GAAK3G,EAAMiD,EAAY0D,KAW7B3G,EAAM4G,oBAAsB5G,EAAMoD,QAAWpD,EAAMmD,UAAYnD,EAAM4G,iBAAiB,eACzD,IAA3BnD,EAAU5D,QAAQ,KACpB4D,EAAU/F,KAAK,KAGc,IAA3B+F,EAAU5D,QAAQ,KACpB4D,EAAU/F,KAAK,IAGjB4F,EAAM,KAAM,EACZA,EAAM,KAAM,GAId,IAAIW,EAAQC,IAEZ,GAAIiC,EACF,IAAK,IAAItI,EAAI,EAAGA,EAAIsI,EAASxF,OAAQ9C,IAC/BsI,EAAStI,GAAGoG,QAAUA,IAAyB,YAAfjE,EAAM6G,MAAsBV,EAAStI,GAAGiJ,SAA0B,UAAf9G,EAAM6G,MAAoBV,EAAStI,GAAGkJ,QAC3H1B,EAAarF,EAAOmG,EAAStI,GAAIoG,GAMvC,GAAMzD,KAAO+C,EAEb,IAAK,IAAIyD,EAAK,EAAGA,EAAKzD,EAAU/C,GAAKG,OAAQqG,IAC3C,IAAmB,YAAfhH,EAAM6G,MAAsBtD,EAAU/C,GAAKwG,GAAIF,SAA0B,UAAf9G,EAAM6G,MAAoBtD,EAAU/C,GAAKwG,GAAID,QACrGxD,EAAU/C,GAAKwG,GAAIxG,IAAK,CAM1B,IALA,IAAIsE,EAASvB,EAAU/C,GAAKwG,GACxB1C,EAAWQ,EAAOR,SAClB2C,EAAcnC,EAAOtE,IAAIO,MAAMuD,GAC/B4C,EAAmB,GAEdC,EAAI,EAAGA,EAAIF,EAAYtG,OAAQwG,IACtCD,EAAiBxJ,KAAKkG,EAAKqD,EAAYE,KAGrCD,EAAiBE,OAAOC,KAAK,MAAQ5D,EAAU2D,OAAOC,KAAK,KAE7DhC,EAAarF,EAAO8E,EAAQb,EAEhC,CAzGyC,CA4G/C,CAOA,SAASqC,EAAQ9F,EAAKoC,EAAQ3C,GAC5BwD,EAAY,GACZ,IAAI5C,EAAOD,EAAQJ,GAEfC,EAAO,GACPwD,EAAQ,MAERqD,EAAUC,SAEV1J,EAAI,EACJkJ,GAAQ,EACRD,GAAU,EACVxC,EAAW,IAoBf,SAlBekD,IAAXvH,GAA0C,mBAAX2C,IACjC3C,EAAS2C,GAGoC,oBAA3C6C,OAAOC,UAAU+B,SAAS7B,KAAKhD,KAC7BA,EAAOqB,QAAOA,EAAQrB,EAAOqB,OAE7BrB,EAAO0E,UAASA,EAAU1E,EAAO0E,SAEjC1E,EAAOmE,QAAOA,EAAQnE,EAAOmE,YAEVS,IAAnB5E,EAAOkE,UAAuBA,EAAUlE,EAAOkE,SAEpB,iBAApBlE,EAAO0B,WAAuBA,EAAW1B,EAAO0B,WAGvC,iBAAX1B,IAAqBqB,EAAQrB,GAEjC/E,EAAIgD,EAAKF,OAAQ9C,IAGtB4C,EAAO,IAFPD,EAAMK,EAAKhD,GAAGkD,MAAMuD,IAIZ3D,OAAS,IAAGF,EAAOH,EAAQmC,EAAWjC,KAG9CA,EAAc,OADdA,EAAMA,EAAIA,EAAIG,OAAS,IACH,IAAMiD,EAAKpD,MAGlB+C,IAAYA,EAAU/C,GAAO,IAE1C+C,EAAU/C,GAAK9C,KAAK,CAClBqJ,MAAOA,EACPD,QAASA,EACT7C,MAAOA,EACPxD,KAAMA,EACNoF,SAAUhF,EAAKhD,GACfoC,OAAQA,EACRO,IAAKK,EAAKhD,GACVyG,SAAUA,SAKS,IAAZgD,IA9Db,SAAuBA,GACrB,OAAO3D,EAAoB9D,QAAQyH,IAAY,CACjD,CA4DyCI,CAAcJ,IAAYjH,SAC/DsD,EAAoBjG,KAAK4J,GACzBxH,EAASwH,EAAS,WAAW,SAAUX,GACrCT,EAASS,EACX,IACA7G,EAASO,OAAQ,SAAS,WACxBoD,EAAY,EACd,IACA3D,EAASwH,EAAS,SAAS,SAAUX,GACnCT,EAASS,GArTf,SAAuB3G,GACrB,IAAIQ,EAAMR,EAAM4E,SAAW5E,EAAMoG,OAASpG,EAAMqG,SAE5CxI,EAAI4F,EAAU5D,QAAQW,GAe1B,GAZI3C,GAAK,GACP4F,EAAUvC,OAAOrD,EAAG,GAIlBmC,EAAMQ,KAAmC,SAA5BR,EAAMQ,IAAIZ,eACzB6D,EAAUvC,OAAO,EAAGuC,EAAU9C,QAIpB,KAARH,GAAsB,MAARA,IAAaA,EAAM,IAEjCA,KAAO8C,EAGT,IAAK,IAAIE,KAFTF,EAAM9C,IAAO,EAECiC,EACRA,EAAUe,KAAOhD,IAAK8F,EAAQ9C,IAAK,EAG7C,CA6RMmE,CAAchB,EAChB,IAEJ,CAEA,IAAIiB,EAAO,CACT5D,SAAUA,EACVE,SAAUA,EACV2D,YAnVF,SAAqB5D,EAAO6D,GAC1B,IAAIC,EACAlK,EAIJ,IAAK,IAAI2C,KAFJyD,IAAOA,EAAQC,KAEJX,EACd,GAAIkC,OAAOC,UAAUC,eAAeC,KAAKrC,EAAW/C,GAGlD,IAFAuH,EAAWxE,EAAU/C,GAEhB3C,EAAI,EAAGA,EAAIkK,EAASpH,QACnBoH,EAASlK,GAAGoG,QAAUA,EAAO8D,EAAS7G,OAAOrD,EAAG,GAAQA,IAM9DqG,MAAeD,GAAOD,EAAS8D,GAAY,MACjD,EAkUEE,mBAhXF,WACE,OAAOvE,EAAU/C,MAAM,EACzB,EA+WEuH,UA9VF,SAAmBrD,GAKjB,MAJuB,iBAAZA,IACTA,EAAUhB,EAAKgB,KAGsB,IAAhCnB,EAAU5D,QAAQ+E,EAC3B,EAyVE2B,OA5WF,SAAgBvG,GACd,IAAIkI,EAASlI,EAAMkI,QAAUlI,EAAMmI,WAC/BC,EAAUF,EAAOE,QACjBC,GAAO,EAMX,OAJIH,EAAOI,oBAAkC,UAAZF,GAAmC,aAAZA,GAAsC,WAAZA,GAA0BF,EAAOK,YACjHF,GAAO,GAGFA,CACT,EAmWEG,OAvSF,SAAgBC,GAEd,GAAKA,GAIE,GAAIC,MAAMC,QAAQF,GAEvBA,EAASlE,SAAQ,SAAUqE,GACrBA,EAAKpI,KAAK2D,EAAWyE,EAC3B,SACK,GAAwB,iBAAbH,EAEZA,EAASjI,KAAK2D,EAAWsE,QACxB,GAAwB,iBAAbA,EAAuB,CACvC,IAAK,IAAII,EAAOC,UAAUnI,OAAQoI,EAAO,IAAIL,MAAMG,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IAClGD,EAAKC,EAAO,GAAKF,UAAUE,GAK7B,IAAI/E,EAAQ8E,EAAK,GACb9I,EAAS8I,EAAK,GAEG,mBAAV9E,IACThE,EAASgE,EACTA,EAAQ,IAGVE,EAAW,CACT3D,IAAKiI,EACLxE,MAAOA,EACPhE,OAAQA,EACRqE,SAAU,KAEd,OAhCEmB,OAAO5E,KAAK0C,GAAWgB,SAAQ,SAAU/D,GACvC,cAAc+C,EAAU/C,EAC1B,GA+BJ,GAsQA,IAAK,IAAI2G,KAAKS,EACRnC,OAAOC,UAAUC,eAAeC,KAAKgC,EAAMT,KAC7Cb,EAAQa,GAAKS,EAAKT,IAItB,GAAsB,oBAAX9G,OAAwB,CACjC,IAAI4I,EAAW5I,OAAOiG,QAEtBA,EAAQ4C,WAAa,SAAUC,GAK7B,OAJIA,GAAQ9I,OAAOiG,UAAYA,IAC7BjG,OAAOiG,QAAU2C,GAGZ3C,CACT,EAEAjG,OAAOiG,QAAUA,CACnB,CAEA,U,sBCviBO,MAAM8C,UAAgBC,YAE3B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKzI,OAAS,CAAC,MACfyI,KAAKmD,iBAAmBnD,KAAKmD,iBAAiBC,KAAKpD,KACrD,CAEA,iBAAAqD,GACErD,KAAKgD,QAAQM,mBAAqBtD,KAAKzI,OACvCsC,OAAOH,iBAAiB,SAAUsG,KAAKmD,iBACzC,CAEA,oBAAAI,GACE1J,OAAO2J,oBAAoB,SAAUxD,KAAKmD,iBAC5C,CAEA,gBAAAA,GACEtJ,OAAO4J,uBAAsB,KAC3B,MAAMC,EAAgB1D,KAAKgD,QAAQW,KAAKC,aAAa,kBAC9CC,IAAa,OAAE,mBAAmBH,OAEpCG,IAEL7D,KAAK8D,SAAW,CACdJ,gBACAK,GAAIF,EACJG,SAAS,IAAAA,SAAQH,IACnB,GAEJ,CAEA,YAAIC,EAAS,GAACC,EAAE,cAAEL,IAChB1D,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAOH,EAAGI,wBAAyBT,GAAe,IAAAM,SAAQD,IAEpF/D,KAAKoE,YACPpE,KAAKqE,SAAW,CACdvD,QAASd,KAAKoE,UAAUE,OAAOP,GAC/BO,OAAStE,KAAKoE,UAAUE,QAG9B,CAEA,YAAID,CAASE,GACXvE,KAAKoE,UAAYG,EAEjB,MAAMC,EAAYxE,KAAKgD,QAAQyB,cAAc,0BAE7CD,EACIxE,KAAKgD,QAAQ0B,aAAaH,EAAGzD,QAAS0D,GACtCxE,KAAKgD,QAAQ2B,YAAYJ,EAAGzD,QAClC,CAEA,MAAAoD,EAAO,EAAE7G,EAAC,EAAE2B,EAAC,MAAE4F,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,GAAQsI,EAAeM,GASxD,OARAhE,KAAKgD,QAAQW,KAAKoB,aAAa,gBAAiBrB,GAEhD1D,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,GAAOd,EAAU,EAAInK,OAAOqL,cAC/DlF,KAAKgF,MAAMC,YAAY,SAAU,GAAG7J,OACpC4E,KAAKgF,MAAMC,YAAY,aAAcjB,EAAU,QAAU,YACzDhE,KAAKgF,MAAMC,YAAY,UAAW,GAAGL,OACrC5E,KAAKgF,MAAMC,YAAY,WAAY,GAAGJ,OAE/B,uEAGMD,cAAkBC,4BACZD,KAASC,6wBAc9B,EAGFM,eAAeC,OAAO,wBAAyBxC,G,aCpFxC,MAAMyC,UAAexC,YAE1B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKzI,OAAS,CAAC,KACjB,CAEA,iBAAA8L,GACErD,KAAKgD,QAAQM,mBAAqBtD,KAAKzI,OACvCyI,KAAKgD,QAAQiB,UAAYjE,KAAKkE,SAE9BlE,KAAKsF,OAAStF,KAAKgD,QAAQyB,cAAc,UACzCzE,KAAKsF,OAAO5L,iBAAiB,cAAesG,KAAKuF,wBAAwBnC,KAAKpD,OAE9EA,KAAKwF,UAAYxF,KAAK4D,aAAa,YACrC,CAEA,6BAAW6B,GACT,MAAO,CAAC,YACV,CAEA,wBAAAC,CAAyBC,EAAMC,EAAUC,GAC1B,cAATF,IACF3F,KAAKwF,UAAYK,EAErB,CAEA,uBAAAN,CAAwBpF,GAItB,GAHAA,EAAEb,iBACFa,EAAEX,kBAEe,IAAbW,EAAEmF,OAAc,OAEpB,MAAME,EAAYxF,KAAKwF,UAEjBM,EADY3F,EAAE4F,eAAeC,MAAKjC,GAAqB,sBAAfA,EAAGnC,UACnBgC,aAAa,kBACpCqC,IAAY,OAAE,mBAAmBH,OAExC,IAAKG,EAAU,OAEf,MAAQ5I,EAAG6I,EAAUlH,EAAGmH,GAAahG,EAC/BiG,EAAeC,iBAAiBJ,GAChCK,EAAeC,WAAWH,EAAaxB,OACvC4B,EAAgBD,WAAWH,EAAavB,QACxC4B,EAAmB,IAAIC,UAAUN,EAAaO,WAE9CC,EAAuBX,EAASjB,MAAM6B,WACtCC,EAAyB/F,SAASgG,KAAK/B,MAAMgC,OAC7CC,EAA6BlG,SAASgG,KAAK/B,MAAMkC,WAOvD,SAASC,EAAuBhH,GAC9BA,EAAEb,iBACFa,EAAEX,kBAEF,MAAM4H,GAAO,OAAM,EAAGjH,EAAEkH,QAAStG,SAASuG,gBAAgBC,aACpDC,GAAO,OAAM,EAAGrH,EAAEsH,QAAS1G,SAASuG,gBAAgBI,cAEpDC,EAAQP,EAAOlB,EACf0B,EAAQJ,EAAOrB,EAErB,OAAQX,GACN,IAAK,YAAa,CAChB,MAAMqC,EAAWvB,EAAeqB,EAC1BG,EAAYtB,EAAgBoB,EAC5BG,EAAetB,EAAiBuB,UAAUL,EAAOC,GAAOK,iBAE9DxE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,MAC1B5B,EAASjB,MAAMH,OAAS,GAAGiD,MAC3B7B,EAASjB,MAAM2B,UAAY,aAAaoB,EAAa1K,QAAQ0K,EAAa/I,MAAC,IAE7E,KACF,CACA,IAAK,aAAc,CACjB,MAAM8I,EAAYtB,EAAgBoB,EAC5BG,EAAetB,EAAiBuB,UAAU,EAAGJ,GAAOK,iBAE1DxE,uBAAsB,KACpBwC,EAASjB,MAAMH,OAAS,GAAGiD,MAC3B7B,EAASjB,MAAM2B,UAAY,aAAaoB,EAAa1K,QAAQ0K,EAAa/I,MAAC,IAE7E,KACF,CACA,IAAK,UAAW,CACd,MAAM6I,EAAWvB,EAAeqB,EAC1BG,EAAYtB,EAAgBoB,EAC5BG,EAAetB,EAAiBuB,UAAU,EAAGJ,GAAOK,iBAE1DxE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,MAC1B5B,EAASjB,MAAMH,OAAS,GAAGiD,MAC3B7B,EAASjB,MAAM2B,UAAY,aAAaoB,EAAa1K,QAAQ0K,EAAa/I,MAAC,IAE7E,KACF,CACA,IAAK,eAAgB,CACnB,MAAM6I,EAAWvB,EAAeqB,EAC1BI,EAAetB,EAAiBuB,UAAUL,GAAOM,iBAEvDxE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,MAC1B5B,EAASjB,MAAM2B,UAAY,aAAaoB,EAAa1K,QAAQ0K,EAAa/I,MAAC,IAE7E,KACF,CACA,IAAK,aAAc,CACjB,MAAM6I,EAAWvB,EAAeqB,EAEhClE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,KAAQ,IAEpC,KACF,CACA,IAAK,eAAgB,CACnB,MAAMA,EAAWvB,EAAeqB,EAC1BG,EAAYtB,EAAgBoB,EAC5BG,EAAetB,EAAiBuB,UAAUL,EAAO,GAAGM,iBAE1DxE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,MAC1B5B,EAASjB,MAAMH,OAAS,GAAGiD,MAC3B7B,EAASjB,MAAM2B,UAAY,aAAaoB,EAAa1K,QAAQ0K,EAAa/I,MAAC,IAE7E,KACF,CACA,IAAK,gBAAiB,CACpB,MAAM8I,EAAYtB,EAAgBoB,EAElCnE,uBAAsB,KACpBwC,EAASjB,MAAMH,OAAS,GAAGiD,KAAS,IAEtC,KACF,CACA,IAAK,aAAc,CACjB,MAAMD,EAAWvB,EAAeqB,EAC1BG,EAAYtB,EAAgBoB,EAElCnE,uBAAsB,KACpBwC,EAASjB,MAAMJ,MAAQ,GAAGiD,MAC1B5B,EAASjB,MAAMH,OAAS,GAAGiD,KAAS,IAEtC,KACF,EAEJ,CAKA,SAASI,IACPnH,SAASyC,oBAAoB,cAAe2D,GAC5CpG,SAASgG,KAAK/B,MAAMgC,OAASF,EAC7B/F,SAASgG,KAAK/B,MAAMkC,WAAaD,EACjChB,EAASjB,MAAM6B,WAAaD,CAC9B,CA9GAX,EAASjB,MAAM6B,WAAa,OAC5B9F,SAASgG,KAAK/B,MAAMgC,OAASX,iBAAiBrG,MAAMmI,iBAAiB,YACrEpH,SAASgG,KAAK/B,MAAMkC,WAAa,OAEjCnG,SAASrH,iBAAiB,cAAeyN,GAkGzCpG,SAASrH,iBAAiB,YAAawO,EAAuB,CAAEE,MAAM,IACtErH,SAASrH,iBAAiB,aAAcwO,EAAuB,CAAEE,MAAM,GAQzE,CAEA,oBAAA7E,GACEvD,KAAKsF,OAAO9B,oBAAoB,cAAexD,KAAKuF,wBAAwBnC,KAAKpD,MACnF,CAEA,MAAAkE,GACE,MAAO,mEAGT,EAGFiB,eAAeC,OAAO,uBAAwBC,GCzJ9CF,eAAeC,OAAO,sBAtBf,cAAoBxC,EAEzB,WAAAE,GACEC,QACA/C,KAAKzI,OAAS,CAAC,KAAe,KAChC,CAEA,MAAA2M,EAAO,MAAEU,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,GAAQsI,EAAeM,GAKlD,OAJAhE,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,GAAOd,EAAU,EAAInK,OAAOqL,cAC/DlF,KAAKgF,MAAMC,YAAY,SAAU,GAAG7J,OACpC4E,KAAKgF,MAAMC,YAAY,aAAcjB,EAAU,QAAU,YAElD,gCAEMY,cAAkBC,4BACZD,KAASC,iFAI9B,ICnBFhL,OAAOH,iBAAiB,UAOxB,WACE2O,IACAtH,SAASuH,iBAAiB,uBAAuBvK,SAASgG,IACxDA,EAAGwE,uBAAsB,GAE7B,IATAxH,SAASgG,KAAKrN,iBAAiB,SAAS,KACtC2O,GAA+B,IAC9B,GASI,MAAMG,UAAuB3F,YAElC,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKyI,cAAgBzI,KAAKyI,cAAcrF,KAAKpD,KAC/C,CAEA,iBAAAqD,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,OACnC,OAAE,IAAKtD,KAAKgD,SAAS0F,GAAG,mBAAoB1I,KAAKyI,cACnD,CAEA,oBAAAlF,IACE,OAAE,IAAKvD,KAAKgD,SAAS2F,IAAI,mBAAoB3I,KAAKyI,cACpD,CAEA,aAAAA,CAActI,GACZH,KAAKgD,QAAQW,KAAKiF,cAAc,IAAIC,YAAY,QAAS,CACvDC,SAAS,EACTC,OAAU,CACRC,KAAY7I,EAAEuB,OAAOuH,YACrBC,UAAY/I,EAAEE,QAGpB,CAEA,QAAI2I,CAAKG,GACPnJ,KAAKgD,QAAQoG,kBACTpJ,KAAKgD,QAAQqG,kBAAkBJ,YAAcE,EAC7CnJ,KAAKsJ,MAAQH,CACnB,CAEA,YAAIrF,EAAS,aAACyF,EAAY,cAAE7F,EAAa,QAAEM,IACzChE,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAOR,GACrC1D,KAAKsE,OAAS,CAACiF,eAAcvF,UAC/B,CAEA,UAAIM,EAAO,aAACiF,EAAY,QAAEvF,IACxBhE,KAAKgF,MAAMC,YAAY,QAAS,GAAGsE,EAAavK,GAAKgF,EAAU,EAAInK,OAAOqL,cAC1ElF,KAAKgF,MAAMC,YAAY,SAAasE,EAAalM,EAAI,EAApB,MACjC2C,KAAKgF,MAAMC,YAAY,cAAe,GAAGsE,EAAa3E,OAAS/K,OAAO2P,WAAaD,EAAalM,EAAIkM,EAAa3E,MAAQ,SACzH5E,KAAKgF,MAAMC,YAAY,aAAc,QACvC,CAEA,SAAIwE,CAAMA,GACRzJ,KAAKgD,QAAQoG,kBACTpJ,KAAKgD,QAAQqG,kBAAkBI,MAAQA,EACvCzJ,KAAK0J,OAASD,CACpB,CAEA,SAAIA,GACF,OAAOzJ,KAAKgD,QAAQoG,kBAChBpJ,KAAKgD,QAAQqG,kBAAkBI,MAC/BzJ,KAAK0J,MACX,CAEA,MAAAxF,CAAOR,GAGL,OAFA1D,KAAKgD,QAAQW,KAAKoB,aAAa,gBAAiBrB,GAAkB,SAAWiG,OAAO,IAAIC,OAEjF,yBAAyB5J,KAAKsJ,cACvC,EAKK,SAASO,EAA8BnG,EAAesF,EAAMc,EAAW1O,EAAM0J,EAAKiF,EAAOC,GAC9F,MAAMC,EAAWlJ,SAASuH,iBAAiB,oCAAoCU,MAE/E,GAAIiB,EAAS9P,OAAQ,CACnB,MAAM+P,EAAWD,EAAS,GAgB1B,OAfAC,EAASlF,MAAMmF,QAAU,GACzBD,EAASlF,MAAMC,YAAY,SAAU7J,GACrC8O,EAASlF,MAAMC,YAAY,QAASH,GACpCoF,EAASlF,MAAMC,YAAY,aAAc,SACrC8E,GAAOG,EAASlF,MAAMC,YAAY,aAAc8E,GACpDG,EAASE,KAAK1G,IAAiB,EAC/BwG,EAAST,MAAQxK,OAAO5E,KAAK6P,EAASE,MAAMjQ,OAC5C+P,EAASlB,KAAOA,EAChBkB,EAASlF,MAAMC,YAAY,UAAW,WAAWiF,EAAST,UAC1DS,EAASlF,MAAMC,YAAY,eAAgB,WAAW6E,EAAY,oBAAsBA,EAAYI,EAAST,eACzGO,IACF5O,EAAOA,EAAKiP,SAAS,SAAWjP,EAAKd,QAAQ,IAAK,MAAM4P,EAAST,MAAMxI,WAAW9G,aAAe,GAAG+P,EAAST,MAAMxI,WAAW9G,WAC9H+P,EAASlF,MAAMC,YAAY,SAAU7J,IAIzC,CAEA,MAAMkP,EAAQvJ,SAASwJ,cAAc,iCAErCD,EAAMlT,GAAK4R,EACXsB,EAAMxG,SAAW,CACfyF,aAAcxI,SAASgG,KAAK5C,wBAC5BH,SAAS,GAEXsG,EAAMF,KAAO,CAAC,EACdE,EAAMF,KAAK1G,IAAiB,EAC5B4G,EAAMb,MAAQ,EACda,EAAMtB,KAAOA,EACbsB,EAAMtF,MAAMmF,QAAU,GACtBG,EAAMtF,MAAMC,YAAY,SAAU7J,GAClCkP,EAAMtF,MAAMC,YAAY,QAASH,GACjCwF,EAAMtF,MAAMC,YAAY,UAAW,WAAWqF,EAAMb,UACpDa,EAAMtF,MAAMC,YAAY,eAAgB,WAAW6E,EAAY,oBAAsBA,EAAYQ,EAAMb,UACnGM,GAAOO,EAAMtF,MAAMC,YAAY,aAAc8E,GAE7CC,IACF5O,EAAOA,EAAKiP,SAAS,SAAWjP,EAAKd,QAAQ,IAAK,WAAa,MAC/DgQ,EAAMtF,MAAMC,YAAY,SAAU7J,IAGpC2F,SAASgG,KAAKpC,YAAY2F,EAC5B,CAEO,SAASjC,IACdtH,SAASuH,iBAAiB,iCACvBvK,SAAQoC,IACPA,EAAEiK,KAAO,CAAC,EACVjK,EAAEsJ,MAAQ,EACVtJ,EAAE6I,KAAO,GACT7I,EAAE6E,MAAMmF,QAAU,SAExB,CA3DAhF,eAAeC,OAAO,gCAAiCoD,GC5EhD,MAAMgC,UAAc3H,YAEzB,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKyK,UAAYzK,KAAKyK,UAAUrH,KAAKpD,MACrCA,KAAKyI,cAAgBzI,KAAKyI,cAAcrF,KAAKpD,KAC/C,CAEA,iBAAAqD,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,OACnC,OAAE,IAAKtD,KAAKgD,SAAS0F,GAAG,mBAAoB1I,KAAKyI,eACjD5O,OAAOH,iBAAiB,SAAUsG,KAAKyK,UACzC,CAEA,oBAAAlH,IACE,OAAE,IAAKvD,KAAKgD,SAAS2F,IAAI,mBAAoB3I,KAAKyI,eAClD5O,OAAO2J,oBAAoB,SAAUxD,KAAKyK,UAC5C,CAEA,SAAAA,GACE5Q,OAAO4J,uBAAsB,KAC3B,MAAMC,EAAgB1D,KAAKgD,QAAQW,KAAKC,aAAa,kBAC9CC,IAAe,OAAE,mBAAmBH,OAEtCG,IAEL7D,KAAK8D,SAAW,CACdJ,gBACA6F,aAAc1F,EAAUM,wBACxBH,SAAS,IAAAA,SAAQH,IACnB,GAEJ,CAEA,aAAA4E,CAActI,GACZH,KAAKgD,QAAQW,KAAKiF,cAAc,IAAIC,YAAY,QAAS,CACvDC,SAAS,EACTC,OAAU,CACRC,KAAY7I,EAAEuB,OAAOuH,YACrBC,UAAY/I,EAAEE,QAGpB,CAEA,QAAI2I,CAAKG,GACPnJ,KAAKgD,QAAQoG,kBACTpJ,KAAKgD,QAAQqG,kBAAkBpF,UAAYkF,EAC3CnJ,KAAKsJ,MAAQH,CACnB,CAEA,YAAIrF,EAAS,aAACyF,EAAY,cAAE7F,EAAa,QAAEM,IACzChE,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAOR,GACrC1D,KAAKsE,OAAS,CAACiF,eAAcvF,UAC/B,CAEA,UAAIM,EAAO,aAACiF,EAAY,QAAEvF,IACxB,MAAMc,EAAMyE,EAAavK,GAAKgF,EAAU,EAAInK,OAAOqL,SAC7C9J,EAAOmO,EAAalM,EACpByG,EAAWE,EAAU,QAAU,WACrChE,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,OACnC9E,KAAKgF,MAAMC,YAAY,SAAU,GAAG7J,OACpC4E,KAAKgF,MAAMC,YAAY,cAAe,GAAGsE,EAAa3E,OAAS/K,OAAO2P,WAAaD,EAAalM,EAAIkM,EAAa3E,MAAQ,SACzH5E,KAAKgF,MAAMC,YAAY,aAAcnB,GACrC9D,KAAK+E,aAAa,oBAAqBD,GACvC9E,KAAK+E,aAAa,qBAAsB3J,GACxC4E,KAAK+E,aAAa,yBAA0BjB,GAE5C9D,KAAKuI,uBACP,CAEA,MAAArE,CAAOR,GAGL,OAFA1D,KAAKgD,QAAQW,KAAKoB,aAAa,gBAAiBrB,GAAkB,SAAWiG,OAAO,IAAIC,OAEjF,SAAS5J,KAAKsJ,cACvB,CAEA,qBAAAf,GACE,MAAMuB,EAAY9J,KAAKgD,QAAQqG,kBAAkBqB,UAAUpQ,QAAQ,OAAQ,KAC3E,GAAkB,SAAdwP,EAAsB,OAE1B,MAAMa,EAAc3K,KAAKgD,QAAQqG,kBAAkBlF,wBAE7CyG,EAAe/Q,OAAOwM,iBAAiBrG,MACvC6K,EAAkB,CACtB/F,IAAK8F,EAAazC,iBAAiB,SAAS7N,QAAQ,KAAM,IAC1Dc,KAAMwP,EAAazC,iBAAiB,UAAU7N,QAAQ,KAAM,KAGxDwQ,EAAmB,CACvBhG,IAAK9E,KAAK4D,aAAa,qBACvBxI,KAAM4E,KAAK4D,aAAa,sBACxBE,SAAU9D,KAAK4D,aAAa,2BAGxBmH,EAAUhK,SAASgG,KAAKgE,SAAWlR,OAAOmR,YAC1C9F,EAAUnE,SAASgG,KAAK7B,SAAWrL,OAAOoR,YAE1CC,EAAaJ,EAAiBhG,IAAM6F,EAAY9F,OAASK,EAAU,EACnEiG,EAAgBL,EAAiBhG,IAAMI,EAAUrL,OAAOuR,YACxDC,EAAcP,EAAiB1P,KAAO2P,EAAU,EAChDO,EAAeR,EAAiB1P,KAAO2P,EAAUlR,OAAO2P,WAK9D,KAFE0B,GAAcC,GAAiBE,GAAeC,GAM9C,OAHAtL,KAAKgF,MAAMC,YAAY,aAAc6F,EAAiBhH,UACtD9D,KAAKgF,MAAMC,YAAY,SAAU,GAAG6F,EAAiB1P,eACrD4E,KAAKgF,MAAMC,YAAY,QAAS,GAAG6F,EAAiBhG,SAItD,MAAMkF,GAAyB,EACzBtG,EAAgB1D,KAAK4D,aAAa,iBAClCoB,EAAQ,CACZlB,SAAU,QACViG,MAAO,sBACP3O,KAAMyP,EAAgBzP,KACtB0J,IAAK+F,EAAgB/F,IACrByG,cAAe,GACfzB,UAAWA,IAGToB,GAAeG,GAAgBC,EAKxBJ,GAAcG,GACvBrG,EAAM5J,KAAOuP,EAAY/F,MACzBI,EAAMF,IAAM6F,EAAY9F,OACxBG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,IAAK,OAAQ9E,EAAM+E,QAC7FmB,GAAcI,GACvBtG,EAAM5J,KAAOoQ,KAAKC,IAAId,EAAY/F,MAAOiG,EAAgBzP,MACzD4J,EAAMF,IAAM6F,EAAY9F,OACxBG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,uBAAwB,OAAQ9E,EAAM+E,MAAOC,KACvHqB,GAAgBH,GAAeC,GAK/BG,GAAiBJ,GAAeC,GAKhCA,GAAkBE,GAAgBC,EAKlCH,GAAiBE,GAC1BrG,EAAM5J,KAAOuP,EAAY/F,MACzBI,EAAMF,IAAMjL,OAAOuR,YAAcT,EAAY9F,OAC7CG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,EAAG,QAAS9E,EAAM+E,QAC5FoB,GAAiBG,IAC1BtG,EAAM5J,KAAOoQ,KAAKC,IAAId,EAAY/F,MAAOiG,EAAgBzP,MACzD4J,EAAMF,IAAMjL,OAAOuR,YAAcT,EAAY9F,OAC7CG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,uBAAwB,QAAS9E,EAAM+E,MAAOC,KAbjIhF,EAAM5J,KAAOoQ,KAAKC,IAAId,EAAY/F,MAAOiG,EAAgBzP,MACzD4J,EAAMF,IAAMjL,OAAOuR,YAAcT,EAAY9F,OAC7CG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,sBAAuB,QAAS9E,EAAM+E,SARzH/E,EAAM5J,KAAOvB,OAAO2P,WAAamB,EAAY/F,MAC7CI,EAAMF,IAAM0G,KAAKC,IAAId,EAAY9F,OAAQgG,EAAgB/F,KACzDE,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,uBAAwB,sBAAuB9E,EAAM+E,MAAOC,KAR/IhF,EAAM5J,KAAOuP,EAAY/F,MACzBI,EAAMF,IAAM0G,KAAKC,IAAId,EAAY9F,OAAQgG,EAAgB/F,KACzDE,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,EAAG,sBAAuB9E,EAAM+E,SAlBnH/E,EAAM5J,KAAOoQ,KAAKC,IAAId,EAAY/F,MAAOiG,EAAgBzP,MACzD4J,EAAMF,IAAM6F,EAAY9F,OACxBG,EAAMuG,cAAgB,IACtB1B,EAA8BnG,EAAesB,EAAMuG,cAAevG,EAAM8E,UAAW,sBAAuB,OAAQ9E,EAAM+E,OAqC5H,EAGF5E,eAAeC,OAAO,sBAAuBoF,GC1KtC,MAAMkB,UAAkB7I,YAE7B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,UAC1C,CAEA,iBAAAG,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,KACrC,CAEA,oBAAAC,GAAwB,CAExB,YAAIO,CAASyF,GACXvJ,KAAKgD,QAAQiB,UAAajE,KAAKkE,OAAOqF,EACxC,CAEA,UAAIjF,EAAO,MAAEM,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,IAC/B,MAAM,UAAEuQ,EAAS,SAAEC,IAAa,IAAAC,gBAC1BC,EAAM9L,KAAKgD,QAAQyB,cAAc,QAChCsH,EAAKC,EAAMC,EAAMC,EAAMC,GAASL,EAAIM,SAE3CpM,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,QAElC2B,EAAI/G,aAAa,UAAW,OAAO6G,KAAYD,KAC/CI,EAAKhH,aAAa,QAASH,EAAQ,MACnCmH,EAAKhH,aAAa,IAAK3J,GACvB2Q,EAAKhH,aAAa,IAAKD,GACvBkH,EAAMjH,aAAa,KAAM3J,GACzB4Q,EAAMjH,aAAa,KAAM3J,GACzB6Q,EAAMlH,aAAa,KAAM3J,EAAOwJ,GAChCqH,EAAMlH,aAAa,KAAM3J,EAAOwJ,GAChCsH,EAAMnH,aAAa,KAAMD,EAAMjL,OAAOqL,SACtCgH,EAAMnH,aAAa,KAAMD,EAAMjL,OAAOqL,SACtCgH,EAAMnH,aAAa,KAAM6G,GACzBO,EAAMpH,aAAa,KAAMD,EAAMjL,OAAOqL,QAAUL,GAChDsH,EAAMpH,aAAa,KAAMD,EAAMjL,OAAOqL,QAAUL,GAChDsH,EAAMpH,aAAa,KAAM6G,EAC3B,CAEA,MAAA1H,EAAO,EAAE7G,EAAC,EAAE2B,EAAC,MAAE4F,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,IACjC,MAAM,SAAEwQ,EAAQ,UAAED,IAAc,IAAAE,iBAC1B,aAAEQ,GAAiBtL,SAASgG,KAC5BuF,EAAWtN,EAAInF,OAAOqL,QAE5B,MAAO,4DAGY0G,KAAYD,iIAKhB/G,cAAkBC,oBACtBxH,SAAS2B,4EAGJ3B,iBAAiBA,UAAUgP,iCAC3BhP,EAAIuH,iBAAqBvH,EAAIuH,UAAcyH,wCACpCC,UAAiBV,UAAiBU,wCAClCA,EAAWzH,UAAe+G,UAAiBU,EAAWzH,gCAG/E,EAGFM,eAAeC,OAAO,0BAA2BsG,GCnE1C,MAAMa,UAAiB1J,YAE5B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,QAC1C,CAEA,iBAAAG,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,KACrC,CAEA,oBAAAC,GAAwB,CAExB,YAAIO,EAAS,WAAC0I,EAAU,cAAE9I,IACxB1D,KAAKyM,WAAaD,EAClBxM,KAAKgD,QAAQiB,UAAajE,KAAKkE,OAAOsI,EAAY9I,EACpD,CAEA,cAAI+I,EAAW,EAACzN,EAAC,EAAC3B,EAAC,EAACqP,EAAC,EAACC,EAAC,EAACC,GAAI,EAAK,MAAE7C,IACjC/J,KAAKgF,MAAMC,YAAY,QAAS,GAAGjG,EAAInF,OAAOqL,aAC9ClF,KAAKgF,MAAMC,YAAY,UAAiB,SAAN0H,EAAe,GAAGtP,MAAQ,QAC5D2C,KAAKgF,MAAMC,YAAY,SAAgB,SAAN0H,EAAe,GAAGtP,MAAQ,IAC3D2C,KAAKgF,MAAMC,YAAY,cAAe2H,EAAI,SAAW,OACrD5M,KAAKgF,MAAMC,YAAY,aAAc0H,GAE3B,SAANA,GACF3M,KAAKgF,MAAMC,YAAY,YAAa,YAEtC2H,EACI5M,KAAKgF,MAAMC,YAAY,eAAgB,GAAGyH,OAC1C1M,KAAKgF,MAAMC,YAAY,eAAgB,GAAGyH,OAE7CE,EACG5M,KAAKgF,MAAMC,YAAY,WAAY,iBACnCjF,KAAKgF,MAAMC,YAAY,WAAY,iBAEvCjF,KAAKgF,MAAMC,YAAY,eAA0B,SAAV8E,EACnC,eACA,gBACJ/J,KAAKgF,MAAMC,YAAY,cAAyB,SAAV8E,EAClC,eACA,eACN,CAEA,MAAA7F,EAAO,EAACyI,EAAC,EAACD,GAAIhJ,GAGZ,OAFA1D,KAAKgD,QAAQW,KAAKoB,aAAa,gBAAiBrB,GAEzC,6BACeiJ,iDAEJnB,KAAKqB,MAAMH,6DAI/B,EAGFvH,eAAeC,OAAO,yBAA0BmH,GCzDzC,MAAMO,UAAgBjK,YAE3B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,UAC1C,CAEA,iBAAAG,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,KACrC,CAEA,oBAAAC,GAAwB,CAExB,YAAIO,CAASyF,GACXvJ,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAOqF,EACvC,CAEA,UAAIjF,EAAO,IAAEQ,EAAG,KAAE1J,EAAI,MAAEwJ,EAAK,OAAEC,IAC7B,MAAOiH,GAAO9L,KAAKgD,QAAQoJ,SAE3BpM,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,QAClC2B,EAAI9G,MAAMmF,QAAU,QAEpBnK,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,EAAMjL,OAAOqL,aAChDlF,KAAKgF,MAAMC,YAAY,SAAa7J,EAAO,EAAV,MAEjC0Q,EAAI/G,aAAa,QAASH,EAAQ,MAClCkH,EAAI/G,aAAa,SAAUF,EAAS,KACtC,CAEA,MAAAX,EAAO,OAACW,EAAM,MAAED,IACd,MAAO,8DAEMA,gBAAoBC,8BACdD,KAASC,wDAK9B,EAGFM,eAAeC,OAAO,wBAAyB0H,GC1CxC,MAAMC,UAAiBlK,YAE5B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKgN,SAAW,CAAC,CACnB,CAEA,iBAAA3J,GACErD,KAAKgD,QAAQM,mBAAqB,CAAC,KACrC,CAEA,oBAAAC,GAAwB,CAExB,YAAIO,CAASmJ,GACXjN,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAO+I,GAChCjN,KAAKgN,SAASE,cACjBlN,KAAKmN,mBAAmBF,EAC5B,CAEA,MAAA/I,EAAO,KAAChB,EAAI,OAAEkK,EAAM,MAAEC,EAAK,MAAEtD,EAAQ,SACnC,MAAMuD,EAAgBF,EAAOvI,OAASwI,EAAME,OAASF,EAAMvI,IACrD0I,EAAgBJ,EAAOxI,MAAQyI,EAAM/R,MAAQ+R,EAAMjS,KAgCzD,MA9Ba,YAAT8H,EACFlD,KAAKgN,SAAW,CACdnI,OAAUuI,EAAOvI,OACjBD,MAAUwI,EAAOxI,MACjBE,IAAU,EACV1J,KAAU,EACVqS,SAAU,eAGI,WAATvK,IACPlD,KAAKgN,SAAW,CACdnI,OAAUyI,EACV1I,MAAU4I,EACV1I,IAAU,EAAIuI,EAAMvI,IACpB1J,KAAU,EAAIiS,EAAMjS,KACpBqS,SAAU,eAIA,SAAV1D,GACF/J,KAAKgN,SAASU,GAAK,4BACnB1N,KAAKgN,SAASW,OAAS,8BAGvB3N,KAAKgN,SAASU,GAAK,4BACnB1N,KAAKgN,SAASW,OAAS,6BAGzB3N,KAAKzI,OAAO,CAAC8V,UAEN,iOAIkGrN,KAAKgN,SAASS,uFACjEzN,KAAKgN,SAASW,4LAOtE,CAEA,MAAApW,EAAO,MAAC8V,IACNrN,KAAKgF,MAAMC,YAAY,UAAW,GAAGjF,KAAKgN,SAASpI,WACnD5E,KAAKgF,MAAMC,YAAY,WAAY,GAAGjF,KAAKgN,SAASnI,YACpD7E,KAAKgF,MAAMC,YAAY,QAAS,GAAGjF,KAAKgN,SAASlI,SACjD9E,KAAKgF,MAAMC,YAAY,SAAU,GAAGjF,KAAKgN,SAAS5R,UAClD4E,KAAKgF,MAAMC,YAAY,OAAQ,GAAGjF,KAAKgN,SAASU,MAEhD1N,KAAKgF,MAAMC,YAAY,gBAAiB,GAAGoI,EAAMjS,UACjD4E,KAAKgF,MAAMC,YAAY,eAAgB,GAAGoI,EAAMvI,SAChD9E,KAAKgF,MAAMC,YAAY,iBAAkB,GAAGoI,EAAM/R,WAClD0E,KAAKgF,MAAMC,YAAY,kBAAmB,GAAGoI,EAAME,YAEnDvN,KAAKgF,MAAMC,YAAY,iBAAqBjF,KAAKgN,SAASpI,MAAQyI,EAAM/R,MAA/B,MACzC0E,KAAKgF,MAAMC,YAAY,kBAAsBjF,KAAKgN,SAASnI,OAASwI,EAAME,OAAhC,KAC5C,CAEA,kBAAAJ,EAAmB,KAACjK,EAAI,OAAEkK,EAAM,MAAEC,EAAK,MAAEtD,IACnBlQ,OAAO2P,WAId,WAATtG,GACEmK,EAAMvI,KACR9E,KAAK4N,kBAAkB,CACrBvQ,EAAI+P,EAAOxI,MAAQ,EALL,EAMd5F,GAAsB,EAAlBnF,OAAOqL,QAAgBmI,EAAMvI,IACjC4H,EAAGW,EAAMvI,IACT6H,EAAG,MACHC,GAAG,EACH7C,UAGAsD,EAAME,QACRvN,KAAK4N,kBAAkB,CACrBvQ,EAAI+P,EAAOxI,MAAQ,EAfL,EAgBd5F,GAAsB,EAAlBnF,OAAOqL,QAAgBkI,EAAOvI,OAClC6H,EAAGW,EAAME,OACTZ,EAAG,SACHC,GAAG,EACH7C,UAGAsD,EAAM/R,OACR0E,KAAK4N,kBAAkB,CACrBvQ,EAAG+P,EAAOxI,MACV5F,GAAsB,EAAlBnF,OAAOqL,QAAiBkI,EAAOvI,OAAS,EA1B9B,EA2Bd6H,EAAGW,EAAM/R,MACTqR,EAAG,QACHC,GAAG,EACH7C,UAGAsD,EAAMjS,MACR4E,KAAK4N,kBAAkB,CACrBvQ,EAAG+P,EAAOxI,MACV5F,GAAsB,EAAlBnF,OAAOqL,QAAiBkI,EAAOvI,OAAS,EApC9B,EAqCd6H,EAAGW,EAAMjS,KACTuR,EAAG,OACHC,GAAG,EACH7C,WAIY,YAAT7G,IACHmK,EAAMvI,KACR9E,KAAK4N,kBAAkB,CACrBvQ,EAAI+P,EAAOxI,MAAQ,EA/CL,EAgDd5F,GAAsB,EAAlBnF,OAAOqL,QACXwH,EAAGW,EAAMvI,IACT6H,EAAG,MACHC,GAAG,EACH7C,UAGCsD,EAAME,QACRvN,KAAK4N,kBAAkB,CACrBvQ,EAAI+P,EAAOxI,MAAQ,EAzDN,EA0Db5F,GAAsB,EAAlBnF,OAAOqL,SAAiBkI,EAAOvI,OAASwI,EAAME,QAClDb,EAAGW,EAAME,OACTZ,EAAG,SACHC,GAAG,EACH7C,UAGAsD,EAAM/R,OACR0E,KAAK4N,kBAAkB,CACrBvQ,EAAG+P,EAAOxI,MAAQyI,EAAM/R,MACxB0D,GAAsB,EAAlBnF,OAAOqL,QAAiBkI,EAAOvI,OAAS,EApE/B,EAqEb6H,EAAGW,EAAM/R,MACTqR,EAAG,QACHC,GAAG,EACH7C,UAGAsD,EAAMjS,MACR4E,KAAK4N,kBAAkB,CACrBvQ,EAAG+P,EAAOxI,MAAQyI,EAAMjS,KACxB4D,GAAsB,EAAlBnF,OAAOqL,QAAiBkI,EAAOvI,OAAS,EA9E/B,EA+Eb6H,EAAGW,EAAMjS,KACTuR,EAAG,OACHC,GAAG,EACH7C,UAIT,CAEA,iBAAA6D,CAAkBpB,EAAY9I,EAAc,GAC1C,MAAMmK,EAAc9M,SAASwJ,cAAc,0BAC3CsD,EAAY/J,SAAW,CAAE0I,aAAY9I,iBACrC1D,KAAKgD,QAAQ2B,YAAYkJ,EAC3B,EAGF1I,eAAeC,OAAO,yBAA0B2H,GC/JhD5H,eAAeC,OAAO,wBAtBf,cAAsBxC,EAE3B,WAAAE,GACEC,QACA/C,KAAKzI,OAAS,CAAC,KAAe,KAChC,CAEA,MAAA2M,EAAO,MAAEU,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,IAI3B,OAHA4E,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,EAAMjL,OAAOqL,aAChDlF,KAAKgF,MAAMC,YAAY,SAAU,GAAG7J,OAE7B,uBACSwJ,cAAkBC,qHAOpC,ICaFM,eAAeC,OAAO,qBA/Bf,cAAmBxC,EAExB,WAAAE,GACEC,QACA/C,KAAKzI,OAAS,CAAC,KAAe,KAChC,CAEA,cAAAuW,EAAe,SAACC,IACdA,EACI/N,KAAKgD,QAAQoJ,SAAS,GAAGrH,aAAa,YAAY,GAClD/E,KAAKgD,QAAQoJ,SAAS,GAAG4B,gBAAgB,WAC/C,CAEA,MAAA9J,EAAO,MAAEU,EAAK,OAAEC,EAAM,IAAEC,EAAG,KAAE1J,IAK3B,OAJA4E,KAAKgF,MAAMC,YAAY,cAAc,IAAAjB,SAAQhE,KAAKgD,QAAQW,MAAQ,QAAU,YAC5E3D,KAAKgF,MAAMC,YAAY,QAAS,GAAGH,EAAMjL,OAAOqL,aAChDlF,KAAKgF,MAAMC,YAAY,SAAU,GAAG7J,OAE7B,uBACSwJ,cAAkBC,8SASpC,IC7BF,MAAMoJ,EAAa,qBAChB1T,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,SAAaA,WAAeA,eAAmBA,KAC5D,IACD4U,UAAU,GAEPC,EAAiB,GAAG,EAAAxR,cAAc,EAAAA,oBAAoB,EAAAA,gBAAgB,EAAAA,qBA0BrE,SAASyR,EAAYC,EAAKC,GAC/BD,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,UAAW,IAAA0J,SAAQF,GAC7BG,QAAUC,UAAS,IAAAC,UAAS9K,EAAI,UAAW,IAAA2K,SAAQF,IAAa,IAChEM,OAAUN,EAAUjU,MAAM,KAAK8P,SAAS,SAAW,GAAK,EACxD0E,SAAUP,EAAUjU,MAAM,KAAK8P,SAAS,WAEzChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBgC,OAAQhC,EAAQ8B,SACZ9B,EAAQ0B,QAAU1B,EAAQ6B,OAC1B7B,EAAQ0B,QAAU1B,EAAQ6B,WAEjC/Q,SAAQ,EAAEgG,KAAIiB,QAAOiK,YACpBlL,EAAGiB,MAAMA,GAAS,GAAGiK,EAAS,EAAI,EAAIA,OAC5C,CAaA,SAASC,EAAiBX,GACxBA,EAAIxQ,SAAQgG,IACV,MAAMoL,EAAWpL,EAAGH,aAAa,iBAEjC7C,SACG0D,cAAc,wCAAwC0K,OACtD9K,SAAW,CACVvD,QAAUsO,EAAmBrL,GAC7BO,OAAU8K,EACZ,GAEN,CAYO,SAASA,EAAmBrL,EAAIsL,GAAQ,GAC7C,MAAMjC,EAAoBrJ,EAAGI,wBACvBmL,GAAoB,IAAAT,UAAS9K,EAAI,UACjCwL,EAAoBxO,SAASwJ,cAAc,0BAEjD,GAAwB,QAApB+E,EAA2B,CAC7B,MAAMjC,EAAQ,CACZvI,KAAQ,IAAA+J,UAAS9K,EAAI,aACrBzI,OAAQ,IAAAuT,UAAS9K,EAAI,eACrBwJ,QAAQ,IAAAsB,UAAS9K,EAAI,gBACrB3I,MAAQ,IAAAyT,UAAS9K,EAAI,eAGvB9E,OAAOuQ,QAAQnC,GAAOtP,SAAQ,EAAE0R,EAAMC,MACjB,iBAARA,IACTA,EAAMd,UAAS,IAAAC,UAAS9K,EAAI,UAAa0L,GAAMvV,MAAM,GAAI,KAE3DmT,EAAMoC,GAAQjE,KAAKqB,MAAuB,IAAjB6C,EAAIC,QAAQ,IAAY,OAGnDJ,EAAWzL,SAAW,CACpBZ,KAAM,SACN6G,MAAOsF,EAAQ,SAAW,OAC1BjC,SACAC,QAEJ,CAEA,OAAOkC,CACT,C,aCpHA,IAEIK,EAFAC,EAAY,GACZC,EAAY,GAGhB,MAAMC,EAAQ,CACZC,UAAU,GAcL,SAASC,GAAe,MAACC,IAC9BH,EAAMC,SAAWE,CACnB,CAEA,MAuBMC,EAAcC,GACX,IAAIC,SAAQ,CAACC,EAASC,KAC3B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,cAAcN,GACrBI,EAAOG,UAAY,IAAML,EAAQE,EAAOI,OAAM,IAK5CC,GAAc,EAAEnP,YACpBkO,EAAWlO,EAEPoP,GAAY3Q,GAChByP,OAAW5O,EAEP+P,GAAaC,UACjB7Q,EAAEb,iBACFa,EAAEX,kBAEF,MAAMyR,GAAe,OAAE,uDAEnBpB,EAAKqB,MAAKC,GAAOA,IAAQhR,EAAEuB,WACxBuP,EAAa9W,QAOZ8W,EAAaC,MAAKE,GAAQA,GAAQjR,EAAEuB,WAAY2P,GAAYlR,IAC9D8Q,EAAalT,SAAQqT,GACnBE,GAAYF,KAEhBH,EAAalT,SAAQ,CAACoT,EAAK9Z,IACzBka,GAAYJ,EAAK9Z,OAXdga,GAAYlR,IACfmR,GAAYnR,EAAEuB,QAEhB6P,GAAYpR,EAAEqR,cAAe,IAUjC,EAGIC,GAActR,IAClBA,EAAEX,kBACF,MAAMyR,GAAe,OAAE,uDAElBA,EAAaC,MAAKE,GAAQA,IAASjR,EAAEuB,SAGxCuP,EAAalT,SAAQqT,GAAQM,GAAeN,KAF5CM,GAAevR,EAAEuB,QAInBiQ,IAAa,EAGTC,GAASZ,UACb7Q,EAAEX,kBACFW,EAAEb,iBAEF,MAAMuS,QAAaC,GAAgBlC,EAAUzP,GAE7C,GAAI0R,EAAK1X,OAAQ,CACf,MAAM4X,GAAiB,OAAE,uDACnBC,EAAiBC,GAAuBF,EAAgB5R,GAE9D,GAAI6R,EAAa7X,OACf+X,GAAoBF,EAAcH,OAE/B,CACH,MAAMM,EAAWC,GAA0BvC,EAAM1P,GACjDkS,GAAuBF,EAAUN,EAAK,GACxC,CACF,CAEAF,IAAa,EAGTG,GAAkBd,MAAOpB,EAAUzP,IACnCyP,EACK,CAACA,EAAS0C,YAEZnS,EAAEoS,aAAaC,MAAMrY,aACpBkW,QAAQoC,IAAI,IAAItS,EAAEoS,aAAaC,OACpCzS,QAAOqQ,GAAQA,EAAK/P,KAAKgK,SAAS,WAClChM,IAAI8R,IACH,GAGA8B,GAAyB,CAACS,EAAUvS,IACxCuS,EAASvY,OAASuY,EACQ,QAAtBvS,EAAEuB,OAAOiR,UAAuBD,EAASvY,OACzC,GADkD,CAACgG,EAAEuB,QAGrDwQ,GAAsB,CAACU,EAAQf,KACnC,IAAIxa,EAAI,EACRub,EAAO7U,SAAQoT,IACb0B,GAAiB1B,GACjB2B,GAAmB3B,EAAKU,EAAKxa,IAC7BA,IAAMA,EAAIwa,EAAK1X,SAChB,EAGG2Y,GAAqB,CAAC3B,EAAK4B,KAC/B5B,EAAI4B,IAAMA,EACS,KAAf5B,EAAI6B,SACN7B,EAAI6B,OAASD,GAEf,MAAME,EAAUC,GAA0B/B,GAEtC8B,EAAQ9Y,QACV8Y,EAAQlV,SAAQoV,GACdA,EAAOH,OAASD,GAAG,EAGnBX,GAA4B,CAACQ,EAAQzS,IACzCyS,EAAO7S,QAAOoR,GACZA,EAAIiC,SAASjT,EAAEuB,UAEb2Q,GAAyB,CAACO,EAAQG,IACtCH,EAAO7U,SAAQoT,IACb0B,GAAiB1B,GACmC,QAAhDtX,OAAOwM,iBAAiB8K,GAAKkC,kBAC/BlC,EAAInM,MAAMqO,gBAAkB,OAAON,KAAG,IAGtCG,GAA4B/B,GAChCjP,MAAMoR,KAAKnC,EAAIoC,cAAcnH,UAC1BrM,QAAOyT,GACe,WAArBA,EAAQb,WACT5S,QAAOoT,IACLA,EAAOM,OAAS5Z,OAAO6Z,WAAWP,EAAOM,OAAOE,UAEjDpC,GAAc,CAACH,EAAM/Z,KACzB,IAAK0Y,EAAMC,SAAU,OAErB,MAAMjE,EAAUqF,EAAKjN,wBACfyP,EAAU9D,EAASzY,GAErBuc,EACFA,EAAQtP,OAASyH,GAGjB+D,EAASzY,GAAK0J,SAASwJ,cAAc,yBACrCuF,EAASzY,GAAGyM,SAAWiI,EACvBhL,SAASgG,KAAKpC,YAAYmL,EAASzY,IACrC,EAGIsa,GAAe,KACnB7B,EAAS/R,SAAQ6V,GACfA,EAAQC,WACV/D,EAAW,EAAC,EAGRgE,GAAuB/P,IAC3B,MAAMgQ,EAAY,2CAElB,OAAO,OAAE,KAAK7F,QAAO,CAAC8F,EAAY5C,KAChC,MAAM6C,GAAO,IAAApF,UAASuC,EAAM,oBAM5B,OALc2C,EAAUG,KAAKD,IAGlBD,EAAW9c,KAAKka,GAEpB4C,IACN,GAAE,EAGD1C,GAAcN,MAAOI,IACzB,IAAK,CAAC,UAAU,aAAa,eAAe,uBAAuBF,MAAK+C,GAAQ7C,EAAK6C,KAAO,CAC1F,MAAME,EAASvE,EAAS0C,WAC8B,SAAlDzY,OAAOwM,iBAAiB+K,GAAMiC,iBAChCjC,EAAKgD,oBAAsBva,OAAOwM,iBAAiB+K,GAAMiC,gBACzDjC,EAAKpM,MAAMqO,gBAAkB,OAAOc,OAEpCE,GAAgBjD,GAChB0B,GAAmB1B,EAAM+C,GAE7B,GAGIE,GAAkBC,IACtBA,EAAMC,QAAaD,EAAMvB,IACzBuB,EAAME,WAAaF,EAAMtB,OAEzB,MAAMyB,EAAavB,GAA0BoB,GAEzCG,EAAUta,QACZsa,EAAU1W,SAAQ2W,IAChBA,EAAIF,WAAaE,EAAI1B,OACrB0B,EAAIH,QAAUG,EAAI3B,MAEtB,EAGIrB,GAAiBN,IACjBA,EAAKmD,UACPnD,EAAK2B,IAAM3B,EAAKmD,SAEdnD,EAAKoD,aACPpD,EAAK4B,OAAS5B,EAAKoD,YAErB,MAAMvB,EAAUC,GAA0B9B,GACtC6B,EAAQ9Y,QACV8Y,EAAQlV,SAAQoV,IACVA,EAAOqB,aACTrB,EAAOH,OAASG,EAAOqB,YACrBrB,EAAOoB,UACTpB,EAAOJ,IAAMI,EAAOoB,YAGtBnD,EAAKgD,sBACPhD,EAAKpM,MAAMqO,gBAAkBjC,EAAKgD,qBAEpCvB,GAAiBzB,EAAI,EAGjByB,GAAmBzB,IACvB,CAAC,UAAU,aAAa,uBAAuBrT,SAAQkW,GACrD7C,EAAK6C,GAAQ,OAEf,MAAMhB,EAAUC,GAA0B9B,GAEtC6B,GACFA,EAAQlV,SAAQoV,IACdA,EAAOqB,WAAa,KACpBrB,EAAOoB,QAAU,OAErB,EAGIlD,GAAclR,GAClBA,EAAEoS,aAAaoC,MAAMzD,MAAK7Q,GAAiB,UAATA,IChR9B,GAAa,qBACb,GAAQ,CACZuU,KAAM,CACJ7B,IAAY,KACZ8B,OAAY,KACZC,UAAY,GACZC,SAAY,IAAIC,IAChBC,SAAY,IAAID,KAElB3F,MAAO,CACL6F,UAAW,GACXC,UAAW,KA+DR,MAAMC,GAAiBrR,GAAMA,EAAGsR,uBAC1BC,GAAiBvR,GAAMA,EAAGwR,mBAC1BC,GAAiBzR,GAAMA,EAAGwR,oBAAsBxR,EAAGwR,mBAAmBnJ,SAASjS,OAC/Esb,GAAiB1R,IAAOA,EAAGwR,oBAAsBxR,EAAG2R,YAAc3R,EAAG2R,WAAWA,WAChFC,GAAiB5R,GAAMA,EAAG2R,YAAc3R,EAAG2R,WAAWA,WAEtDE,GAAS,EAAE7R,KAAI8R,SAAQ,KAClC9R,EAAG2R,WAAWA,WAAWI,aAAa/R,EACpCA,EAAG2R,WAAWA,WAAWtJ,SACvByJ,GACI,IAAAE,cAAahS,GAAM,GACnB,IAAAgS,cAAahS,KAEhB,SAASiS,GAAUC,GACxB,IAAKA,EAAU9b,OACb,OAEF+b,KAEA,MAAOnD,GAAekD,GAChB,WAACP,GAAe3C,EAEhBoD,EAAwB,IAAIT,EAAWpN,iBAAiB,aAAe,EAAA8N,UAEvEC,EAA6C,IAArBJ,EAAU9b,OAClCmc,EAAwBH,EAAsBhc,QAAU,EACxDoc,EAAwBxD,aAAeyD,WAEzCH,GAAmBC,GAAuBC,IAG9CJ,EAAsBpY,SAAQyV,GAC5B,GAAMoB,KAAKG,SAAS0B,IAAIjD,EAASkD,GAAalD,MAEhD,GAAMoB,KAAKC,OAAaa,EACxB,GAAMd,KAAKE,UAAa6B,GAAejB,GAEvCkB,GAAU,GAAMhC,KAAKC,QACvB,CAEA,MAAM+B,GAAYxF,IAChB,MAAMyF,GAAQ,OAAEzF,GAEhByF,EAAMnO,GAAG,aAAcoO,IACvBD,EAAMnO,GAAG,YAAaqO,IACtBF,EAAMnO,GAAG,OAAQoO,IAEjB,GAAMlC,KAAKG,SAAShX,SAAQ,CAACiZ,EAAMxD,KACjCA,EAAQzO,aAAa,aAAa,IAClC,OAAEyO,GAAS9K,GAAG,WAAYuO,KAC1B,OAAEzD,GAAS9K,GAAG,aAAcwO,KAC5B,OAAE1D,GAAS9K,GAAG,aAAcyO,GAAe,GAC5C,EAGGC,GAAchG,IAClB,MAAMyF,GAAQ,OAAEzF,GAEhByF,EAAMlO,IAAI,aAAcmO,IACxBD,EAAMlO,IAAI,YAAaoO,IACvBF,EAAMlO,IAAI,OAAQmO,IAElB,GAAMlC,KAAKG,SAAShX,SAAQ,CAACiZ,EAAMxD,KACjCA,EAAQxF,gBAAgB,cACxB,OAAEwF,GAAS7K,IAAI,WAAYsO,KAC3B,OAAEzD,GAAS7K,IAAI,aAAcuO,KAC7B,OAAE1D,GAAS7K,IAAI,aAAcwO,GAAe,GAC7C,EAGGJ,GAAY,EAAErV,aACb,GAAMkT,KAAKG,SAASsC,IAAI3V,KAG7B,GAAMkT,KAAK7B,IAAMrR,EACjB,GAAM2N,MAAM6F,UAAUhe,KAAKogB,GAAiB5V,IAC5C,GAAMkT,KAAKG,SAASwC,IAAI7V,GAAQsD,MAAMwS,QAAU,IAEhD9V,EAAOqD,aAAa,0BAA0B,GAC9C0S,GAAU/V,IAEV,OAAE,uBAAuB3D,SAAQgG,IAC9BA,EAAG2T,aAAa,iCAAmC3T,EAAG8P,WAAQ,EAG7DoD,GAAW9W,IAEZ,GAAMyU,KAAK7B,MACZ,GAAM6B,KAAKK,SAASsC,IAAIpX,EAAEuB,UAC1BvB,EAAEuB,OAAOgW,aAAa,2BACrB,GAAM9C,KAAKG,SAASsC,IAAIlX,EAAEqR,gBAC3BrR,EAAEqR,gBAAkBrR,EAAEuB,SAGxB,GAAMkT,KAAKK,SAASwB,IAAItW,EAAEuB,QAAQ,IAClC,IAAAiW,cAAa,GAAM/C,KAAK7B,IAAK5S,EAAEuB,QAE/BkW,YAAW,IACT,GAAMhD,KAAKK,SAASxZ,OAAO0E,EAAEuB,SAC7B,KAAG,EAGDoV,GAAW3W,IACV,GAAMyU,KAAK7B,MAEhB,GAAM6B,KAAK7B,IAAI/E,gBAAgB,0BAC/B6J,GAAY,GAAMjD,KAAK7B,KAEnB,GAAM6B,KAAKG,SAASsC,IAAI,GAAMzC,KAAK7B,OACrC,GAAM6B,KAAKG,SAASwC,IAAI,GAAM3C,KAAK7B,KAAK/N,MAAMwS,QAAU,MAE1D,GAAMnI,MAAM6F,UAAUnX,SAAQ+Z,GAC5BA,EAAKjE,WAEP,GAAMe,KAAK7B,IAAM,OAGbmE,GAAiB,EAAExV,aAClB,GAAMkT,KAAKG,SAASsC,IAAI3V,IAG7B,GAAMkT,KAAKG,SAASwC,IAAI7V,GACrBoM,eAAe,CAACC,UAAS,GAAK,EAG7BoJ,GAAkB,EAAEzV,aACnB,GAAMkT,KAAKG,SAASsC,IAAI3V,IAG7B,GAAMkT,KAAKG,SAASwC,IAAI7V,GACrBoM,eAAe,CAACC,UAAS,GAAM,EAG9B0J,GAAY,EAAEzS,YAClBA,EAAM6B,WAAc,wBACpB7B,EAAMwS,QAAc,KAGhBK,GAAc,EAAE7S,YACpBA,EAAM6B,WAAc,KACpB7B,EAAMwS,QAAc,MAGhBF,GAAmBvT,IACvB,MAAM+T,EAAO/W,SAASwJ,cAAc,yBAEpCuN,EAAKhU,SAAW,CAACC,MACjBhD,SAASgG,KAAKpC,YAAYmT,GAE1B,MAAMC,EAAW,IAAIC,kBAAiBC,GACpCH,EAAKhU,SAAW,CAACC,QASnB,OAPAgU,EAASG,QAAQnU,EAAG2R,WAAY,CAC9ByC,WAAW,EACXC,SAAS,IAGX,GAAM/I,MAAM8F,UAAUje,KAAK6gB,GAEpBD,GAGHpB,GAAe3S,IACnB,MAAMiT,EAAOjW,SAASwJ,cAAc,sBAEpCyM,EAAKlT,SAAW,CAACC,MACjBhD,SAASgG,KAAKpC,YAAYqS,GAE1B,MAAMe,EAAW,IAAIC,kBAAiBC,GACpCjB,EAAKlT,SAAW,CAACC,QASnB,OAPAgU,EAASG,QAAQnU,EAAG2R,WAAY,CAC9ByC,WAAW,EACXC,SAAS,IAGX,GAAM/I,MAAM8F,UAAUje,KAAK6gB,GAEpBf,GAGHL,GAAiB9B,IACrB,MAAMxF,EAAQtO,SAASwJ,cAAc,uBAC/BD,EAAQvJ,SAASwJ,cAAc,uBAErC8E,EAAMvL,SAAW,CAACC,GAAG8Q,GACrBxF,EAAMtK,aAAa,gCAAgC,GAEnDuF,EAAMtB,KAAO,cACbsB,EAAMxG,SAAW,CAACyF,aAAcsL,EAAO1Q,yBACvCmG,EAAMtF,MAAMC,YAAY,aAAc,uBAEtClE,SAASgG,KAAKpC,YAAY0K,GAC1BtO,SAASgG,KAAKpC,YAAY2F,GAE1B,MAAMyN,EAAW,IAAIC,kBAAiBC,IACpC5I,EAAMvL,SAAW,CAACC,GAAG8Q,GACrBvK,EAAMxG,SAAW,CAACyF,aAAcsL,EAAO1Q,wBAAuB,IAUhE,OAPA4T,EAASG,QAAQrD,EAAQ,CACvBsD,WAAW,EACXC,SAAS,IAGX,GAAM/I,MAAM8F,UAAUje,KAAK6gB,GAEpB,CAAC1I,EAAM/E,EAAK,EAGd,SAAS4L,KACdkB,GAAY,GAAMxC,KAAKC,QAEvB,GAAMxF,MAAM8F,UAAUpX,SAAQga,GAC5BA,EAASM,eAEX,GAAMhJ,MAAM6F,UAAUnX,SAAQ+Z,GAC5BA,EAAKjE,WAEP,GAAMe,KAAKG,SAAShX,SAAQ,CAACiZ,EAAMxD,IACjCwD,EAAKnD,WAEP,GAAMe,KAAKE,UAAU/W,SAAQua,GAC3BA,EAAGzE,WAEL,GAAMxE,MAAM8F,UAAY,GACxB,GAAM9F,MAAM6F,UAAY,GACxB,GAAMN,KAAKE,UAAa,GACxB,GAAMF,KAAKG,SAASja,OACtB,CAEA,MAAMyd,GAAiBxU,IACrB,IAAIyU,EAAU,GAEVpD,GAAYrR,KAAMyU,GAAW,KAC7BlD,GAAavR,KAAKyU,GAAW,KAC7BhD,GAAYzR,KAAMyU,GAAW,KAC7B7C,GAAU5R,KAAQyU,GAAW,KAEjCA,GAAWC,QAAQrW,KAAK,KAAKoW,EAAS,mBAAkB,E,cCvT1D,IAAIE,GAGJ,MAAMC,GAAc5X,SAASwJ,cAAc,OAC3CoO,GAAYC,UAAUC,IAAI,UAC1BF,GAAY1U,UAAY,2JAGlB,MAAY,EACT,wPAOA,+WAiBT,MAAM6U,IAAgB,OAAEH,IAClBI,IAAgB,OAAE,QAASJ,IAG3BK,GAAgB,IAAMF,GAAOG,KAAK,QAAS,gBAC3CC,GAAgB/Y,GAAc,UAATA,EAAEnG,KAAmBmG,EAAEX,kBC3ClD,MAAM,GAAQ,CACZ2Z,UAAY,GACZzX,OAAY,MA8IP,SAAS0X,KACT,GAAMD,aAEX,OAAE,oBAAoBpb,SAAQgG,GAC5BA,EAAGiK,gBAAgB,oBAErB,GAAMmL,UAAUpb,SAAQqT,GAAQA,EAAKyC,WACrC,GAAMsF,UAAY,GACpB,CAEO,SAASE,KACd,MAAMF,EAAY,IAAI,GAAMA,WAE5B,OADA,GAAMA,UAAY,GACXA,CACT,CC7JA,MAAM,GAAa,qBAChB5e,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,SAAaA,WAAeA,eAAmBA,KAC5D,IACD4U,UAAU,GAEP,GAAiB,GAAG,EAAAvR,cAAc,EAAAA,oBAAoB,EAAAA,gBAAgB,EAAAA,qBA0BrE,SAASyc,GAAW/K,EAAKC,GAC9BD,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,WAAY,IAAA0J,SAAQF,GAC9BG,QAAUC,UAAS,IAAAC,UAAS9K,EAAI,WAAY,IAAA2K,SAAQF,IAAa,IACjEM,OAAUN,EAAUjU,MAAM,KAAK8P,SAAS,SAAW,GAAK,EACxD0E,SAAUP,EAAUjU,MAAM,KAAK8P,SAAS,WAEzChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBsM,QAAStM,EAAQ8B,SACb9B,EAAQ0B,QAAU1B,EAAQ6B,OAC1B7B,EAAQ0B,QAAU1B,EAAQ6B,WAEjC/Q,SAAQ,EAAEgG,KAAIiB,QAAOuU,aACpBxV,EAAGiB,MAAMA,GAAS,GAAGuU,EAAU,EAAI,EAAIA,OAC7C,CAaA,SAAS,GAAiBhL,GACxBA,EAAIxQ,SAAQgG,IACV,MAAMoL,EAAWpL,EAAGH,aAAa,iBAEjC7C,SACG0D,cAAc,wCAAwC0K,OACtD9K,SAAW,CACVvD,QAAU0Y,GAAoBzV,GAC9BO,OAAUkV,GACZ,GAEN,CAYO,SAASA,GAAoBzV,EAAIsL,GAAQ,GAC9C,MAAMjC,EAAoBrJ,EAAGI,wBACvBmL,GAAoB,IAAAT,UAAS9K,EAAI,WACjCwL,EAAoBxO,SAASwJ,cAAc,0BAEjD,GAAwB,QAApB+E,EAA2B,CAC7B,MAAMjC,EAAQ,CACZvI,KAAQ,IAAA+J,UAAS9K,EAAI,cACrBzI,OAAQ,IAAAuT,UAAS9K,EAAI,gBACrBwJ,QAAQ,IAAAsB,UAAS9K,EAAI,iBACrB3I,MAAQ,IAAAyT,UAAS9K,EAAI,gBAGvB9E,OAAOuQ,QAAQnC,GAAOtP,SAAQ,EAAE0R,EAAMC,MACjB,iBAARA,IACTA,EAAMd,UAAS,IAAAC,UAAS9K,EAAI,WAAc0L,GAAMvV,MAAM,GAAI,KAE5DmT,EAAMoC,GAAQjE,KAAKqB,MAAuB,IAAjB6C,EAAIC,QAAQ,IAAY,OAGnDJ,EAAWzL,SAAW,CACpBZ,KAAM,UACN6G,MAAOsF,EAAQ,SAAW,OAC1BjC,SACAC,QAEJ,CAEA,OAAOkC,CACT,CCwDO,MAAMkK,GAAuB1P,IAClC,IAAI2P,EAAW3P,EAAM4P,QAMrB,OAJAD,EAAWA,EAASE,SAChBF,EAASG,QAAQ,IACjBH,EAASI,OAAO,IAEbJ,EAASK,aAAY,EAGjBC,GAAmBjQ,IAC9B,MAAMkQ,EAASlQ,EAAMxP,MAAM,KAE3B,GAAsB,IAAlB0f,EAAO9f,OAAc,CACvB,IAAIqd,EAAUyC,EAAOC,MAGrB,OAFAD,EAAO,GAAKA,EAAO,GAAG3f,QAAQ,OAAO,OACrC2f,EAAO,GAAKA,EAAO,GAAG3f,QAAQ,OAAO,OAC9B2f,EAAOpZ,KAAK,KAAO,MAAM2W,GAClC,CAEE,OAAOyC,EAAOpZ,KAAK,IACrB,EC1LI,GAAQ,CACZsZ,OAAQ,CACNC,IAAM,KACN1Y,OAAQ,MAEV2Y,KAAM,IAAIrF,KAGNsF,GAAU,CACd,IAAO,cACP,IAAO,cACP,IAAO,eAGHC,GAAW,CAAC,EAqBlB,MAAMC,GAAYra,IAChB,MAAMuB,GAAS,IAAA+Y,sBAAqBta,EAAEkH,QAASlH,EAAEsH,UAE7C,IAAAiT,aAAYhZ,IAA+B,sBAApBA,EAAOiR,UAAoCjR,EAAOgW,aAAa,gBACpF,GAAMyC,OAAOC,MACfO,GAAK,CACHP,IAAK,GAAMD,OAAOC,IAClBja,EAAG,CAACuB,OAAQ,GAAMyY,OAAOzY,UAE3BkZ,MAKJC,GAAQnZ,EAAQvB,EAAC,EAGZ,SAAS0a,GAAQnZ,EAAQvB,GAC9B,GAAK,GAAMga,OAAOC,IAUT1Y,GAAU,GAAMyY,OAAOzY,SAK9BwC,GAAOxC,EAAQ,GAAMyY,OAAOC,KAC5B,GAAMD,OAAOzY,OAASA,GAJtBoZ,GAAY,GAAMX,OAAOC,IAAKja,OAZT,CACrB,MAAMia,EAAMlW,GAAOxC,GACnBX,SAASgG,KAAKpC,YAAYyV,GAE1BU,GAAYV,EAAKja,GACjB+X,GAAQ,CAACkC,MAAK1Y,WAEd,GAAMyY,OAAOC,IAASA,EACtB,GAAMD,OAAOzY,OAASA,CACxB,CAUF,CAEO,SAASoZ,GAAYV,EAAKja,GAC/B,MAAM,MAAE4a,EAAK,KAAEC,GAASC,GAAe9a,IACjC,KAAE/E,EAAI,IAAE0J,GAAUoW,GAAad,EAAKja,EAAG4a,EAAOC,GAEpDZ,EAAIpV,MAAM5J,KAAQA,EAClBgf,EAAIpV,MAAMF,IAAQA,EAElBsV,EAAIpV,MAAMC,YAAY,UAAW8V,EAC7B,kBACA,qBAEJX,EAAIpV,MAAMC,YAAY,cAAgB8V,EAElC,OADA,QAGJX,EAAIpV,MAAMC,YAAY,eAAgB+V,EAClC,2BACA,OACN,CAEA,MAAMG,GAAoB,KACxB,GAAMd,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACzB0Y,EAAIpV,MAAMmF,QAAU,QACpBjG,GAAOxC,EAAQ0Y,GACflC,GAAQ,CAACkC,MAAK1Y,UAAO,GACtB,EAeI,SAAS0Z,KACd,GAAMf,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACzB0Y,GAAOA,EAAIvG,SACXwH,GAAU,CAACjB,MAAK1Y,UAAO,KAGzB,OAAE,yBAAyB3D,SAAQqc,GACjCA,EAAIvG,YAEN,OAAE,kBAAkBoF,KAAK,eAAgB,MAEzC,GAAMoB,KAAKvf,OACb,CAEA,MAAMoJ,GAAS,CAACH,EAAIqW,EAAMrZ,SAASwJ,cAAc,4BAC/C,MAAM,MAAE3F,EAAK,OAAEC,GAAWd,EAAGI,wBACvBmX,EAAYhB,IAAQ,OAAE,iBAAiBrB,KAAK,eAE5C1hB,GAAS,IAAAgkB,WAAUxX,GACtB1F,KAAI2G,GAAS/F,OAAO+P,OAAOhK,EAAO,CACjCiP,MAAM,IAAAuH,aAAYxW,EAAMiP,UAEzBlU,QAAOiF,IACNA,EAAMiP,KAAK5J,SAAS,gBAChBtG,EAAG4P,QAAQ,yLAGhBtV,KAAI2G,IAOH,IANIA,EAAMiP,KAAK5J,SAAS,UAAYrF,EAAMiP,KAAK5J,SAAS,qBAAuBrF,EAAMiP,KAAK5J,SAAS,iBAAmBrF,EAAMiP,KAAK5J,SAAS,UAAYrF,EAAMiP,KAAK5J,SAAS,SAAWrF,EAAMiP,KAAK5J,SAAS,aACvMrF,EAAMyW,MAAQ,mDAC0BzW,EAAMyW,gDACxBzB,GAAiB,IAAI,IAAUhV,EAAMyW,OAAOH,0BAGhEtW,EAAMiP,KAAK5J,SAAS,cAAe,CACrC,MAAO,CAAEN,EAAO1M,EAAG2B,EAAG0c,EAAMC,IAAU,IAAAC,iBAAgB5W,EAAMyW,OAC5DzW,EAAMyW,MAAQ,GAAGzB,GAAiB,IAAI,IAAUjQ,GAAOuR,SAAiBje,KAAK2B,KAAK0c,KAAQC,GAC5F,CAEA,GAAI3W,EAAMiP,KAAK5J,SAAS,eAAgB,CACtC,MAAO,CAAEN,EAAO1M,EAAG2B,EAAG0c,IAAQ,IAAAG,qBAAoB7W,EAAMyW,OACxDzW,EAAMyW,MAAQ,GAAGzB,GAAiB,IAAI,IAAUjQ,GAAOuR,SAAiBje,KAAK2B,KAAK0c,GACpF,CAeA,OAbI1W,EAAMiP,KAAK5J,SAAS,iBACtBrF,EAAMyW,MAAQ,uBAAsB,IAAAK,2BAA0B9W,EAAMyW,iBAElEzW,EAAMiP,KAAK5J,SAAS,yBACtBrF,EAAMyW,MAAQzW,EAAMyW,MAAMnhB,QAAQ,OAAQ,WAExC0K,EAAMiP,KAAK5J,SAAS,sBACtBrF,EAAMyW,MAAQ,4BAA4BzW,EAAMyW,MAAMvhB,MAAM8K,EAAMyW,MAAMpiB,QAAQ,KAAO,EAAG2L,EAAMyW,MAAMthB,OAAS,OAAO6K,EAAMyW,MAAMvhB,MAAM,EAAE,IAAM,aAG9I6J,EAAGH,aAAa,UAAYG,EAAGH,aAAa,SAASyG,SAASrF,EAAMiP,QACtEjP,EAAMyW,MAAQ,sBAAsBzW,EAAMyW,gBAErCzW,KAGL+W,EAAqBxkB,EAAOwI,QAAOiF,GACvCjB,EAAGH,aAAa,UAAYG,EAAGH,aAAa,SAASyG,SAASrF,EAAMiP,MAChE,EACA,IAEA+H,EAAwBzkB,EAAOwI,QAAOiF,GAC1CjB,EAAGH,aAAa,UAAYG,EAAGH,aAAa,SAASyG,SAASrF,EAAMiP,MAChE,EACA,IAUN,OARAmG,EAAI6B,KAAO,CACTlY,KACAa,QACAC,SACAkX,qBACAC,yBAGK5B,GAGHa,GAAiB9a,IAAK,CAC1B4a,MAAO5a,EAAEsH,QAAU5N,OAAOuR,YAAc,EACxC4P,KAAO7a,EAAEkH,QAAUxN,OAAO2P,WAAa,IAGnC0R,GAAe,CAAC9J,EAAMjR,EAAG4a,EAAOC,KAAS,CAC7ClW,IAAK,GAAGiW,EACJ5a,EAAE+b,MAAQ9K,EAAK1J,aAAe,GAC9BvH,EAAE+b,MAAQ,OACd9gB,MAAS4f,EACL7a,EAAEgc,MAAQ/K,EAAK7J,YAAc,GAC7BpH,EAAEgc,MAAQ,IAFR,OAKFC,GAAa,EAAE1a,aACfA,EAAOgW,eAAiBhW,EAAOgW,aAAa,iBAAmB,GAAM2C,KAAKhD,IAAI3V,IAChFiZ,GAAK,GAAMN,KAAK9C,IAAI7V,GAAO,EAGzBiZ,GAAO,EAAEP,MAAKja,GAAGuB,cACrB0Y,EAAIvG,SACJwH,GAAU,CAACjB,MAAK1Y,WAChB,GAAM2Y,KAAK5e,OAAOiG,EAAM,EAGpB2a,GAAe9N,IACnB,GAAI,GAAM+N,UAAW,OAAO,GAAMA,WAAY,EAE9C,GAAMjC,KAAKtc,SAAQke,IACZ1N,EAAIlE,SAAS4R,EAAK9b,EAAEuB,UACvBua,EAAK9b,EAAEuB,OAAOsM,gBAAgB,gBAC9B2M,GAAK,GAAMN,KAAK9C,IAAI0E,EAAK9b,EAAEuB,SAC7B,IAGF6M,EACGxO,QAAOgE,IAAOA,EAAG2T,aAAa,kBAC9B3Z,SAAQgG,IACPA,EAAGgB,aAAa,gBAAgB,GAChC,GAAMsV,KAAK5D,IAAI1S,EAAI,CACjBqW,IAAK,GAAMD,OAAOC,IAClBja,EAAG,CAACuB,OAAOqC,KAEb6W,IAAY,GACf,EAoBG1C,GAAU,EAAEkC,MAAK1Y,cAGrB,OAAEA,GAAQgH,GAAG,iBAAkB0T,GAAU,EAGrCf,GAAY,EAAEjB,MAAK1Y,cAGvB,OAAEA,GAAQiH,IAAI,iBAAkByT,GAAU,EAGtCxB,GAAc,KAClB,GAAMT,OAAOC,IAAS,KACtB,GAAMD,OAAOzY,OAAS,M,aClRxB,MAAM,GAAQ,CACZyY,OAAQ,CACNC,IAAM,KACN1Y,OAAQ,MAEV2Y,KAAM,IAAIrF,KAqBZ,MAAM,GAAY7U,IAChB,MAAMuB,GAAS,IAAA+Y,sBAAqBta,EAAEkH,QAASlH,EAAEsH,UAE7C,IAAAiT,aAAYhZ,IAA6C,QAAlCA,EAAOiR,SAASrV,eAA+C,sBAApBoE,EAAOiR,UAAoCjR,EAAOgW,aAAa,gBAC/H,GAAMyC,OAAOC,MACf,GAAK,CACHA,IAAK,GAAMD,OAAOC,IAClBja,EAAG,CAACuB,OAAQ,GAAMyY,OAAOzY,UAE3B,MAKJ,GAAQA,EAAQvB,EAAC,EAGZ,SAAS,GAAQuB,EAAQvB,GAC9B,GAAK,GAAMga,OAAOC,IAUT1Y,GAAU,GAAMyY,OAAOzY,SAK9B,GAAOA,EAAQ,GAAMyY,OAAOC,KAC5B,GAAMD,OAAOzY,OAASA,GAJtB,GAAY,GAAMyY,OAAOC,IAAKja,OAZT,CACrB,MAAMia,EAAM,GAAO1Y,GACnBX,SAASgG,KAAKpC,YAAYyV,GAE1B,GAAYA,EAAKja,GACjB,GAAQ,CAACia,MAAK1Y,WAEd,GAAMyY,OAAOC,IAASA,EACtB,GAAMD,OAAOzY,OAASA,CACxB,CAUF,CAEO,SAAS,GAAY0Y,EAAKja,GAC/B,MAAM,MAAE4a,EAAK,KAAEC,GAAS,GAAe7a,IACjC,KAAC/E,EAAI,IAAE0J,GAAW,GAAasV,EAAKja,EAAG4a,EAAOC,GAEpDZ,EAAIpV,MAAM5J,KAAQA,EAClBgf,EAAIpV,MAAMF,IAAQA,EAElBsV,EAAIpV,MAAMC,YAAY,UAAW8V,EAC7B,kBACA,qBAEJX,EAAIpV,MAAMC,YAAY,qBAAsB8V,EACxC,mBACA,sBAEJX,EAAIpV,MAAMC,YAAY,cAAgB8V,EAElC,OADA,QAGJX,EAAIpV,MAAMC,YAAY,eAAgB+V,EAClC,2BACA,OACN,CAEA,MAAM,GAAoB,KACxB,GAAMX,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACzB0Y,EAAIpV,MAAMmF,QAAU,QACpB,GAAOzI,EAAQ0Y,GACf,GAAQ,CAACA,MAAK1Y,UAAO,GACtB,EAeI,SAAS,KACd,GAAM2Y,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACzB0Y,GAAOA,EAAIvG,SACX,GAAU,CAACuG,MAAK1Y,UAAO,KAGzB,OAAE,yBAAyB3D,SAAQqc,GACjCA,EAAIvG,YAEN,OAAE,kBAAkBoF,KAAK,eAAgB,MAEzC,GAAMoB,KAAKvf,OACb,CAEA,MAAM,GAAS,CAACiJ,EAAIqW,EAAMrZ,SAASwJ,cAAc,yBAC/C,MAAMgS,EAAmBC,GAAuBzY,GAC1C0Y,GAAkB,IAAAC,UAAS3Y,GAkBjC,OAhBA0Y,EAAgBpe,KAAIse,GAClBA,EAAK1I,KAAK5J,SAAS,OACfsS,EAAKlB,MAAQ,cAAckB,EAAKlB,eAChCkB,IAENF,EAAgBpe,KAAIse,GAClBA,EAAK1I,KAAK5J,SAAS,SACfsS,EAAKlB,MAAQ,uBAAuBkB,EAAKlB,eACzCkB,IAENvC,EAAI6B,KAAO,CACTlY,KACA0Y,kBACAF,oBAGKnC,GAGHoC,GAAyBzY,IAG7B,MAAM6Y,EAAa7Y,aAAcyS,YAC5B,IAAA3H,UAAS9K,EAAI,UAAW,IAAA8K,UAAS9K,EAAI,WACtC,IAAA8K,UAAS9K,EAAI,SAEX8Y,EAAqC,WAAzB,IAAAC,kBAAiB/Y,GAC/B,KACA,MAEJ,IAAIgZ,GAAc,IAAAC,4BAA2BjZ,GACzCkZ,EAAY,wQAKZC,EAAY,0VAMhB,MAAQC,EAAaC,GAAiB,EACpC,SAAWL,EAAYH,EAAY,CAAES,MAAO,KAAMC,MAAM,IAAAR,kBAAiB/Y,GAAI3K,iBAC7E,SAAW2jB,EAAYH,EAAY,CAAES,MAAO,MAAOC,MAAM,IAAAR,kBAAiB/Y,GAAI3K,iBAGhF,OAAOwjB,IAAeG,EAClB,+DACA,0IAIoBvR,KAAK+R,MAA6C,KAAvC,EAAAC,GAAA,IAAYT,EAAYH,IAAsB,gMAMzCO,EAAc,OAAS,YAAYA,EAAcF,EAAYC,mCAC/EL,kGAGkBO,EAAe,OAAS,YAAYA,EAAeH,EAAYC,oCAChFL,gGAAQ,EAQ3B,GAAiB1c,IAAK,CAC1B4a,MAAO5a,EAAEsH,QAAU5N,OAAOuR,YAAc,EACxC4P,KAAO7a,EAAEkH,QAAUxN,OAAO2P,WAAa,IAGnC,GAAe,CAAC4H,EAAMjR,EAAG4a,EAAOC,KAAS,CAC7ClW,IAAK,GAAGiW,EACJ5a,EAAE+b,MAAQ9K,EAAK1J,aAAe,GAC9BvH,EAAE+b,MAAQ,OACd9gB,MAAS4f,EACL7a,EAAEgc,MAAQ/K,EAAK7J,YAAc,GAC7BpH,EAAEgc,MAAQ,IAFR,OAKF,GAAa,EAAEza,cACdA,EAAOgW,aAAa,iBAAmB,GAAM2C,KAAKhD,IAAI3V,IACzD,GAAK,GAAM2Y,KAAK9C,IAAI7V,GAAO,EAGzB,GAAO,EAAE0Y,MAAKja,GAAGuB,cACrB0Y,EAAIvG,SACJ,GAAU,CAACuG,MAAK1Y,WAChB,GAAM2Y,KAAK5e,OAAOiG,EAAM,EAGpB,GAAe6M,IACnB,GAAI,GAAM+N,UAAW,OAAO,GAAMA,WAAY,EAE9C,GAAMjC,KAAKtc,SAAQ4e,IACZpO,EAAIlE,SAASsS,EAAKxc,EAAEuB,UACvBib,EAAKxc,EAAEuB,OAAOsM,gBAAgB,gBAC9B,GAAK,GAAMqM,KAAK9C,IAAIoF,EAAKxc,EAAEuB,SAC7B,IAGF6M,EACGxO,QAAOgE,IAAOA,EAAG2T,aAAa,kBAC9B3Z,SAAQgG,IACPA,EAAGgB,aAAa,gBAAgB,GAChC,GAAMsV,KAAK5D,IAAI1S,EAAI,CACjBqW,IAAK,GAAMD,OAAOC,IAClBja,EAAG,CAACuB,OAAOqC,KAEb,IAAY,GACf,EAGG,GAAU,EAAEqW,MAAK1Y,cACrB,OAAEA,GAAQgH,GAAG,iBAAkB,GAAU,EAGrC,GAAY,EAAE0R,MAAK1Y,cACvB,OAAEA,GAAQiH,IAAI,iBAAkB,GAAU,EAGtC,GAAc,KAClB,GAAMwR,OAAOC,IAAS,KACtB,GAAMD,OAAOzY,OAAS,M,aCnPjB,SAAS+b,GAAWC,GACzB,MAAMC,EAAoB5c,SAASgG,KACnC,IAAI2L,EAAsB,GACtBkL,EAAsB,GACtBC,EAAsB,GACtBC,EAAsB,GAE1B,MAAMC,EAAoB,CACxBrc,OAAU,KACVZ,QAAU,KACVwJ,MAAU,MAGN0T,EAAa,CAAC,EAEdC,EAAwBla,IAC5B,IAAIma,EAAY,CAAC,EACjB,GAAyB,GAAtBna,EAAGqI,SAASjS,OAAf,CACA,IAAI,MAAMgkB,KAASpa,EAAGqI,SACpB,GAAG+R,EAAM/R,SAASjS,OAChB+jB,GAAU,SAAQC,IAAUF,EAAqBE,OAC5C,CACL,IAAIC,EACJ,IAAI,MAAMnK,KAAQkK,EACblK,EAAK5J,SAAS,gBAAe+T,EAAWnK,GAE1CmK,GAAYD,EAAMC,KACnBF,GAAU,SAAQC,IAAUA,EAAMC,GAAUC,cAAgBF,EAAMC,GAAUE,YAAYD,aACxFL,GAAW,SAAQG,IAAUA,EAAMC,GAAUC,cAAgBF,EAAMC,GAAUE,YAAYD,aAE7F,CAEF,OAAOH,CAfqB,CAerBA,EAGHA,EAAoBD,EAAqBld,SAASgG,MACxD0R,QAAQ8F,IAAI,CAAEL,YAAWF,eACzB,MAAQQ,UAAUC,cAAcT,GAEhC,MAyCMU,EAAWve,IACf,MAAMwe,GAAU,IAAAlE,sBAAqBta,EAAEkH,QAASlH,EAAEsH,UAE9C,IAAAiT,aAAYiE,KAAajM,EAAS3S,QAAOgE,GAAMA,GAAM4a,IAASxkB,SAGlEgG,EAAEb,iBACGa,EAAEvD,QAAQuD,EAAEX,kBAEZW,EAAEzD,WACLkiB,EAAa,CAACC,QAAO,IACrBzF,MAGCjZ,EAAEzD,UAAYiiB,EAAQjH,aAAa,iBACpCoH,EAASH,EAAQ/a,aAAa,kBAE9Bmb,EAAOJ,GAAO,EAGZG,EAAW1nB,IACf,IAAIymB,KAAWC,GACZ/d,QAAOqR,GACJA,EAAKxN,aAAa,mBAAqBxM,IACxC2G,SAAQqT,GACPA,EAAKyC,WAEXnB,EAAS3S,QAAOqR,GACdA,EAAKxN,aAAa,mBAAqBxM,IACtC2G,SAAQqT,IACP,OAAEA,GAAM6H,KAAK,CACX,gBAAsB,KACtB,qBAAsB,KACtB,gBAAsB,KACtB,qBAA8B,KAC9B,iBAAsB,KACtB,eAAsB,SAG5BvG,EAAWA,EAAS3S,QAAOqR,GAAQA,EAAKxN,aAAa,mBAAqBxM,IAE1E4nB,GAAa,EAGTC,EAAc9e,IAClBA,EAAEb,iBACFa,EAAEX,mBACE,IAAAkb,aAAYva,EAAEuB,SAClBgc,EAAYwB,aAAa,OAAM,EAqE3BC,EAAUnO,UAEd,IAAInX,OAAOulB,eAAene,WAAW9G,QAGjCuY,EAAS,IAAM7Y,OAAOwlB,iBAAmB3M,EAAS,GAAI,CACxDvS,EAAEb,iBACF,IAAIuX,EAAQnE,EAAS,GAAG4M,WAAU,GAClCzI,EAAM7I,gBAAgB,iBAEtBnU,OAAO0lB,YAAc1I,EAAM2I,UAC3Brf,EAAEsf,cAAcC,QAAQ,YAAa7lB,OAAO0lB,aAE5C,MAAM,MAAExP,SAAgB7W,UAAUymB,YAAYC,MAAM,CAAEja,KAAM,oBAE9C,YAAVoK,SACI7W,UAAU2mB,UAAUC,UAAUjmB,OAAO0lB,YAC/C,GAGIQ,EAAS5f,IACb,GAAIuS,EAAS,IAAM7Y,OAAOwlB,iBAAmB3M,EAAS,GAAI,CACxD,IAAImE,EAAQnE,EAAS,GAAG4M,WAAU,GAClCzI,EAAM7I,gBAAgB,iBACtBnU,OAAO0lB,YAAc1I,EAAM2I,UAC3Brf,EAAEsf,cAAcC,QAAQ,YAAa7lB,OAAO0lB,aAC5C,MAAMxb,EAAK2O,EAAS,GACH,qBAAd3O,EAAGnC,SAAgD,mBAAdmC,EAAGnC,SAA8C,mBAAdmC,EAAGnC,SAA8C,sBAAdmC,EAAGnC,SAC/G,cAAgBoe,GAAG,CACjBC,gBAAgB,SAAQlc,EAAG2R,YAC3BwK,UAAU,SAAQnc,GAClBjD,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAWzb,EAAGyb,WAEhBW,OAAQ,WAIZzN,EAAS,GAAGmB,QACd,GAGIuM,EAAWpP,MAAO7Q,EAAG3F,EAAQ,KACjC,MAAM6lB,EAAWlgB,EAAEsf,cAAca,QAAQ,aACnCC,QAAwBrnB,UAAU2mB,UAAUW,WAC5CC,EAAgBJ,GAAYE,GAAmB1mB,OAAO0lB,YAExD7M,EAASvY,QAAUsmB,IACrBtgB,EAAEb,iBAEFoT,EAAS3U,SAAQ8W,IACf,MAAM9Q,GAAK,IAAA2c,iBAAgBD,GACtB1c,aAAc4c,UACnB9L,EAAOlQ,YAAYZ,GACF,qBAAdA,EAAGnC,SAAgD,mBAAdmC,EAAGnC,SAA8C,mBAAdmC,EAAGnC,SAA8C,sBAAdmC,EAAGnC,SAC/G,cAAgBoe,GAAG,CACjBC,gBAAgB,SAAQpL,GACxBqL,UAAU,SAAQnc,GAClBjD,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAWzb,EAAGyb,WAEhBW,OAAQ,QAGZ,IAEJ,EA8HIS,EAAezgB,KAAM,IAAAua,aAAYva,EAAEuB,SACpCgR,EAASvY,QACTuY,EAAS,GAAGzJ,aAAe9I,EAAEuB,OAAOuH,aACpC9I,EAAEb,iBAiDDuhB,EAAW9c,IACf,MAAM+c,EAAcpD,EAAYqD,WAChC,IAAIC,EAWJ,GAToB,kBAAhBF,GACF,KACAE,EAAa,IAEU,cAAhBF,IACP1F,KACA4F,EAAa,KAGVA,EAAY,OAEjB,MAAM,IAAClc,EAAG,KAAE1J,GAAQ2I,EAAGI,yBACjB,YAAE8G,EAAW,YAAED,GAAgBnR,OAErCmnB,EAAWjd,EAAI,CACb0D,QAAU3C,EACVuC,QAAUjM,EACV8gB,MAAUjR,EAAcnG,EAAM,GAC9BqX,MAAUnR,EAAc5P,EAAO,IAChC,EAGG6lB,EAAW9gB,IACf,MAAMwe,GAAU,IAAAlE,sBAAqBta,EAAEkH,QAASlH,EAAEsH,SAC5CyZ,EAAOxD,EAAYqD,WAEzB,IAAI,IAAArG,aAAYiE,IAAYA,EAAQjH,aAAa,kBAAoBiH,EAAQjH,aAAa,aAExF,OADA0B,KACO+H,IAcT,GAXAC,EAAe,CACbrd,GAAI4a,EAEJ0C,SACc,WAATH,GACS,kBAATA,GACS,WAATA,GACS,YAATA,GACS,cAATA,IAGM,WAATA,GAAqBxO,EAASvY,QAAU,IAAMuY,EAASrI,SAASsU,GAAU,CAC5EA,EAAQ5Z,aAAa,kBAAkB,GACvC,MAAOuc,GAAW5O,GL1fjB,UAA4B,QAAC4O,EAAO,QAAE3C,IAC3C,GAAI,GAAMjd,QAAUid,GAAW,GAAMxF,UAAUhf,OAAQ,OAClD,GAAMuH,OAASid,EAEhB,GAAMxF,UAAUhf,QAAQif,KAE5B,MAAMmI,EAAeD,EAAQnd,wBACvBqd,EAAe7C,EAAQxa,wBAEvB+I,EAAe,GAGjBqU,EAAajmB,MAAQkmB,EAAapmB,MACpC8R,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAajmB,MAChB0D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG8U,EAAapmB,KAAOmmB,EAAajmB,MACpCqR,EAAG,UAGH4U,EAAajmB,MAAQkmB,EAAalmB,OAASimB,EAAajmB,MAAQkmB,EAAapmB,MAC/E8R,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAajmB,MAChB0D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG8U,EAAalmB,MAAQimB,EAAajmB,MACrCqR,EAAG,UAKH4U,EAAanmB,KAAOomB,EAAalmB,OACnC4R,EAAahW,KAAK,CAChBmG,EAAGxD,OAAO2P,WAAa+X,EAAanmB,KACpC4D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG6U,EAAanmB,KAAOomB,EAAalmB,MACpCqR,EAAG,SAGH4U,EAAanmB,KAAOomB,EAAapmB,MAAQmmB,EAAanmB,KAAOomB,EAAalmB,OAC5E4R,EAAahW,KAAK,CAChBmG,EAAGxD,OAAO2P,WAAa+X,EAAanmB,KACpC4D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG6U,EAAanmB,KAAOomB,EAAapmB,KACpCuR,EAAG,SAKH4U,EAAazc,IAAM0c,EAAajU,QAClCL,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGwiB,EAAajU,OAChBb,EAAG6U,EAAazc,IAAM0c,EAAajU,OACnCZ,EAAG,MACHC,GAAG,IAGH2U,EAAazc,IAAM0c,EAAa1c,KAAOyc,EAAazc,IAAM0c,EAAajU,QACzEL,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGwiB,EAAa1c,IAChB4H,EAAG6U,EAAazc,IAAM0c,EAAa1c,IACnC6H,EAAG,MACHC,GAAG,IAKH2U,EAAahU,OAASiU,EAAa1c,KACrCoI,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGuiB,EAAahU,OAChBb,EAAG8U,EAAa1c,IAAMyc,EAAahU,OACnCZ,EAAG,SACHC,GAAG,IAGH2U,EAAahU,OAASiU,EAAajU,QAAUgU,EAAahU,OAASiU,EAAa1c,KAClFoI,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGuiB,EAAahU,OAChBb,EAAG8U,EAAajU,OAASgU,EAAahU,OACtCZ,EAAG,SACHC,GAAG,IAKH2U,EAAajmB,MAAQkmB,EAAalmB,OAASimB,EAAanmB,KAAOomB,EAAapmB,OAC9E8R,EAAahW,KAAK,CAChBmG,EAAGxD,OAAO2P,WAAa+X,EAAajmB,MACpC0D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG6U,EAAajmB,MAAQkmB,EAAalmB,MACrCqR,EAAG,SAELO,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAChB4D,EAAGuiB,EAAazc,IAAOyc,EAAa1c,OAAS,EAAK,EAClD6H,EAAG8U,EAAapmB,KAAOmmB,EAAanmB,KACpCuR,EAAG,WAKH4U,EAAazc,IAAM0c,EAAa1c,KAAOyc,EAAahU,OAASiU,EAAajU,SAC5EL,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGuiB,EAAazc,IAChB4H,EAAG8U,EAAa1c,IAAMyc,EAAazc,IACnC6H,EAAG,SACHC,GAAG,IAELM,EAAahW,KAAK,CAChBmG,EAAGkkB,EAAanmB,KAAQmmB,EAAa3c,MAAQ,EAAK,EAClD5F,EAAGwiB,EAAajU,OAChBb,EAAG6U,EAAahU,OAASiU,EAAajU,OACtCZ,EAAG,MACHC,GAAG,KAKPM,EACG7O,KAAIwP,GAAe5O,OAAO+P,OAAOnB,EAAa,CAC7CnB,EAAGlB,KAAKqB,MAAiC,IAA3BgB,EAAYnB,EAAEiD,QAAQ,IAAY,QAEjD5R,SAAQ8P,IACP,MAAM4T,EAAe1gB,SAASwJ,cAAc,0BAE5CkX,EAAa3d,SAAW,CACtB0I,WAAgBqB,EAChBnK,cAAgB,GAAMyV,UAAUhf,QAGlC4G,SAASgG,KAAKpC,YAAY8c,GAC1B,GAAMtI,UAAU,GAAMA,UAAUhf,QAAUsnB,IAEhD,CKkXMtU,CAAmB,CAACmU,UAAS3C,WAC/B,KACkB,WAATuC,GAAsBnD,EAAYjd,QAAQkC,QAAQyB,cAAc,0BAIvD,YAATyc,GAAuBnD,EAAYjd,QAAQkC,QAAQyB,cAAc,2BAIjEka,EAAQjH,aAAa,mBAAqBhF,EAASrI,SAASsU,KACnEvF,KAJA2E,EAAYjd,QAAQkC,QAAQ2B,YAC1B6U,GAAoBuE,EAAYrc,QAAQ,IAL1Cqc,EAAYjd,QAAQkC,QAAQ2B,YAC1ByK,EAAmB2O,EAAYrc,QAAQ,GAQ3C,EAGIqd,EAAShb,IACb,MAAM3M,EAAK0mB,EAAQ3jB,OACb+mB,EAAOxD,EAAYqD,WAEzBhd,EAAGgB,aAAa,iBAAiB,GACjChB,EAAGgB,aAAa,gBAAiB3N,GAEjC+pB,IAEAO,EAAc,CACZ3d,KACA3M,KACAiqB,SAAmB,cAATH,GAAiC,WAATA,GAA8B,kBAATA,IAGzDxO,EAASiP,QAAQ5d,GACjBib,GAAa,EAMTJ,EAAe,EAAEC,UAAS,GAAS,CAAC,KACxCnM,EACG3U,SAAQgG,IACP,OAAEA,GAAIkV,KAAK,CACT,gBAAsB,KACtB,qBAAsB,KACtB,gBAAsB,KACtB,qBAAsB,KACtB,eAAsB,UAG5B,OAAE,wBAAwBlb,SAAQsR,GAChCA,EAAMrB,gBAAgB,wBAExB9L,MAAMoR,KAAK,KACN,OAAE,6BACF,OAAE,2BACF,OAAE,2BACF,OAAE,4BACJvV,SAAQgG,GACTA,EAAG8P,WAELgK,EAAY,GACZC,EAAY,GACZpL,EAAY,IAEXmM,GAAUG,GAAa,EAGpB4C,EAAa,KACjB,MAAMC,EAAwBnP,EAASrU,KAAI0F,GACrCuR,GAAavR,GAAgBuR,GAAavR,GACrCqR,GAAYrR,GAAYqR,GAAYrR,GACpCA,EAAG2R,WAAqB3R,EAAG2R,gBAA/B,IAGPxT,MAAMoR,KAAK,IAAIZ,KAAamL,KAAWC,IAAU/f,SAAQgG,IACtC,qBAAdA,EAAGnC,SAAgD,mBAAdmC,EAAGnC,SAA8C,mBAAdmC,EAAGnC,SAA8C,sBAAdmC,EAAGnC,SAC/G,cAAgBoe,GAAG,CACjBC,gBAAgB,SAAQlc,EAAG2R,YAC3BwK,UAAU,SAAQnc,GAClBjD,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAWzb,EAAGyb,WAEhBW,OAAQ,WAIZpc,EAAG8P,QAAO,IAGZgK,EAAY,GACZC,EAAY,GACZpL,EAAY,GAEZmP,EAAsB9jB,SAAQgG,GAC5Bgb,EAAOhb,IAAG,EAGR+d,EAAkB,EAAElC,QAAOnN,OAAM,MACrC,GAAIA,GACkB,OAAEmN,EAAQ,yBAClB7hB,QAAQghB,OAEjB,CACH,MAAMgD,GAAa,OAAEnC,GACrB,IAAKmC,EAAY,OAEjB,MAAOC,GAAUtP,EACXuP,EAAkBF,EAAW7T,QAAO,CAAC1T,EAAO4W,EAAM/Z,IACtD+Z,GAAQ4Q,EACJxnB,EAAQnD,EACRmD,GACJ,MAEF,GAAwB,OAApBynB,EACF,GAAKF,EAAWE,EAAkB,GAKhClD,EAAOgD,EAAWE,EAAkB,QALA,CACpC,MAAMC,EAAYH,EAAWhiB,QAAOgE,IAAOA,EAAGkV,KAAK,mBAAkB,GACjEiJ,GAAWnD,EAAOmD,EACxB,CAKJ,GAGIC,EAA0B/Q,GAC9B,GAAGA,EAAKuB,SAASvZ,iBAAgB,IAAAgpB,iBAAgBhR,KAE7CgQ,EAAiB,EAAErd,KAAIse,YAAW,EAAOhB,YAAW,MACpDtD,EAAYrc,SAAWqC,IAC3Bga,EAAYrc,OAASqC,EAErBga,EAAYjd,QAAUuhB,EAClB,KACAC,EAAYve,GAEhBga,EAAYzT,MAAU+W,EAClB,KACAkB,EAAiBxe,EAAIye,GAAgBze,EAAI2Z,EAAYqD,aAAW,EAGhEI,EAAa,KACZpD,EAAYrc,SAEjBqc,EAAYjd,SAAWid,EAAYjd,QAAQ+S,SAC3CkK,EAAYzT,OAASyT,EAAYzT,MAAMuJ,SAEvCkK,EAAYrc,OAAU,KACtBqc,EAAYjd,QAAU,KACtBid,EAAYzT,MAAU,OAGlBoX,EAAgB,EAAE3d,KAAI3M,KAAIiqB,YAAW,MACzC,IAAIoB,EAASC,EAAa,CAAC3e,KAAI3M,OAC3BkT,EAAS+W,EACT,KACAsB,EAAY,CACV5e,KACA3M,KACAwrB,SAAUJ,GAAgBze,EAAI2Z,EAAYqD,cAG5ChJ,EAAkB8K,EAAe9e,EAAI,CAAC0e,SAAOnY,UAC7CwY,EAAkBD,EAAe9e,EAAI,CAAC0e,SAAOnY,UAEjDyN,EAASG,QAAQnU,EAAI,CAAEgf,YAAY,IACnCD,EAAe5K,QAAQnU,EAAG2R,WAAY,CAAEyC,WAAU,EAAMC,SAAQ,KAEhE,OAAE9N,GAAO5B,GAAG,kBAAkBsa,IAC5BjL,EAASM,aACTyK,EAAezK,YAAW,GAC3B,EAQGsK,EAAc,EAAE5e,KAAI3M,KAAIwrB,eAC5B,IAAK/E,EAAOzmB,GAAK,CACf,MAAMkT,EAAQvJ,SAASwJ,cAAc,uBAgCrC,OA9BAD,EAAMtB,KAAO4Z,EACbtY,EAAMxG,SAAW,CACfyF,aAAgBxF,EAAGI,wBACnBT,cAAgBtM,EAChB4M,SAAS,IAAAA,SAAQD,IAGnBhD,SAASgG,KAAKpC,YAAY2F,IAE1B,OAAEA,GAAO5B,GAAG,SAAS,EAAEK,aAChBA,EAAOC,MAKFD,EAAOC,IAGD,KAGlB,OAAEsB,GAAO5B,GAAG,cAAcvI,IACxBA,EAAEb,iBACFa,EAAEX,iBAEwC,IAG5Cqe,EAAOA,EAAO1jB,QAAUmQ,EAEjBA,CACT,GAGIoY,EAAe,EAAE3e,KAAI3M,SACzB,IAAK0mB,EAAQ1mB,GAAK,CAChB,MAAMqrB,EAAS1hB,SAASwJ,cAAc,yBAOtC,OALAkY,EAAO3e,SAAW,CAAEC,KAAIL,cAAetM,GAEvC2J,SAASgG,KAAKpC,YAAY8d,GAE1B3E,EAAQA,EAAQ3jB,QAAUsoB,EACnBA,CACT,GAGIH,EAAcve,IAClB,IAAKA,EAAG2T,aAAa,wBAA0B3T,EAAG2T,aAAa,iBAQ7D,OAPIqG,EAAYjd,SACdid,EAAYjd,QAAQ+S,SAEtBkK,EAAYjd,QAAUC,SAASwJ,cAAc,uBAC7CxJ,SAASgG,KAAKpC,YAAYoZ,EAAYjd,SACtCid,EAAYjd,QAAQgD,SAAW,CAACC,MAEzBga,EAAYjd,OACrB,EAGIyhB,EAAmB,CAACxe,EAAIiF,KAC5B,IAAKjF,EAAG2T,aAAa,wBAA0B3T,EAAG2T,aAAa,iBAgB7D,OAfIqG,EAAYzT,OACdyT,EAAYzT,MAAMuJ,SAEpBkK,EAAYzT,MAAQvJ,SAASwJ,cAAc,uBAC3CxJ,SAASgG,KAAKpC,YAAYoZ,EAAYzT,OAEtCyT,EAAYzT,MAAMtB,KAAOA,EACzB+U,EAAYzT,MAAMxG,SAAW,CAC3ByF,aAAgBxF,EAAGI,wBACnBT,cAAgB,SAGlBqa,EAAYzT,MAAMtF,MAAMC,YAAY,aAAc,uBAG3C8Y,EAAYzT,KACrB,EAuBIuY,EAAiB,CAACzR,GAAO9G,QAAMmY,YACnC,IAAIzK,kBAAiBC,IACnB3N,GAhHa,EAACvG,EAAIuG,KACpBA,EAAMtB,KAAOwZ,GAAgBze,EAAI2Z,EAAYqD,YAC7CzW,EAAMhG,OAAS,CAACiF,aAAcxF,EAAGI,wBAAyBH,SAAS,IAAAA,SAAQD,GAAG,EA8GnEkf,CAAS7R,EAAM9G,GACxBmY,GAVc,EAAC1e,EAAI0e,KACrBA,EAAO3e,SAAW,CAChBC,KACAL,cAAgBK,EAAGH,aAAa,iBAClC,EAMYsf,CAAU9R,EAAMqR,EAAM,IAW9BzD,EAAe,IACnBpB,EAAkB7f,SAAQolB,GAAMA,EAAGzQ,KAkDrC,ORn1BA7C,GAAO,OAAE,IACJ9O,SAAS6R,WACT,OAAE,cACFkB,GAAqB/S,YAsBN8O,KACpBA,EAAKlH,IAAI,WAAYoI,IACrBlB,EAAKlH,IAAI,YAAa8I,IACtB5B,EAAKlH,IAAI,OAAQiJ,KACjB,OAAE7Q,SAASgG,MAAM4B,IAAI,WAAYoI,KACjC,OAAEhQ,SAASgG,MAAM4B,IAAI,YAAa8I,KAClC,OAAE1Q,SAASgG,MAAM4B,IAAI,OAAQiJ,KAC7B,OAAE7Q,SAASgG,MAAM4B,IAAI,YAAakI,KAClC,OAAE9P,SAASgG,MAAM4B,IAAI,UAAWmI,IAChCjB,EAAO,EAAC,EA5BRuT,CAAcvT,GAQKA,KACnBA,EAAKnH,GAAG,WAAYqI,IACpBlB,EAAKnH,GAAG,YAAa+I,IACrB5B,EAAKnH,GAAG,OAAQkJ,KAChB,OAAE7Q,SAASgG,MAAM2B,GAAG,WAAYqI,KAChC,OAAEhQ,SAASgG,MAAM2B,GAAG,YAAa+I,KACjC,OAAE1Q,SAASgG,MAAM2B,GAAG,OAAQkJ,KAC5B,OAAE7Q,SAASgG,MAAM2B,GAAG,YAAamI,KACjC,OAAE9P,SAASgG,MAAM2B,GAAG,UAAWoI,GAAS,EAfxCuS,CAAaxT,GQ2CX8N,EAAKjkB,iBAAiB,QAASglB,GAAU,GACzCf,EAAKjkB,iBAAiB,WAAYulB,GAAa,GAE/CtB,EAAKjV,GAAG,cAAekY,GACvBjD,EAAKjV,GAAG,YAAauY,GACrBlgB,SAASrH,iBAAiB,OAAQylB,GAClCpe,SAASrH,iBAAiB,MAAOqmB,GACjChf,SAASrH,iBAAiB,QAAS0mB,GAoFbjgB,KACtB,IAAImjB,GAAW,EAEfviB,SAASwiB,UAAY,SAASpjB,GACxB,EAAQ9D,MAAQqW,EAASvY,UAC3B,OAAE,uFAAuF4D,SAAQgG,GAC/FA,EAAGiB,MAAMmF,QAAU,SAErBmZ,GAAW,EAEf,EAEAviB,SAASyiB,QAAU,SAASrjB,GACtBmjB,KACF,OAAE,uFAAuFvlB,SAAQgG,GAC/FA,EAAGiB,MAAMmF,QAAU,OAErBmZ,GAAW,EAEf,GArGAG,GAEA,EAAQ,GAAG,EAAA5mB,iBAyNUmU,UACrB7Q,EAAEb,iBAEFzF,OAAO6pB,cAAgBhR,EAASrU,KAAI0F,IAClC,IAAAwX,WAAUxX,KAEZ,IACE,MAAMuX,GAAY,OAAE,iBAAiB,GAAGqI,UAElCpsB,EAASsC,OAAO6pB,cAAc,GACjCrlB,KAAI,EAAE4V,OAAKwH,YAIV,IAHIxH,EAAK5J,SAAS,UAAY4J,EAAK5J,SAAS,qBAAuB4J,EAAK5J,SAAS,iBAAmB4J,EAAK5J,SAAS,UAAY4J,EAAK5J,SAAS,SAAW4J,EAAK5J,SAAS,aACnKoR,EAAQ,IAAI,IAAUA,GAAOH,MAE3BrH,EAAK5J,SAAS,aAAc,CAC9B,MAAO,CAAEN,EAAO1M,EAAG2B,EAAG0c,EAAMC,IAAU,IAAAC,iBAAgBH,GACtDA,EAAQ,GAAG,IAAI,IAAU1R,GAAOuR,QAAgBje,KAAK2B,KAAK0c,KAAQC,GACpE,CAEA,GAAI1H,EAAK5J,SAAS,cAAe,CAC/B,MAAO,CAAEN,EAAO1M,EAAG2B,EAAG0c,IAAQ,IAAAG,qBAAoBJ,GAClDA,EAAQ,GAAG,IAAI,IAAU1R,GAAOuR,QAAgBje,KAAK2B,KAAK0c,GAC5D,CACA,MAAO,CAACzH,OAAKwH,QAAK,IAEnBvN,QAAO,CAAC0V,EAASC,IAChB,IAAID,EAAS,IAAG,IAAApI,aAAYqI,EAAK5P,UAAU4P,EAAKpI,WAChD,IAAI5a,KAAK,OAEP,MAACkP,SAAe7W,UAAUymB,YAAYC,MAAM,CAACja,KAAK,oBAEpDpO,GAAoB,YAAVwY,UACN7W,UAAU2mB,UAAUC,UAAUvoB,GACpCkhB,QAAQrW,KAAK,WAEjB,CAAE,MAAMjC,GACNsY,QAAQqL,KAAK3jB,EACf,KA7PA,EAAQ,GAAG,EAAAtD,iBAAiBsD,GAgQN6Q,OAAO7Q,EAAG3F,EAAQ,KACxC,GAAIX,OAAO6pB,cACThR,EAAS3U,SAAQgG,IACflK,OAAO6pB,cAAclpB,GAClB6D,KAAI,EAAE4V,OAAMwH,WACX1X,EAAGiB,MAAMiP,GAAQwH,IAErBjhB,GAASX,OAAO6pB,cAAcvpB,OAAS,EACnCK,EAAQ,EACRA,GAAK,QAGR,CACH,MAAMupB,QAAwB7qB,UAAU2mB,UAAUW,WAE9C9N,EAASvY,QAAU4pB,GACrBrR,EAAS3U,SAAQgG,GACfA,EAAGiB,MAAQ+e,GACjB,GAlRiCC,KACjC,EAAQ,OAoGKhB,GACbpE,MApGA,EAAQ,GAAG,EAAA/hB,aAsGQsD,IACnB,MAAM8jB,EAAYvR,EAAS,GAC3B,IAAKuR,EAAW,OAEhB,MAAMC,EAAaD,EAAU3E,WAAU,GACvC4E,EAAWlW,gBAAgB,iBAC3BiW,EAAUvO,WAAWI,aAAaoO,EAAYD,EAAUE,aAExD,cAAgBnE,GAAG,CACjBC,gBAAgB,SAAQiE,EAAWxO,YACnCwK,UAAU,SAAQgE,GAClBpjB,QAAS,CACPc,QAASsiB,EAAWtiB,QACpB4d,UAAW0E,EAAW1E,WAExBW,OAAQ,QAGVhgB,EAAEb,gBAAe,IAvHjB,EAAQ,wBA0HQa,GAChBuS,EAASvY,QAAUynB,MA1HnB,EAAQ,yBA4HcwC,IACtB1R,EAAS3U,SAAQgG,IACf,MAAMsgB,EAAatgB,EAAGyb,UACtBzb,EAAGkV,KAAK,QAAS,MACjB,cAAgB+G,GAAG,CACjBC,gBAAgB,SAAQlc,EAAG2R,YAC3BwK,UAAU,SAAQnc,GAClBjD,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAW6E,EACXC,eAAgBvgB,EAAGyb,WAErBW,OAAQ,QACT,GACF,IAzID,EAAQ,GAAG,EAAAtjB,aAAa,EAAAA,mBAgRE,CAACsD,GAAInG,UAC/BmG,EAAEb,iBAEF,MAAOilB,GAAQ7R,EACf,IAAK6R,EAAM,OAEX,MAAM3E,EAAQuC,EAAwBoC,IAElC,IAAAC,iBAAgB5E,IAClBkC,EAAgB,CACdlC,QACAnN,IAAKzY,EAAIqQ,SAAS,UACnB,IA3RH,EAAQ,GAAG,EAAAxN,aAAa,EAAAA,mBA8RT,CAACsD,GAAInG,UAGpB,GAFAmG,EAAEb,iBAEEtF,EAAIO,MAAM,KAAK8P,SAAS,SAAU,CACpC,IAAIoa,EAAY,IAAI/R,GACpBkM,IACA6F,EAAUC,UAAU3mB,SAAQgG,IAE1B,IADQA,EAAGqI,SAASjS,OACb4J,EAAGqI,SAASjS,OAAS,GAAG,CAC7B,IAAIiX,EAAOrN,EAAG4gB,WAAW5gB,EAAGqI,SAASjS,OAAS,GACxB,UAAlBiX,EAAKuB,UACPoM,EAAO3N,GACTrN,EAAG2R,WAAWkP,QAAQxT,EACxB,CACArN,EAAG2R,WAAWmP,YAAY9gB,EAAE,GAEhC,KACK,CACH,IAAI+gB,EAAM/jB,SAASwJ,cAAc,OACjCmI,EAAS,GAAGgD,WAAWkP,QACrBlS,EAASgS,UAAUxW,QAAO,CAAC4W,EAAK/gB,KAC9B+gB,EAAIngB,YAAYZ,GACT+gB,IACNA,IAELlG,IACAG,EAAO+F,EACT,KAxTA,EAAQ,mCAuVoB,CAAC3kB,GAAInG,UACjC,IAAK0Y,EAASvY,OAAQ,OAEtBgG,EAAEb,iBACFa,EAAEX,kBAEF,MAAMulB,EAAUrS,EAASxE,QAAO,CAAC8W,EAAe5T,KAC9C,MAAM6T,EAAsB7P,GAAYhE,GAClC8T,EAAsB5P,GAAalE,GACnC+T,GAAsB,IAAAC,0BAAyBhU,GAC/CiU,GAAsB,IAAAC,yBAAwBlU,GAmBpD,OAjBIpX,EAAIqQ,SAAS,SACXrQ,EAAIqQ,SAAS,QAAU4a,EACzBD,EAAcnM,IAAIoM,GACXjrB,EAAIqQ,SAAS,UAAY8a,EAChCH,EAAcnM,IAAIsM,GAElBH,EAAcnM,IAAIzH,GAGhBpX,EAAIqQ,SAAS,QAAU6a,EACzBF,EAAcnM,IAAIqM,GACXlrB,EAAIqQ,SAAS,UAAYgb,EAChCL,EAAcnM,IAAIwM,GAElBL,EAAcnM,IAAIzH,GAGf4T,IACN,IAAIO,KAEHR,EAAQzH,OACVsB,EAAa,CAACC,QAAO,IACrBkG,EAAQhnB,SAAQqT,IACd2N,EAAO3N,GACPyP,EAASzP,EAAI,IAEjB,IA5XA,EAAQ,GAAG,EAAAvU,uBAkuBc,CAACsD,GAAInG,UAC9B,MAAM+qB,EAAUrS,EACb3S,QAAOqR,GAAQA,EAAKhF,SAASjS,SAC7B+T,QAAO,CAACsX,GAAOpZ,cACd,IAAIoZ,KAAStjB,MAAMoR,KAAKlH,KAAY,IAEpC2Y,EAAQ5qB,SACVgG,EAAEb,iBACFa,EAAEX,kBAEFof,IACAmG,EAAQhnB,SAAQqT,GAAQ2N,EAAO3N,KACjC,IA7uBA,EAAQ,WAgvBe,CAACjR,GAAInG,UAC5B,MAAM+qB,EAAUrS,EAASxE,QAAO,CAACuX,EAASrU,KACxC,MAAMsU,EAAiBtU,EAAKmC,cAE5B,OAAImS,EAAehO,aAAa,kBAGhCgO,EAAe3gB,aAAa,gBAAgB,GAC5C0gB,EAAQvuB,KAAKwuB,IAHJD,CAKFA,GACN,IAECV,EAAQ5qB,SACVgG,EAAEb,iBACFa,EAAEX,kBAEFulB,EAAQhnB,SAAQqT,IACVA,GAAQA,IAASrQ,SAASgG,MAC5BgY,EAAO3N,EACT,IAEJ,IArwBA,EAAQ,GAAG,EAAAvU,YAAa,cAAgB8oB,MACxC,EAAQ,GAAG,EAAA9oB,kBAAmB,cAAgB+oB,MA0wBzC,CACL7G,SACA9I,UA7TgB,IAChBvD,EA6TAkM,eACAiH,iBA/DuB,CAAC1C,EAAI2C,GAAoB,KAChDlI,EAAkB1mB,KAAKisB,GACnB2C,GAAmB3C,EAAGzQ,EAAQ,EA8DlCqT,uBA3D6B5C,GAC7BvF,EAAoBA,EAAkB7d,QAAOimB,GAAYA,GAAY7C,IA2DrE9K,WAtDiB,KACjBuG,IAvtBAjB,EAAKna,oBAAoB,QAASkb,GAAU,GAC5Cf,EAAKna,oBAAoB,WAAYyb,GAAa,GAElDtB,EAAKhV,IAAI,cAAeiY,GACxBjD,EAAKhV,IAAI,YAAasY,GAEtBlgB,SAASyC,oBAAoB,OAAQ2b,GACrCpe,SAASyC,oBAAoB,MAAOuc,GACpChf,SAASyC,oBAAoB,QAAS4c,GAEtC,EAAQpe,OAAO,OAAO,EAAAnF,wDAAwD,EAAAA,aAAa,EAAAA,mBAAmB,EAAAA,aAAa,EAAAA,kDA8sBlH,EAsDb,CAEO,MAAM2lB,GAAkB,CAACze,EAAIgd,IAE3B,UADAA,GAEI,IAAAlS,UAAS9K,EAAI,WAGb,qBACKA,EAAG4O,SAASvZ,iCACjB2K,EAAG3M,IAAM,IAAM2M,EAAG3M,oBACrB,IAAAgrB,iBAAgBre,GAAIxJ,MAAM,KACzBwF,QAAO4F,GAAgB,IAARA,IACfuI,QAAO,CAAC+X,EAAOtgB,IAAS,iBACrBsgB,sBACItgB,qBACL,cCn3BPugB,GAAoB,EAAExkB,aAC1BA,EAAOsM,gBAAgB,mBACvBtM,EAAOsM,gBAAgB,cACvBtM,EAAO8B,oBAAoB,OAAQ0iB,IACnCxkB,EAAO8B,oBAAoB,UAAW,IACtC,EAAQxB,OAAO,aAAY,EAGvB,GAAe7B,GAAc,UAATA,EAAEnG,KAAmBmG,EAAEX,kBAE3C2mB,GAAU,CAAChmB,EAAGrB,MAClB,OAAE,uBAAuBf,SAAQ2D,GAAUwkB,GAAkB,CAACxkB,aAC9D7H,OAAOulB,eAAegH,OAAM,EAGvB,SAASC,GAASC,GAClBA,EAASnsB,SAEdmsB,EAASjoB,KAAI0F,IACX,IAAIwiB,GAAM,OAAExiB,GAEZwiB,EAAItN,KAAK,CACPuN,iBAAiB,EACjBC,YAAY,IAEd1iB,EAAG2iB,SACH,IAAAC,mBAAkB5iB,GAAI,GAEtBwiB,EAAI7d,GAAG,UAAW,IAClB6d,EAAI7d,GAAG,OAAQwd,GAAiB,IAGlC,EAAQ,aAAcC,IACxB,CClCA,MAAM,GAAa,qBAChB5rB,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,WAAeA,KAC5B,IACD4U,UAAU,GAEP,GAAiB,GAAG,EAAAvR,cAAc,EAAAA,eA2HxC,MAAM+pB,GAAY,CAChBC,OAAQ,EACRC,KAAQ,EACRC,MAAQ,EACR,GAAI,EACJ,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,EAAE,IAAM,GAElEC,GAAgB,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAwBjDC,GAAW,CACfC,MAAO,EACP9rB,KAAM,EACN+rB,OAAQ,EACR7rB,MAAO,GAEH8rB,GAAe,CAAC,OAAO,SAAS,SCvKhC,GAAa,qBAChB7sB,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,WAAeA,KAC5B,IACD4U,UAAU,GAEP,GAAiB,GAAG,EAAAvR,cAAc,EAAAA,gBAAgB,EAAAA,gBAAgB,EAAAA,iBAAiB,EAAAA,oBAAoB,EAAAA,sBAAsB,EAAAA,sBAAsB,EAAAA,sBA4CzJ,MAAMwqB,GAAatjB,IACjBA,EAAGiB,MAAMmF,QAAU,OACZpG,GAGHujB,GAAgC,CAACC,EAAKC,MAC9B,SAARA,GAA2B,cAAPD,GAA8B,UAAPA,GAA0B,YAAPA,GAEjD,cAARC,GAAgC,gBAAPD,GAAgC,iBAAPA,KADzDA,EAAM,UAIDA,GAIF,SAASE,GAAgBlZ,EAAKkN,GACnClN,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IACHA,EAAGiB,MAAM0iB,cAAgBjM,IAE/B,CAEA,MAAMkM,GAAkB,CAACd,OAAQ,EAAE,aAAc,EAAE,OAAU,EAAE,WAAY,GACrEe,GAAkB,CAAC,aAAa,SAAS,YAsBzCC,GAAkB,CAAC,aAAa,SAAS,YAqBzCC,GAAyB,CAACjB,OAAQ,EAAE,eAAgB,EAAE,GAAI,EAAE,gBAAiB,GAC7EkB,GAAyB,CAAC,eAAe,GAAG,iBAqB5CC,GAAyB,CAACnB,OAAQ,EAAE,eAAgB,EAAE,GAAI,EAAE,gBAAiB,GAC7EoB,GAAyB,CAAC,eAAe,GAAG,iBAqB5CC,GAAe,CAACC,IAAK,EAAG,cAAe,EAAGC,OAAQ,EAAG,iBAAkB,GACvEC,GAAe,CAAC,MAAO,cAAe,SAAU,kBAuBhDC,GAAc,CAACC,OAAQ,EAAG,KAAQ,GAClCC,GAAc,CAAC,SAAU,QC3LzB,GAAa,qBAChBjuB,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,WAAeA,SAAaA,eAAmBA,KAC5D,IACD4U,UAAU,GAEP,GAAiB,GAAG,EAAAvR,cAAc,EAAAA,oBAAoB,EAAAA,gBAAgB,EAAAA,sBAAsB,EAAAA,gBAAgB,EAAAA,sBAAsB,EAAAA,iBAAiB,EAAAA,sBAoCnJ4rB,GAAkB1kB,IACI,IAAtBA,EAAGiB,MAAM0jB,WAAyC,QAAtB3kB,EAAGiB,MAAM0jB,YACvC3kB,EAAGiB,MAAM0jB,UAAY,6BAChB3kB,GAIH4kB,GAAU,CACd,QAAY,EACZ,EAAY,EACZ,EAAY,EACZ,KAAY,EACZ,KAAY,EACZ,MAAY,GAGRC,GAAqB7kB,IAAM,IAAA8K,UAAS9K,EAAI,aAAaxJ,MAAM,KAE1D,SAASsuB,GAAgBta,EAAKC,EAAWyF,GAC9C1F,EACGlQ,IAAIoqB,IACJpqB,KAAI0F,IAAM,IAAA0K,kBAAiB1K,EAAI,QAC/B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAW,YACX2J,QAAWia,GAAmB7kB,GAC9B+kB,UAAWF,GAAmB7kB,GAAI,GAAGsG,SAAS,QAAUse,GAAQ1U,GAAQ0U,GAAQ1U,GAAQ,MAEzF5V,KAAI4O,IACH,IAAI8b,EAAU,IAAI9b,EAAQ0B,SACtB4Y,EAAmB,YAATtT,EACVhH,EAAQ0B,QAAQ1B,EAAQ6b,WACxBla,SAAS3B,EAAQ0B,QAAQ1B,EAAQ6b,YAErC,OAAO7U,GACL,IAAK,OACL,IAAK,OACH,IAAInF,EAASN,EAAUnE,SAAS,SAAW,GAAK,EAChD0e,EAAQ9b,EAAQ6b,WAAata,EAAUnE,SAAS,SAAWmE,EAAUnE,SAAS,QACvEkd,EAAMzY,EAAT,KACA,GAAGyY,EAAMzY,MACb,MACF,IAAK,QACHia,EAAQ9b,EAAQ6b,WAAata,EAAUnE,SAAS,QAC5C,QACA,GACJ,MACF,IAAK,UACH,IAAI2e,EAAcziB,WAAWghB,EAAIrtB,MAAM,EAAGqtB,EAAIluB,QAAQ,OAClDyV,EAASN,EAAUnE,SAAS,SAAW,GAAO,IAClD0e,EAAQ9b,EAAQ6b,WAAata,EAAUnE,SAAS,QAC5C2e,EAAcla,EAAS,IACvBka,EAAcla,EAAS,IAC3B,MACF,QACMA,EAASN,EAAUnE,SAAS,SAAW,GAAK,EAChD0e,EAAQ9b,EAAQ6b,WAAata,EAAUnE,SAAS,SAAWmE,EAAUnE,SAAS,MACvEkd,EAAMzY,EAAT,KACA,GAAGyY,EAAMzY,MAKjB,OADA7B,EAAQwO,MAAQsN,EACT9b,KAERlP,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASyW,EAAM5a,KAAK,MACnC,CC3GA,MAAM,GAAa,qBAChBtG,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,WAAeA,KAC5B,IACD4U,UAAU,GAEP,GAAiB,GAAG,EAAAvR,cAAc,EAAAA,oBAAoB,EAAAA,gBAAgB,EAAAA,sBAAsB,EAAAA,gBAAgB,EAAAA,sBAAsB,EAAAA,iBAAiB,EAAAA,sBAEnJ,GAAQ,CACZosB,kBAAcjoB,EACdslB,SAAU,IA8DL,SAAS4C,GAAU3a,EAAKC,EAAWyF,EAAMkV,GAC9C5a,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IACH,MAAM,WAAE6Y,EAAU,WAAEG,EAAU,OAAEqM,GA2C/B,SAA8BrlB,GACnC,GAAIA,aAAcyS,WAAY,CAC5B,MAAO6S,GAAU,IAAAxa,UAAS9K,EAAI,UAE9B,MAAO,CACL6Y,WAAY,CACV5X,MAAO,SACP+E,MAAO,IAAI,IAAsB,SAAZsf,EACjB,eACAA,IAENtM,WAAY,CACV/X,MAAO,OACP+E,MAAO,IAAI,KAAU,IAAA8E,UAAS9K,EAAI,UAEpCqlB,OAAQ,CACNpkB,MAAO,UACP+E,MAAO,IAAI,KAAU,IAAA8E,UAAS9K,EAAI,aAGxC,CAEE,MAAO,CACL6Y,WAAY,CACV5X,MAAO,QACP+E,MAAO,IAAI,KAAU,IAAA8E,UAAS9K,EAAI,WAEpCgZ,WAAY,CACV/X,MAAO,kBACP+E,MAAO,IAAI,KAAU,IAAA8E,UAAS9K,EAAI,qBAEpCqlB,OAAQ,CACNpkB,MAAO,cACP+E,MAAO,IAAI,KAAU,IAAA8E,UAAS9K,EAAI,iBAG1C,CA/EiDulB,CAAqBvlB,GAGhE,OAAOolB,EAAMI,aACX,IAAK,aACH,MAAO,CAAExlB,KAAI4K,QAASoO,EAAWhT,MAAMyf,QAASxkB,MAAO+X,EAAW/X,OACpE,IAAK,aACH,MAAO,CAAEjB,KAAI4K,QAASiO,EAAW7S,MAAMyf,QAASxkB,MAAO4X,EAAW5X,OACpE,IAAK,SAEH,MADwB,KAApBjB,EAAGiB,MAAMokB,SAAerlB,EAAGiB,MAAMokB,OAAS,mBACvC,CAAErlB,KAAI4K,QAASya,EAAOrf,MAAMyf,QAASxkB,MAAOokB,EAAOpkB,OAE9D,IAED3G,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrB6B,OAAUN,EAAUnE,SAAS,SAAW,GAAK,EAC7C0E,SAAUP,EAAUnE,SAAS,SAAWmE,EAAUnE,SAAS,YAE9DhM,KAAI4O,IACU,MAATgH,GAAyB,MAATA,GAAyB,MAATA,IAClChH,EAAQ6B,OAA0B,IAAjB7B,EAAQ6B,QAE3B7B,EAAQ0B,QAAQsF,GAAQhH,EAAQ8B,SAC5B9B,EAAQ0B,QAAQsF,GAAQhH,EAAQ6B,OAChC7B,EAAQ0B,QAAQsF,GAAQhH,EAAQ6B,OAEvB,MAATmF,GAAyB,MAATA,GAAyB,MAATA,IAC9BhH,EAAQ0B,QAAQsF,GAAQ,IAAGhH,EAAQ0B,QAAQsF,GAAQ,GACnDhH,EAAQ0B,QAAQsF,GAAQ,IAAGhH,EAAQ0B,QAAQsF,GAAQ,IAGlDhH,KAERlP,SAAQ,EAAEgG,KAAIiB,QAAO2J,cACpB,IAAI5E,EAAQ,IAAI,IAAU4E,GAAS8a,SAAS9a,EAAQhO,GACpDoD,EAAGiB,MAAMA,GAAS+E,EAAMgQ,cAEX,SAAT/U,GAAkBmkB,EAAMvM,WAAW7S,MAAMA,EAAMgQ,eACtC,mBAAT/U,GAA4BmkB,EAAMpM,WAAWhT,MAAMA,EAAMgQ,cAAa,GAEhF,CCxHA,MAAM,GAAQ,CACZ2P,UAAc,KACdxc,aAAc,KACdyc,MAAc,CACZlgB,MAAc,EACdyD,aAAc,KAuBZ+T,GAAW9gB,IACf,MAAMuB,GAAS,IAAA+Y,sBAAqBta,EAAEkH,QAASlH,EAAEsH,UAC7C,IAAAiT,aAAYhZ,IAChBkoB,GAAcloB,EAAM,EA8BhBmoB,GAAatb,IACXA,EAAIpU,SAEN,GAAMwvB,MAAMlgB,OAAS8E,EAAIpU,SAC3B,GAAMwvB,MAAMzc,aAAanP,SAAQgG,GAAMA,EAAG8P,WAC1C,GAAM8V,MAAMzc,aAAe,GAC3B,GAAMyc,MAAMlgB,MAAQ,GAGtB,GAAMkgB,MAAMlgB,QAER8E,EAAIpU,OAAS,IACf,GAAMwvB,MAAMzc,aAAe,IACtB,GAAMyc,MAAMzc,gBACZmM,OAIP,GAAMqQ,WAAa,GAAMA,UAAU7V,SACnC,GAAM6V,UAAY,OAGdI,GAAc,IAClBC,KAEIH,GAAgBxY,IAChB,GAAMsY,WACR,GAAMA,UAAU1kB,MAAMmF,QAAU,KAChC,GAAMuf,UAAUplB,OAAS8M,EAAKjN,0BAG9B,GAAMulB,UAAY3oB,SAASwJ,cAAc,2BACzC,GAAMmf,UAAU5lB,SAAWsN,EAAKjN,wBAEhCpD,SAASgG,KAAKpC,YAAY,GAAM+kB,WAClC,EAGIK,GAAgB,KACf,GAAML,YACX,GAAMA,UAAU1kB,MAAMmF,QAAU,SCrG5B,GAAa,qBAChB5P,MAAM,KACN2T,QAAO,CAACC,EAAQ3U,IACf,GAAG2U,KAAU3U,SAAaA,WAAeA,eAAmBA,KAC5D,IACD4U,UAAU,GAoCN,SAAS4b,IAAU,GAACjmB,EAAE,QAAEkmB,EAAUlmB,EAAE,OAAEiD,EAAS,OAAM,WAAEkjB,IAC3D,MAAMna,EAAQ,CACbrO,OAAQqC,EACRkmB,UACAE,MAAO,CACL5uB,MAAM,EACN8B,EAAG,EACH2B,EAAG,GAEL8B,QAAS,CACPzD,EAAG,EACH2B,EAAG,GAELorB,eAAgB,GAqBZC,EAAclqB,IAClB,GAAGA,EAAEuB,SAAWqO,EAAMka,QAAtB,CAOA,GANA9pB,EAAEb,iBAEkC,UAAjC+G,iBAAiBtC,GAAID,WACtBC,EAAGiB,MAAMlB,SAAW,YACtBC,EAAGiB,MAAMslB,WAAa,WAElBvmB,aAAcyS,WAAY,CAC5B,MAAMxO,EAAYjE,EAAGH,aAAa,cAE1BvG,EAAG2B,GAAMgJ,EACbuiB,GAAoBviB,GACpB,CAAC,EAAE,GAEP+H,EAAMjP,QAAQzD,EAAKA,EACnB0S,EAAMjP,QAAQ9B,EAAKA,CACrB,MAEE+Q,EAAMjP,QAAQzD,EAAKuR,UAAS,IAAAC,UAAS9K,EAAI,SACzCgM,EAAMjP,QAAQ9B,EAAK4P,UAAS,IAAAC,UAAS9K,EAAI,QAG3CgM,EAAMoa,MAAM9sB,EAAW8C,EAAEkH,QACzB0I,EAAMoa,MAAMnrB,EAAWmB,EAAEsH,QACzBsI,EAAMoa,MAAM5uB,MAAW,EACvBwU,EAAMqa,eAAiB,CAzBQ,CAyBR,EAGnBI,EAAYrqB,IAChB,GAAGA,EAAEuB,SAAWqO,EAAMka,QAAS,OAQ/B,GANA9pB,EAAEb,iBACFa,EAAEX,kBAEFuQ,EAAMoa,MAAM5uB,MAAO,EACnBwI,EAAGiB,MAAMslB,WAAa,KAElBvmB,aAAcyS,WAAY,CAC5B,MAAMxO,EAAYjE,EAAGH,aAAa,cAE1BvG,EAAG2B,GAAMgJ,EACbuiB,GAAoBviB,GACpB,CAAC,EAAE,GAEP+H,EAAMjP,QAAQzD,EAAOA,EACrB0S,EAAMjP,QAAQ9B,EAAOA,CACvB,MAEE+Q,EAAMjP,QAAQzD,EAAOuR,SAAS7K,EAAGiB,MAAM5J,OAAS,EAChD2U,EAAMjP,QAAQ9B,EAAO4P,SAAS7K,EAAGiB,MAAMF,MAAQ,EAGjD,MAAM2lB,GAAgB1a,EAAMqa,gBAAkBra,EAAMqa,eAAiB,EACjEF,GAAcO,GAAcP,EAAW/pB,GAC3C4P,EAAMqa,eAAiB,GAGnBM,EAAcvqB,IACb4P,EAAMoa,MAAM5uB,OAEjB4E,EAAEb,iBACFa,EAAEX,kBAGEuE,aAAcyS,WAChBzS,EAAGgB,aAAa,YAAa,uBACzBgL,EAAMjP,QAAQzD,EAAI8C,EAAEkH,QAAU0I,EAAMoa,MAAM9sB,eAC1C0S,EAAMjP,QAAQ9B,EAAImB,EAAEsH,QAAUsI,EAAMoa,MAAMnrB,eAI9C+E,EAAGiB,MAAM5J,KAAO2U,EAAMjP,QAAQzD,EAAI8C,EAAEkH,QAAU0I,EAAMoa,MAAM9sB,EAAI,KAC9D0G,EAAGiB,MAAMF,IAAOiL,EAAMjP,QAAQ9B,EAAImB,EAAEsH,QAAUsI,EAAMoa,MAAMnrB,EAAI,MAGhE+Q,EAAMqa,gBAAkB,IAM1B,OAnGErmB,EAAGiB,MAAM6B,WAAe,OACxBojB,EAAQjlB,MAAMgC,OAAUA,EAExBijB,EAAQvwB,iBAAiB,YAAa2wB,GAAa,GACnDJ,EAAQvwB,iBAAiB,UAAW8wB,GAAW,GAC/CzpB,SAASrH,iBAAiB,YAAagxB,GAAa,GA4FtD3mB,EAAG4mB,SAzFc,KACf5mB,EAAGiB,MAAM6B,WAAe,KACxBojB,EAAQjlB,MAAMgC,OAAU,KAExBijB,EAAQzmB,oBAAoB,YAAa6mB,GAAa,GACtDJ,EAAQzmB,oBAAoB,UAAWgnB,GAAW,GAClDzpB,SAASyC,oBAAoB,YAAaknB,GAAa,EAAI,EAqFtD3mB,CACT,CAwBA,MAAM6mB,GAA6B,CAAC7mB,EAAIyK,KACtC,IAAIxJ,EAAO2J,EAEX,GAAI5K,aAAcyS,WAAY,CAC5B,MAAMxO,EAAYjE,EAAGkV,KAAK,cAElB5b,EAAG2B,GAAMgJ,EACbuiB,GAAoBviB,GACpB,CAAC,EAAE,GAEPhD,EAAU,YACV2J,EAAUH,EAAUnE,SAAS,SAAWmE,EAAUnE,SAAS,MACvDrL,EACA3B,CACN,KACK,CACH,MAAMoS,GAAO,IAAAf,SAAQF,GAAWpV,cAChC4L,EAAkB,QAATyK,GAA2B,WAATA,EAAqB,MAAQ,OACxDd,GAAU,IAAAE,UAAS9K,EAAIiB,GAGnB2J,EADQ,SAAZA,EACc,EACAC,SAASD,EAAS,GAClC,CAEA,MAAO,CAAE3J,QAAO2J,UAAQ,EAGpB4b,GAAsBviB,GAC1BA,EAAUoG,UACRpG,EAAU3O,QAAQ,KAAO,EACzB2O,EAAU3O,QAAQ,MAClBkB,MAAM,KACP8D,KAAIqR,GAAOnJ,WAAWmJ,KAEnBmb,GAAoB,CAAC9mB,EAAIyK,EAAW1K,KACxC,MAAM6C,EAAY5C,EAAGkV,KAAK,cAClB5b,EAAG2B,GAAM2H,EACb4jB,GAAoB5jB,GACpB,CAAC,EAAE,GAEDmkB,EAAMtc,EAAUnE,SAAS,SAAWmE,EAAUnE,SAAS,MACzD,GAAGhN,KAAKyG,IACR,GAAGA,KAAY9E,IAEnB+E,EAAGkV,KAAK,YAAa,aAAa6R,KAAM,EAGpCC,GAAsB,CAAChnB,EAAIyK,IAC/BA,EAAUnE,SAAS,UAAYmE,EAAUnE,SAAS,QAE9C2gB,GAAqBjnB,IACrBA,aAAclB,cAChBkB,EAAGiB,MAAMlB,SAAW,YACfC,GC3OF,MAAMknB,WAAgBpoB,YAE3B,WAAAC,GACEC,QACA/C,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKkrB,aAAc,IAAAC,YACjBnrB,KAAKgD,QACL,KAAe,KAAoB,MAGrChD,KAAKkY,QAAUlY,KAAKkY,QAAQ9U,KAAKpD,MACjCA,KAAKyI,cAAgBzI,KAAKyI,cAAcrF,KAAKpD,MAC7CA,KAAKorB,gBAAkBprB,KAAKorB,gBAAgBhoB,KAAKpD,KACnD,CAEA,iBAAAqD,GACErD,KAAKkrB,YAAYnqB,SAAS0D,cAAc,iBAAiBb,aAAa,kBACtE,OAAE5D,KAAKgD,QAAQW,MAAM+E,GAAG,aAAc1I,KAAKkY,QAC7C,CAEA,oBAAA3U,GACEvD,KAAKqb,WACP,CAEA,aAAA5S,CAActI,GACZH,KAAKgD,QAAQW,KAAKiF,cAAc,IAAIC,YAAY,QAAS,CACvDC,SAAS,EACTC,OAAU,CACRC,KAAY7I,EAAEuB,OAAOuH,YACrBC,UAAY/I,EAAEE,QAGpB,CAEA,OAAA6X,IACE,OAAE,SAAUlY,KAAKgD,SAAS0F,GAAG,mBAAoB1I,KAAKyI,gBACtD,OAAE,SAAUzI,KAAKgD,SAAS0F,GAAG,aAAc1I,KAAKorB,iBAEhDpB,GAAU,CACRjmB,GAAI/D,KACJiqB,QAASjqB,KAAKgD,QAAQyB,cAAc,UACpCuC,OAAQ,QAEZ,CAEA,SAAAqU,IACE,OAAE,SAAUrb,KAAKgD,SAAS2F,IAAI,mBAAoB3I,KAAKyI,gBACvD,OAAE,SAAUzI,KAAKgD,SAAS2F,IAAI,aAAc3I,KAAKorB,gBACnD,CAEA,eAAAA,CAAgBjrB,GACdH,KAAKgD,QAAQW,KAAKiF,cAAc,IAAIC,YAAY,UAAW,CACzDC,SAAS,KAEX9I,KAAKqb,YACLrb,KAAK2qB,UACP,CAEA,QAAI1O,CAAKoP,GACPrrB,KAAKgD,QAAQiB,UAAYjE,KAAKkE,OAAOmnB,EACvC,CAEA,MAAAnnB,EAAO,GAACH,EAAE,MAAEa,EAAK,OAAEC,EAAM,mBAAEkX,EAAkB,sBAAEC,IAC7C,MAAO,2EAIWjY,EAAG4O,SAASvZ,qCACjB2K,EAAG3M,IAAM,IAAM2M,EAAG3M,wBACrB,IAAAgrB,iBAAgBre,GAAIxJ,MAAM,KACzBwF,QAAO4F,GAAgB,IAARA,IACfuI,QAAO,CAAC+X,EAAOtgB,IAAS,qBACrBsgB,0BACItgB,yBACL,8DAIG6F,KAAKqB,MAAMjI,yFAEX4G,KAAKqB,MAAMhI,0FAIfmX,EAAsB9N,QAAO,CAACod,EAAOzH,IAAS,eAClDyH,iCACiBzH,EAAK5P,8CACV4P,EAAKpI,0BAClB,iCAEDM,EAAmB5hB,OAAS,gHAGlB4hB,EAAmB7N,QAAO,CAACod,EAAOzH,IAAS,mBAC/CyH,qCACiBzH,EAAK5P,kDACV4P,EAAKpI,8BAClB,2DAGH,2BAGV,EAGFtW,eAAeC,OAAO,wBAAyB6lB,ICvG/C,MAAM,GAAU,CACd,IAAO,cACP,IAAO,cACP,IAAO,eA0FT9lB,eAAeC,OAAO,qBAvFf,cAAmB6lB,GACxB,WAAAnoB,GACEC,QACA/C,KAAKurB,gBAAkBvrB,KAAKurB,gBAAgBnoB,KAAKpD,KACnD,CAEA,qBAAMwrB,CAAgBxiB,GACpB,MAAM,MAAC+G,SAAe7W,UAAUymB,YAAYC,MAAM,CAACja,KAAK,oBAE1C,YAAVoK,GACF7W,UAAU2mB,UAAUC,UAAU9W,EAClC,CAEA,eAAAuiB,CAAgB/xB,GACdwG,KAAKwrB,gBAAgBhyB,EAAMgY,cAAc/M,cAAc,QAAQiG,UAAU+gB,OAC3E,CAEA,OAAAvT,IACE,OAAE,iBAAkBlY,KAAKgD,SAAS0F,GAAG,QAAS1I,KAAKurB,iBAEnDvB,GAAU,CACRjmB,GAAI/D,KACJiqB,QAASjqB,KAAKgD,QAAQyB,cAAc,UACpCuC,OAAQ,QAEZ,CAEA,SAAAqU,IACE,OAAE,iBAAkBrb,KAAKgD,SAAS2F,IAAI,QAAS3I,KAAKurB,gBACtD,CAEA,MAAArnB,EAAO,GAACH,EAAE,gBAAE0Y,EAAe,iBAAEF,IAC3B,MAAMjB,EAAY,IAAQ,OAAE,iBAAiBrC,KAAK,eAE5C2D,EAAa7Y,aAAcyS,YAC5B,IAAA3H,UAAS9K,EAAI,UAAW,IAAA8K,UAAS9K,EAAI,WACtC,IAAA8K,UAAS9K,EAAI,SACXgZ,GAAa,IAAAC,4BAA2BjZ,GAExC2nB,GAA6B,IAAAC,qBAAoB/O,GACjDgP,GAA6B,IAAAD,qBAAoB5O,GAKvD,OAHA/c,KAAKgF,MAAMC,YAAY,4BAA6BymB,GACpD1rB,KAAKgF,MAAMC,YAAY,6BAA8B2mB,GAE9C,0DAGU7nB,EAAG4O,SAASvZ,qBAAqB2K,EAAG3M,IAAM,IAAM2M,EAAG3M,kHAGjBwlB,sDACrB8O,wFAGDA,uBACjB1R,GAAiB,IAAI,IAAU4C,GAAYtB,uGAGJyB,sDACrB6O,wFAGDA,uBACjB5R,GAAiB,IAAI,IAAU+C,GAAYzB,0EAIjDiB,cACAE,EAAgBtiB,OAAS,EACvB,kEAEQsiB,EAAgBvO,QAAO,CAACod,EAAOrS,IAAS,yBACtCqS,qCACWrS,EAAKhF,iDACJgF,EAAKwC,oCAClB,qDAGT,6BAKV,IClGK,MAAMzU,GAAS,qLAMT6kB,GAAO,mKAMP,GAAS,wSAMT5c,GAAS,8TAMTsK,GAAU,+QAMVuS,GAAO,2GAMP,GAAO,mNAMPC,GAAQ,gJAMRC,GAAS,0MAMTrlB,GAAY,qQAOZyiB,GAAS,0KAMT6C,GAAW,kgBAMXC,GAAY,uSAMZC,GAAY,iWAWZC,GAAS,8PAOTC,GAAS,uMAOTC,GAAa,gJAMbC,GAAmB,oTAMnBC,GAAe,kMAMf1oB,GAAW,8TAOX2oB,GAAgB,2JC3HtB,MAAMC,WAAkB7pB,YAE7B,WAAAC,GACEC,QAEA/C,KAAK2sB,eAAiB,CACpBC,IAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,UAC7D/xB,IAAQ,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,MAC/DgyB,KAAQ,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAK,UACzD3wB,MAAQ,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,SACzDf,MAAQ,CAAC,EAAAyB,OAAQ,EAAAC,QAAS,WAAY,EAAAA,QAAS,EAAAD,SAGjDoD,KAAK8sB,eAAiB,CACpBF,IAAQ,CAAC,GAAG,GACZ/xB,IAAQ,CAAC,EAAE,GACXgyB,KAAQ,CAAC,EAAE,EAAE,GAAG,GAChB3wB,MAAQ,CAAC,EAAE,EAAE,GAAG,GAChBf,MAAQ,CAAC,EAAE,KAGb6E,KAAKgD,QAAahD,KAAKiD,aAAa,CAACC,KAAM,WAE3ClD,KAAK+sB,QAAa,GAClB/sB,KAAKgtB,UAAa,GAElBhtB,KAAKkhB,KAAa,YAElBlhB,KAAKkrB,aAAc,IAAAC,YACjBnrB,KAAKgD,QACL,KAAiB,KAAsB,KAE3C,CAEA,iBAAAK,GACErD,KAAKkrB,YAAYnqB,SAAS0D,cAAc,iBAAiBb,aAAa,iBACtE5D,KAAKitB,QAAU,OAAE,iCAAkCjtB,KAAKgD,SACxDhD,KAAKktB,OAAU,OAAE,gCAAiCltB,KAAKgD,SACvDhD,KAAKmtB,MAAU,OAAE,2BAA2B,EAAAvwB,UAAWoD,KAAKgD,SAC5DhD,KAAKotB,MAAU,OAAE,2BAA2B,EAAAvwB,WAAYmD,KAAKgD,SAC7DhD,KAAKqtB,KAAU,OAAE,gBAAiBrtB,KAAKgD,SACvChD,KAAKstB,OAAU,OAAE,kBAAmBttB,KAAKgD,SACzChD,KAAKutB,OAAU,OAAE,kBAAmBvtB,KAAKgD,SACzChD,KAAKwtB,QAAU,OAAE,mBAAoBxtB,KAAKgD,QAC5C,CAEA,oBAAAO,GAAwB,CAExB,QAAI2d,CAAKA,GACPlhB,KAAKytB,MAAQvM,EACblhB,KAAKgD,QAAQiB,UAAYjE,KAAKkE,QAChC,CAEA,IAAAwpB,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,OAClC,EAAQ,KAAK,CAAChK,EAAGrB,IACfkB,KAAK2tB,UAAUxtB,EAAGrB,IACtB,CAEA,IAAA8uB,GACE5tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,OAClC,EAAQnI,OAAO,IACjB,CAEA,SAAA2rB,CAAUxtB,EAAGrB,GACXqB,EAAEb,iBACFa,EAAE0tB,2BAEF7tB,KAAKitB,OAAOhU,KAAK,UAAW,EAAQ/c,OACpC8D,KAAKmtB,KAAKlU,KAAK,UAAW,EAAmB,QAAX,EAAArc,OAAmB,MAAQ,EAAAA,SAC7DoD,KAAKotB,KAAKnU,KAAK,UAAW,EAAQ,EAAApc,UAClCmD,KAAKqtB,IAAIpU,KAAK,UAAsB,YAAX9Y,EAAE/C,MAC3B4C,KAAKstB,MAAMrU,KAAK,UAAsB,cAAX9Y,EAAE/C,MAC7B4C,KAAKutB,MAAMtU,KAAK,UAAsB,cAAX9Y,EAAE/C,MAC7B4C,KAAKwtB,OAAOvU,KAAK,UAAsB,eAAX9Y,EAAE/C,MAE9B,MAAM,SAAE2R,EAAQ,kBAAE+e,EAAiB,KAAEre,EAAI,OAAEX,GAAW9O,KAAK+tB,cAAc,CAAC5tB,EAAGL,QAAO,KAEpF,OAAE,YAAaE,KAAKgD,SAAS,GAAGiB,UAAYjE,KAAKguB,eAAe,CAC9Djf,WAAU+e,oBAAmBre,OAAMX,UAEvC,CAEA,aAAAif,EAAe5tB,GAAE,KAAC/C,GAAK,QAAE0C,IACvB,IAAIgP,EAAsBhP,EAAQ5D,MAAQ,GAAK,EAC3C6S,EAAsBjP,EAAQ3D,IAAM,WAAa,MACjD2xB,EAAsBhuB,EAAQ3D,IAAM,OAAS,KAE7CsT,EAAO,cAYX,MAXa,YAATrS,IAAwBqS,EAAO,gBACtB,cAATrS,IAAwBqS,EAAO,mBACtB,cAATrS,IAAwBqS,EAAO,iBACtB,eAATrS,IAAwBqS,EAAO,kBAC/B3P,EAAQ,EAAAjD,WAAgB4S,EAAO,aAE/B3P,EAAQ,EAAAjD,UAAqB,cAATO,IACtB2R,EAAsB,WACtB+e,EAAsB,QAGjB,CACL/e,WAAU+e,oBAAmBhf,SAAQW,OAEzC,CAEA,cAAAue,EAAe,SAACjf,EAAQ,kBAAE+e,EAAiB,KAAEre,EAAI,OAAEX,IACjD,MAAO,0BACYC,+BACJ/O,KAAKytB,oCACHK,+BACFre,+DAEEX,gBAEnB,CAEA,MAAA5K,GACE,MAAO,6EAIG,EAAMlE,KAAKytB,uBACXztB,KAAKytB,mFAIPztB,KAAKguB,eAAe,CACpBjf,SAAU,KAAK,EAAAnS,WACfkxB,kBAAmB,OACnB5M,KAAMlhB,KAAKytB,MACXhe,KAAM,cACNX,OAAQ,kFAKN7P,OAAOuQ,QAAQxP,KAAK2sB,gBAAgBze,QAAO,CAAC+f,GAAWC,EAAU/F,KAAS,mBACxE8F,6BACSC,KAAY/F,EAAIja,QAAO,CAACia,EAAKnuB,EAAK3C,IAAM,qBAC/C8wB,+CAEEnuB,wBACAgG,KAAK+sB,SAAW/yB,EAAM,sCAAwC,yBAC9DgG,KAAKgtB,UAAU3iB,SAASrQ,GAAO,OAAS,qCAC5BgG,KAAK8sB,eAAeoB,GAAU72B,IAAM,yBACjD2C,4BACF,+CAEF,uTAab,EAGFmL,eAAeC,OAAO,aAAcsnB,ICzIpCvnB,eAAeC,OAAO,iBA9Bf,cAA4BsnB,GACjC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,GAClBhtB,KAAKkhB,KAAa,QACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICIFtoB,eAAeC,OAAO,oBA9Bf,cAA+BsnB,GACpC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,EAAApwB,QACnBoD,KAAKkhB,KAAa,WACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICGFtoB,eAAeC,OAAO,wBA9Bf,cAAmCsnB,GACxC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,EAAApwB,QACnBoD,KAAKkhB,KAAa,eACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICCFtoB,eAAeC,OAAO,eA9Bf,cAA0BsnB,GAC/B,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAW,IAChB/sB,KAAKkhB,KAAW,MAClB,CAEA,aAAA6M,EAAe5tB,GAAE,KAAC/C,GAAK,QAAE0C,IACvB,IAEI2P,EAAO,cAMX,MALa,YAATrS,IAAwBqS,EAAO,mBACtB,cAATrS,IAAwBqS,EAAO,8CACtB,cAATrS,IAAwBqS,EAAO,sCACtB,eAATrS,IAAwBqS,EAAO,wCAE5B,CACLV,cATUA,EASA+e,uBATUA,EASShf,YAT3BA,EASmCW,OAEzC,CAEA,cAAAue,EAAe,KAACve,IACd,MAAO,sBACQzP,KAAKytB,kCACLhe,gBAEjB,ICfFtK,eAAeC,OAAO,iBAXf,cAA4BsnB,GACjC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAAnwB,QAAQ,EAAAD,QAEnCoD,KAAKkhB,KAAa,QACpB,ICGF/b,eAAeC,OAAO,kBAXf,cAA6BsnB,GAClC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAAnwB,QAAQ,EAAAD,QAEnCoD,KAAKkhB,KAAa,SACpB,ICRF,MAAM,GAAkB,CAAC,OAAO,SAAS,SACnC,GAAkB,CAAC,MAAM,SAAS,UAClCiN,GAAkB,CAAC,SAAS,SAAS,WA2F3ChpB,eAAeC,OAAO,gBAzFf,cAA2BsnB,GAChC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAY,IACjB/sB,KAAKgtB,UAAY,CAAC,EAAAnwB,QAAQ,SAE1BmD,KAAKouB,OAAW,EAChBpuB,KAAKquB,OAAW,EAChBruB,KAAKsuB,OAAW,EAEhBtuB,KAAKuuB,MAAgB,WACrBvuB,KAAKwuB,WAAgB,MACrBxuB,KAAKyuB,cAAgBN,GAAYnuB,KAAKsuB,QACtCtuB,KAAK0uB,MAAgB,UAErB1uB,KAAKkhB,KAAW,OAClB,CAEA,aAAA6M,EAAe5tB,GAAE,KAAC/C,GAAK,QAAE0C,IACvB,IAAIgP,EAAoB9O,KAAKyuB,cACzBX,EAAoB9tB,KAAKwuB,WACzB/e,EAAoBzP,KAAKuuB,MACzBxf,EAAoB/O,KAAK0uB,MAiC7B,OA/BI5uB,EAAQ,EAAAjD,UAAYiD,EAAQ5D,MACjB,YAATkB,EACF2R,EAAW,UACK,cAAT3R,EACP2R,EAAW,OACK,cAAT3R,IACP0wB,EAAoB,GAAGA,cAElBhuB,EAAQ,EAAAjD,UAAsB,eAATO,GAAkC,cAATA,GAOnBqS,EAArB,YAATrS,EAAqC4C,KAAK2uB,MAAM,GAAgB,UAClD,cAATvxB,EAAgC4C,KAAK2uB,MAAM,GAAgB,UAAU,GACrC,GAAe3uB,KAAKquB,QAE3B5e,GAArB,cAATrS,EAAsC,IAAM4C,KAAK2uB,MAAM,GAAgB,UACzD,eAATvxB,EAAiC,IAAM4C,KAAK2uB,MAAM,GAAgB,UAAU,GAC3C,IAAM,GAAe3uB,KAAKouB,QAEpEpuB,KAAKuuB,MAAQ9e,GAET3P,EAAQ5D,OAAmB,eAATkB,GAAkC,cAATA,IAC7C0R,EAAS9O,KAAK2uB,MAAMR,GAAa,SAAmB,eAAT/wB,GAC3C4C,KAAKyuB,cAAgB3f,KAlBvBgf,EAA6B,cAAT1wB,EAChB,SACA,MACJ4C,KAAKwuB,WAAaV,GAmBb,CACL/e,WAAU+e,oBAAmBhf,SAAQW,OAEzC,CAEA,cAAAue,EAAe,KAACve,EAAI,OAAEX,EAAM,SAAEC,EAAQ,kBAAE+e,IAItC,OAHc,GAAVhf,IAAaA,EAAS9O,KAAKyuB,eACN,QAArBX,IAA6BA,EAAoB9tB,KAAKwuB,YAEnD,sBACQxuB,KAAKytB,4DAEVK,+BACKre,yEAEEX,2DAEPC,gBAEZ,CAEA,KAAA4f,CAAMC,EAAO1N,EAAM2N,GAAY,GAQ7B,OAPIA,EACE7uB,KAAKkhB,GAAQ0N,EAAMz0B,OAAS,IAC9B6F,KAAKkhB,GAAQlhB,KAAKkhB,GAAQ,GAErBlhB,KAAKkhB,GAAQ,IACpBlhB,KAAKkhB,GAAQlhB,KAAKkhB,GAAQ,GAErB0N,EAAM5uB,KAAKkhB,GACpB,IC3BF/b,eAAeC,OAAO,mBA9Df,cAA8BsnB,GACnC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAAnwB,SAC3BmD,KAAKkhB,KAAa,UACpB,CAEA,aAAA6M,EAAe5tB,GAAE,KAAC/C,GAAK,QAAE0C,IACvB,IAAIgP,EAAsBhP,EAAQ5D,MAAQ,GAAK,EAC3C6S,EAAsB,sBAEtBU,EAAsB,cA6B1B,OA1BI3P,EAAQ,EAAAjD,UACV4S,EAAM,MAEO,cAATrS,IACF2R,EAAY,YACD,YAAT3R,IACF2R,EAAY,aAEE,cAAT3R,GAAiC,eAATA,GAC/BqS,EAAO,aAEM,cAATrS,IACF2R,EAAY,YACD,eAAT3R,IACF2R,EAAY,aAGE,YAAT3R,GAA+B,cAATA,IAC7BqS,EAAO,YAEM,cAATrS,IACF2R,EAAY,YACD,YAAT3R,IACF2R,EAAY,aAGT,CACLA,WAAU+e,kBA/Bc,KA+BKhf,SAAQW,OAEzC,CAEA,cAAAue,EAAe,SAACjf,EAAQ,kBAAE+e,EAAiB,KAAEre,EAAI,OAAEX,IAMjD,OALIC,IAAa,KAAK,EAAAnS,aACpBmS,EAAW,uBACa,SAAtB+e,IACFA,EAAoB,QAEf,0BACY/e,mCACCU,+BACJqe,gCACChf,gBAEnB,IC7BF3J,eAAeC,OAAO,oBA9Bf,cAA+BsnB,GACpC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAAnwB,SAC3BmD,KAAKkhB,KAAa,WACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICGFtoB,eAAeC,OAAO,mBA9Bf,cAA8BsnB,GACnC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAApwB,QAC3BoD,KAAKkhB,KAAa,UACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICwDFtoB,eAAeC,OAAO,eApFf,cAA0BsnB,GAC/B,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,CAAC,QAAQ,EAAAnwB,SAC3BmD,KAAKkhB,KAAa,MACpB,CAEA,aAAA6M,EAAe5tB,GAAE,KAAC/C,GAAK,QAAE0C,IACvB,IAAIgP,EAAsBhP,EAAQ5D,MAAQ,GAAK,EAC3C6S,EAAsB,sBACtB+e,EAAsB,KACtBre,EAAsB,cAmD1B,OAhDI3P,EAAQ5D,OAAmB,cAATkB,GAAiC,eAATA,GAUrC0C,EAAQ5D,OAAmB,YAATkB,GAA+B,cAATA,GAUxC0C,EAAQ,EAAAjD,UAAsB,YAATO,GAA+B,cAATA,EAWlC,YAATA,GAA+B,cAATA,GAC7BqS,EAAU,YACVX,EAAU,MAEG,YAAT1R,IACF2R,EAAY,YACD,cAAT3R,IACF2R,EAAY,aAGE,eAAT3R,GAAkC,cAATA,IAChCqS,EAAsB,iBACtBX,EAAsB,GACtBC,EAAsB,SACtB+e,EAAsB,KAxBtBre,EAAsB,cACtBX,EAAsB,GACtBgf,EAAsB,GAET,YAAT1wB,IACF2R,EAAY,YACD,cAAT3R,IACF2R,EAAY,cAjBdU,EAAU,UACVX,EAAU,MAEG,YAAT1R,IACF2R,EAAY,YACD,cAAT3R,IACF2R,EAAY,cAhBdU,EAAU,UACVX,EAAU,MAEG,cAAT1R,IACF2R,EAAY,YACD,eAAT3R,IACF2R,EAAY,aAyCT,CACLA,WAAU+e,oBAAmBhf,SAAQW,OAEzC,CAEA,cAAAue,EAAe,SAACjf,EAAQ,kBAAE+e,EAAiB,KAAEre,EAAI,OAAEX,IAMjD,OALIC,IAAa,KAAK,EAAAnS,aACpBmS,EAAW,uBACa,SAAtB+e,IACFA,EAAoB,QAEf,0BACY/e,mCACCU,+BACJqe,gCACChf,gBAEnB,ICnDF3J,eAAeC,OAAO,eA9Bf,cAA0BsnB,GAC/B,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,GAClBhtB,KAAKkhB,KAAa,MACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICGFtoB,eAAeC,OAAO,iBA9Bf,cAA4BsnB,GACjC,WAAA5pB,GACEC,QAEA/C,KAAK+sB,QAAa,IAClB/sB,KAAKgtB,UAAa,GAClBhtB,KAAKkhB,KAAa,QACpB,CAEA,IAAAwM,GACE1tB,KAAKgD,QAAQW,KAAKqB,MAAMmF,QAAU,MACpC,CAEA,MAAAjG,GACE,MAAO,6EAIG,mBACAlE,KAAKytB,qIAQjB,ICbK,MAAMqB,WAAgBjsB,YAE3B,WAAAC,GACEC,QAEA/C,KAAK+uB,SAAW,CACd1C,OAAgBtrB,SAASwJ,cAAc,kBACvC4hB,UAAgBprB,SAASwJ,cAAc,qBACvCkiB,cAAgB1rB,SAASwJ,cAAc,yBACvCshB,KAAgB9qB,SAASwJ,cAAc,gBACvC0E,OAAgBlO,SAASwJ,cAAc,kBACvCgP,QAAgBxY,SAASwJ,cAAc,mBACvCwhB,MAAgBhrB,SAASwJ,cAAc,iBACvC0hB,SAAgBlrB,SAASwJ,cAAc,oBACvC2hB,UAAgBnrB,SAASwJ,cAAc,qBACvCzG,SAAgB/C,SAASwJ,cAAc,oBACvCuhB,KAAgB/qB,SAASwJ,cAAc,gBACvCvB,KAAgBjI,SAASwJ,cAAc,gBACvCuO,OAAgB/X,SAASwJ,cAAc,mBAGzCtL,OAAO+vB,OAAOhvB,KAAK+uB,UAAUhxB,SAAQmjB,GACnClhB,KAAK2E,YAAYuc,IACrB,CAEA,iBAAA7d,GACE,EAAQ,WAAWlD,GACjBH,KAAKivB,SACDjvB,KAAKkvB,WACLlvB,KAAKmvB,aAEX,EAAQ,OAAOhvB,GAAKH,KAAKkvB,YAC3B,CAEA,oBAAA3rB,GAAwB,CAExB,QAAA2rB,GACOlvB,KAAKivB,WACVjvB,KAAKivB,SAASrB,OACd5tB,KAAKivB,SAAW,KAClB,CAEA,QAAAE,GACEnvB,KAAKivB,SAAWjvB,KAAK+uB,UACnB,OAAE,iBAAiB,GAAGhO,YACxB/gB,KAAKivB,SAASvB,MAChB,EAGFvoB,eAAeC,OAAO,wBAAyB0pB,IC/DxC,MAAMM,GAAiB,CAC5BC,EAAG,CACDnO,KAAa,SACboO,KAAa,GACbhlB,MAAa,6BACbilB,YAAa,uCACbC,YAAa,geAefn4B,EAAG,CACD6pB,KAAa,YACboO,KAAa,GACbhlB,MAAa,8BACbilB,YAAa,kDACbC,YAAa,sVAWfnyB,EAAG,CACD6jB,KAAa,gBACboO,KAAa,GACbhlB,MAAa,gBACbilB,YAAa,gDACbC,YAAa,gLAOf5iB,EAAG,CACDsU,KAAa,OACboO,KAAa,GACbhlB,MAAa,2BACbilB,YAAa,sDACbC,YAAa,mvBA6BfC,EAAG,CACDvO,KAAa,SACboO,KAAa,GACbhlB,MAAa,6BACbilB,YAAa,+EACbC,YAAa,0PAOa,EAAA5yB,wJAIA,EAAAC,2NAQ5B6yB,EAAG,CACDxO,KAAa,UACboO,KAAa,GACbhlB,MAAa,8BACbilB,YAAa,+EACbC,YAAa,4PAOa,EAAA5yB,wJAIA,EAAAC,2NAc5B8D,EAAG,CACDugB,KAAa,QACboO,KAAa,GACbhlB,MAAa,oCACbilB,YAAa,qEACbC,YAAa,2GAGa,EAAA3yB,iJAIA,EAAAA,8aAYA,EAAAA,4JAIA,EAAAA,kOAQ5B8yB,EAAG,CACDzO,KAAa,WACboO,KAAa,GACbhlB,MAAa,gCACbilB,YAAa,qEACbC,YAAa,4XAWa,EAAA3yB,oJAIA,EAAAA,2NAQ5B6P,EAAG,CACDwU,KAAa,YACboO,KAAa,GACbhlB,MAAa,6BACbilB,YAAa,2DACbC,YAAa,0PAOa,EAAA5yB,iJAIA,EAAAA,kJAIA,EAAAC,8EAU5B+yB,EAAG,CACD1O,KAAa,WACboO,KAAa,GACbhlB,MAAa,WACbilB,YAAa,sDACbC,YAAa,6TAWfK,EAAG,CACD3O,KAAa,OACboO,KAAa,GACbhlB,MAAa,kCACbilB,YAAa,4DACbC,YAAa,2pBAmBa,EAAA3yB,0NAQ5BsD,EAAG,CACD+gB,KAAa,OACboO,KAAa,GACbhlB,MAAa,gCACbilB,YAAa,yDACbC,YAAa,IAQfM,EAAG,CACD5O,KAAa,SACboO,KAAa,GACbhlB,MAAa,6BACbilB,YAAa,sGACbC,YAAa,KC7QF,MAAMO,WAAkBltB,YACrC,WAAAC,GACEC,QAEA/C,KAAKgwB,cAAiBZ,GACtBpvB,KAAKgD,QAAUhD,KAAKiD,aAAa,CAACC,KAAM,WACxClD,KAAKkrB,aAAiB,IAAAC,YACpBnrB,KAAKgD,QACL,KAAiB,KAAsB,KAE3C,CAEA,6BAAWyC,GACT,MAAO,CAAC,eACV,CAEA,iBAAApC,GjCqCK,IAA+B4sB,EiCpClCjwB,KAAKkwB,aAAelwB,KAAK4D,aAAa,gBAAkB,OAExD5D,KAAKmwB,QAELnwB,KAAKowB,eAAiB3S,GAAWzd,MACjCA,KAAKqwB,Y9B5CF,SAAqBC,EAASF,GACnC,MAAMG,GAAoB,OAAE,cAAeD,GACrCE,GAAoB,OAAE,cAAeF,GACrCG,GAAoB,OAAE,UAAWH,GACjCI,GAAoB,OAAE,QAASH,EAAiB,IAChDI,GAAoB,OAAE,QAASH,EAAiB,IAChDI,GAAoB,OAAE,QAASH,EAAa,IAE5CI,EACM,0DADNA,EAEM,kEAGN9gB,EAAQ,CACZkZ,kBAAcjoB,EACdslB,SAAc,IAGhBoK,EAAQhoB,GAAG,SAAS,EAAEhH,QAAQ+Z,aAC5B1L,EAAMuW,SAASjoB,KAAI0F,GACjBA,EAAGiB,MAAa,MAAIyW,IAEtB8U,EAAiB,GAAGvrB,MAAMC,YAAY,qBAAsBwW,EAAK,IAGnEkV,EAAQjoB,GAAG,SAAS,EAAEhH,QAAQ+Z,aAC5B1L,EAAMuW,SAASjoB,KAAI0F,GACjBA,EAAGiB,MAAMjB,aAAcyS,WACnB,OACA,mBACAiF,IAEN+U,EAAiB,GAAGxrB,MAAMC,YAAY,qBAAsBwW,EAAK,IAGnEmV,EAAQloB,GAAG,SAAS,EAAEhH,QAAQ+Z,aAC5B1L,EAAMuW,SAASjoB,KAAI0F,GACjBA,EAAGiB,MAAMjB,aAAcyS,WACnB,SACA,eACAiF,IAENgV,EAAa,GAAGzrB,MAAMC,YAAY,qBAAsBwW,EAAK,IAG/D,MA6FMqV,EAAY92B,IAChB+2B,IACAhhB,EAAMkZ,aAAejvB,EAET,eAARA,IACFu2B,EAAiB,GAAGvrB,MAAM0jB,UAAYmI,GAC5B,eAAR72B,IACFw2B,EAAiB,GAAGxrB,MAAM0jB,UAAYmI,GAC5B,WAAR72B,IACFy2B,EAAa,GAAGzrB,MAAM0jB,UAAYmI,EAAQ1W,EAGxC4W,EAAe,IACnB,CAACR,EAAkBC,EAAkBC,GAAc1yB,SAAQ,EAAEizB,KAC3DA,EAAOhsB,MAAM0jB,UAAYmI,IAI7B,OAFAT,EAAevK,kBA7GOS,IACpBvW,EAAMuW,SAAWA,EAEjB,IAGI2K,EAAIC,EAAIC,EAHRC,GAA0B,EAC1BC,GAA0B,EAC1BC,GAA0B,EAG9B,GAA6B,GAAzBvhB,EAAMuW,SAASnsB,OAAa,CAC9B,MAAM4J,EAAKgM,EAAMuW,SAAS,GAE1B,GAAIviB,aAAcyS,WAAY,CAC5Bya,EAAK,IAAI,IAAU,gBACnB,IAAIM,GAAU,IAAA1iB,UAAS9K,EAAI,UAC3BotB,EAAK,IAAI,IAAsB,SAAZI,EACf,eACAA,GACJL,EAAK,IAAI,KAAU,IAAAriB,UAAS9K,EAAI,QAClC,MAEEktB,EAAK,IAAI,KAAU,IAAApiB,UAAS9K,EAAI,UAChCmtB,EAAK,IAAI,KAAU,IAAAriB,UAAS9K,EAAI,oBAChCotB,EAAqC,SAAhC,IAAAtiB,UAAS9K,EAAI,eACd,IAAI,IAAU,gBACd,IAAI,KAAU,IAAA8K,UAAS9K,EAAI,gBAGjC,IAAIytB,EAAKP,EAAGlX,cACRrM,EAAKwjB,EAAGnX,cACR0X,EAAKN,EAAGpX,cAEZqX,EAA8C,iBAArBH,EAAGS,eAA4D,IAAvB3tB,EAAGqI,SAASjS,QAAmC,KAAnB4J,EAAGkF,YAChGooB,EAA8C,qBAArBH,EAAGQ,cAC5BJ,EAA8C,iBAArBH,EAAGO,cAExBN,IAA2BC,EAC7BP,EAAU,eACHO,IAA2BD,GAA0BC,GAA0BD,IACtFN,EAAU,cAEZ,MAAMa,EAASP,EAA2BI,EAAK,GACzCI,EAASP,EAA2B3jB,EAAK,GACzCmkB,EAASP,EAA2BG,EAAK,GAEzCK,EAAUV,EAA0B3X,GAAqBwX,GAAM,GAC/Dc,EAAUV,EAA0B5X,GAAqByX,GAAM,GAC/Dc,EAAUV,EAA0B7X,GAAqB0X,GAAM,GAErET,EAAQzX,KAAK,QAAS,IAAIgY,EAAGgB,SAC7BtB,EAAQ1X,KAAK,QAAS,IAAIiY,EAAGe,SAC7BrB,EAAQ3X,KAAK,QAAS,IAAIkY,EAAGc,SAE7B1B,EAAiBtX,KAAK,QAAS,iCACP0Y,6BACNG,cAGlBtB,EAAiBvX,KAAK,QAAS,iCACP2Y,6BACNG,cAGlBtB,EAAaxX,KAAK,QAAS,iCACH4Y,6BACNG,aAEpB,MAIEzB,EAAiBtX,KAAK,QAAS,yBACO,cAAtBlJ,EAAMkZ,aAA+B4H,EAAiBA,kGAKtEL,EAAiBvX,KAAK,QAAS,yBACO,cAAtBlJ,EAAMkZ,aAA+B4H,EAAiBA,kGAKtEJ,EAAaxX,KAAK,QAAS,yBACW,UAAtBlJ,EAAMkZ,aAA2B4H,EAAiBA,iGAIpE,IAwBK,CACLtH,UAtBgB,IAChBxZ,EAAMkZ,aAsBN6H,YACAlU,WAAY,CAAE7S,MAAOA,GACnBwmB,EAAiB,GAAGvrB,MAAMC,YAAY,qBAAsB8E,IAC9DgT,WAAY,CAAEhT,MAAOA,GACnBymB,EAAiB,GAAGxrB,MAAMC,YAAY,qBAAsB8E,IAElE,C8BxH0BmoB,CAAYlyB,KAAKgD,QAAShD,KAAKowB,gBjC+BnBH,EiC7BZjwB,KAAKowB,ejC8B7B1X,GAAiBuX,EiC5BfjwB,KAAKkf,cAAa,OAAE,uBAAwBlf,KAAKgD,SAAS,GAC5D,CAEA,oBAAAO,GACEvD,KAAKmyB,qBACLnyB,KAAKmmB,UACLnmB,KAAKowB,eAAe/X,aACpB,EAAQrW,OACN/C,OAAO5E,KAAK2F,KAAKgwB,eAAe9hB,QAAO,CAACC,EAAQnU,IAC9CmU,EAAU,IAAMnU,GAAK,KACzB,EAAQgI,OAAO,GAAG,EAAAnF,YACpB,CAEA,wBAAA6I,CAAyBC,EAAMC,EAAUC,GAC1B,iBAATF,GACF3F,KAAKkrB,YAAYrlB,EACrB,CAEA,KAAAsqB,GACEnwB,KAAKgD,QAAQiB,UAAYjE,KAAKkE,SAE9BlE,KAAK0X,aAAa,cACd1X,KAAK4D,aAAa,cAClB5D,KAAK+E,aAAa,aAAc,OAEpC/E,KAAK0X,aAAa,gBACd1X,KAAK4D,aAAa,gBAClB5D,KAAK+E,aAAa,eAAgB,QAEtC,MAAMqtB,EAAUpyB,KAAKgD,QAAQyB,cAAc,oBACrC4tB,GAAe,OAAE,iCAAkCD,GAEnDlI,EAAc/pB,IAClB,MACMmyB,GADSnyB,EAAEqR,eAAiBrR,EAAEuB,QACV6wB,QAAQ,eAC9BD,GAAYtyB,KAAKkf,aAAaoT,IAAenyB,EAAEX,iBAAiB,EAGtE0C,MAAMoR,KAAK+e,GACVt0B,SAAQu0B,IACPtI,GAAU,CACRjmB,GAAG/D,KACHiqB,QAASqI,EACTtrB,OAAQ,UACRkjB,WAAYA,GACb,IAGHF,GAAU,CACRjmB,GAAG/D,KACHiqB,QAASmI,EACTprB,OAAQ,SAGV/H,OAAOuQ,QAAQxP,KAAKgwB,eAAejyB,SAAQ,EAAE/D,EAAKyhB,KAChD,EAAQzhB,GAAKmG,IACXA,EAAEb,iBACFU,KAAKkf,cACH,OAAE,eAAezD,EAAMyF,SAAUlhB,KAAKgD,SAAS,GACjD,MAIJ,EAAQ,GAAG,EAAAnG,aAAa,EAAAA,aAAasD,GACnCH,KAAKgD,QAAQW,KAAKqB,MAAMmF,QACc,SAApCnK,KAAKgD,QAAQW,KAAKqB,MAAMmF,QACpB,QACA,QACV,CAEA,OAAAgc,GACEjkB,MAAMoR,KAAKvS,SAASgG,KAAKqF,UACtBrM,QAAOqR,GAAQA,EAAKuB,SAAStI,SAAS,eACtCtM,SAAQgG,GAAMA,EAAG8P,WAEpB7T,KAAK2qB,WAEL5pB,SAASuH,iBAAiB,6BACvBvK,SAAQgG,GACPA,EAAGiK,gBAAgB,uBACzB,CAEA,YAAAkR,CAAanb,GACO,iBAAPA,IACTA,GAAK,OAAE,eAAeA,MAAQ/D,KAAKgD,SAAS,IAE1ChD,KAAK8gB,aAAe9gB,KAAK8gB,YAAY0R,QAAQtR,OAASnd,EAAGyuB,QAAQtR,OAEjElhB,KAAK8gB,cACP9gB,KAAK8gB,YAAY7H,KAAK,cAAe,MACrCjZ,KAAKmyB,sBAGPpuB,EAAGkV,KAAK,eAAe,GACvBjZ,KAAK8gB,YAAc/c,EACnB/D,KAAK+D,EAAGyuB,QAAQtR,QAClB,CAEA,MAAAhd,GACE,MAAO,6FAEwB,EAAAuuB,+BAAiC,QAAQ,qBAClExzB,OAAOuQ,QAAQxP,KAAKgwB,eAAe9hB,QAAO,CAAC+J,GAAOje,EAAKknB,KAAU,eAC/DjJ,gCACgBiJ,EAAK5W,iCAAiC4W,EAAKqO,6BAA6Bv1B,iBAAmBknB,EAAKA,sBAA6B,KAAPlnB,oBACpIknB,EAAKoO,qBACLtvB,KAAK0yB,QAAQ,CAAC14B,SAAQknB,kCAE1B,yLAKE,0MAIA,kMAIA,sCAIV,CAEA,OAAAwR,EAAQ,IAAC14B,EAAG,KAAEknB,EAAI,MAAE5W,EAAK,YAAEilB,EAAW,YAAEC,IACtC,MAAO,kBACItO,6CAEOlhB,KAAKkwB,gBAAgBhP,eAAkBqO,kEAG7CjlB,iCACatQ,+CAEZu1B,sBACHC,qEAKZ,CAEA,IAAA3D,GlCrLK,IAAkBnO,EkCsLrB1d,KAAKmyB,oBlCtLgBzU,EkCsLc1d,KAAKowB,elCrL1C,EAAQ,IAAY,CAACjwB,GAAInG,UACnBmG,EAAEV,eAENU,EAAEb,iBACFa,EAAEX,kBAEFke,EAAYzH,YAAYlY,SAAQgG,KAiB7B,SAAqBA,EAAIyK,GAC9B,GAAKzK,EAEL,OAAOyK,GACL,IAAK,OACC4G,GAAYrR,GACdA,EAAG2R,WAAWI,aAAa/R,EAAIA,EAAGsR,yBAElC,IAAAsd,UAAS5uB,EAAG2R,YACd,MAEF,IAAK,QACCJ,GAAavR,IAAOA,EAAGwR,mBAAmB4O,YAC5CpgB,EAAG2R,WAAWI,aAAa/R,EAAIA,EAAGwR,mBAAmB4O,aAC9C7O,GAAavR,GACpBA,EAAG2R,WAAW/Q,YAAYZ,IAE1B,IAAA4uB,UAAS5uB,EAAG2R,YACd,MAEF,IAAK,KACCC,GAAU5R,IACZ6R,GAAO,CAAC7R,OACV,MAEF,IAAK,OACC0R,GAAa1R,GACf6R,GAAO,CAAC7R,KAAI8R,OAAO,IACZL,GAAYzR,IACnBA,EAAGwR,mBAAmBqP,QAAQ7gB,GAGtC,CAhDM6uB,CAAY7uB,EAAI/J,GAChBue,GAAexU,EAAE,IAClB,IAGH2Z,EAAYmI,iBAAiB7P,IAC7B/F,EAAe,CAACC,OAAO,IAEhB,KACLD,EAAe,CAACC,OAAO,IACvBwN,EAAYqI,uBAAuB/P,IACnCE,KACA,EAAQlU,OAAO,GAAU,EkCmK3B,CAEA,MAAAiN,GpClMK,IAAgByO,EoCmMnB1d,KAAKmyB,oBpCnMczU,EoCmMc1d,KAAKowB,epClMxC,EAAQniB,GAAY,CAAC9N,EAAGrB,KAClBqB,EAAEV,eAENU,EAAEb,iBACFgP,EAAYoP,EAAYzH,YAAanX,EAAQ9E,KAAG,IAGlD,EAAQqU,GAAgB,CAAClO,EAAGrB,KAC1BqB,EAAEb,iBAmCC,SAA6BiP,EAAKskB,GACvC,MAAMC,EAAQD,EAAWt4B,MAAM,KAC/B,IAAIw4B,EAAQ,GAERD,EAAMzoB,SAAS,WAAW0oB,EAAQ,SAAWA,GAC7CD,EAAMzoB,SAAS,UAAW0oB,EAAQ,OAASA,GAE/C,qBAAqBx4B,MAAM,KACxBwD,SAAQ0R,GAAQnB,EAAYC,EAAKwkB,EAAQtjB,IAC9C,CA3CIujB,CAAoBtV,EAAYzH,YAAanX,EAAQ9E,IAAG,IAG1D0jB,EAAYmI,iBAAiB3W,GAEtB,KACL,EAAQlN,OAAOiM,GACf,EAAQjM,OAAOqM,GACf,EAAQrM,OAAO,sBACf0b,EAAYqI,uBAAuB7W,GACjBwO,EAAYzH,YAiD5BlY,SAAQgG,IACV,MAAMoL,EAAWpL,EAAGH,aAAa,iBAC3BqvB,EAAWlyB,SAAS0D,cAAc,wCAAwC0K,OAC7EnM,QAAQyB,cAAc,0BAErBwuB,GAAUA,EAASpf,QAAO,GAtDW,EoCgL3C,CAEA,OAAA0F,G/BtMK,IAAiBmE,E+BuMpB1d,KAAKmyB,oB/BvMezU,E+BuMc1d,KAAKowB,e/BtMzC,EAAQ,IAAY,CAACjwB,EAAGrB,KAClBqB,EAAEV,eAENU,EAAEb,iBACFga,GAAWoE,EAAYzH,YAAanX,EAAQ9E,KAAG,IAGjD,EAAQ,IAAgB,CAACmG,EAAGrB,KAC1BqB,EAAEb,iBAmCC,SAA4BiP,EAAKskB,GACtC,MAAMC,EAAQD,EAAWt4B,MAAM,KAC/B,IAAIw4B,EAAQ,GAERD,EAAMzoB,SAAS,WAAW0oB,EAAQ,SAAWA,GAC7CD,EAAMzoB,SAAS,UAAW0oB,EAAQ,OAASA,GAE/C,qBAAqBx4B,MAAM,KACxBwD,SAAQ0R,GAAQ6J,GAAW/K,EAAKwkB,EAAQtjB,IAC7C,CA3CIyjB,CAAmBxV,EAAYzH,YAAanX,EAAQ9E,IAAG,IAGzD0jB,EAAYmI,iBAAiB,IAEtB,KACL,EAAQ7jB,OAAO,IACf,EAAQA,OAAO,IACf,EAAQA,OAAO,sBACf0b,EAAYqI,uBAAuB,IACjBrI,EAAYzH,YAiD5BlY,SAAQgG,IACV,MAAMoL,EAAWpL,EAAGH,aAAa,iBAC3BqvB,EAAWlyB,SAAS0D,cAAc,wCAAwC0K,OAC7EnM,QAAQyB,cAAc,0BAErBwuB,GAAUA,EAASpf,QAAO,GAtDW,E+BoL3C,CAEA,IAAAiY,GACE9rB,KAAKmyB,mBzB3MF,UAAc,UAAClc,IAyCpB,OAxCA,EAAQ,IAAY,CAAC9V,EAAGrB,KACtB,GAAIqB,EAAEV,aAAc,OAEpBU,EAAEb,iBAEF,IAAI6zB,EAAgBld,IAChB5b,EAAOyE,EAAQ9E,IAAIO,MAAM,KAoE1B,IAAuBgU,EAAKC,EAlE3BnU,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACzChQ,EAAKgQ,SAAS,UAiEUkE,EAhEN4kB,EAgEW3kB,EAhEI1P,EAAQ9E,IAiE7CuU,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,gBACV2J,QAAUpI,YAAW,IAAAsI,UAAS9K,EAAI,kBAClC+K,OAAU,GACVC,SAAUP,EAAUjU,MAAM,KAAK8P,SAAS,YAEzChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrB0B,QAA4B,UAAnB1B,EAAQ0B,SAAuBykB,MAAMnmB,EAAQ0B,SAClD,EACA1B,EAAQ0B,YAEftQ,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQ8B,UACV9B,EAAQ0B,QAAU1B,EAAQ6B,QAAQa,QAAQ,IAC1C1C,EAAQ0B,QAAU1B,EAAQ6B,QAAQa,QAAQ,OAElD5R,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAAS,GAAGyW,IAAU,GAAK,EAAIA,SA8DvC,SAAyBlN,EAAKC,GACnCD,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,YACV2J,SAAU,IAAAE,UAAS9K,EAAI,aACvByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,YAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXyY,GAASha,EAAQ0B,SAAW,EAC5BsY,GAASha,EAAQ0B,SAAW,MAEnC5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASoiB,GAAa3L,EAAQ,EAAI,EAAIA,GAAS,EAAI,EAAGA,IACrE,CArKU4X,CAAgBF,EAAer0B,EAAQ9E,KAE3CK,EAAKgQ,SAAS,SAmCb,SAAuBkE,EAAKC,GACjCD,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,aACV2J,QAAUC,UAAS,IAAAC,UAAS9K,EAAI,eAChC+K,OAAU,EACVC,SAAUP,EAAUjU,MAAM,KAAK8P,SAAS,YAEzChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrB0B,QAA4B,UAAnB1B,EAAQ0B,SAAuBykB,MAAMnmB,EAAQ0B,SAClD,KAAOC,UAAS,IAAAC,UAAS5B,EAAQlJ,GAAI,aACrCkJ,EAAQ0B,YAEftQ,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQ8B,SACX9B,EAAQ0B,QAAU1B,EAAQ6B,OAC1B7B,EAAQ0B,QAAU1B,EAAQ6B,WAEjC/Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAAS,GAAGyW,OAC3B,CA1DU6X,CAAcH,EAAer0B,EAAQ9E,KAsFxC,SAAwBuU,EAAKC,GAClCD,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,WACV2J,QAAUC,UAAS,IAAAC,UAAS9K,EAAI,aAChC+K,OAAUN,EAAUjU,MAAM,KAAK8P,SAAS,SAAW,GAAK,EACxD0E,SAAUP,EAAUjU,MAAM,KAAK8P,SAAS,YAEzChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBsmB,UAAWtmB,EAAQ8B,SACf9B,EAAQ0B,QAAU1B,EAAQ6B,OAC1B7B,EAAQ0B,QAAU1B,EAAQ6B,WAEjC/Q,SAAQ,EAAEgG,KAAIiB,QAAOuuB,eACpBxvB,EAAGiB,MAAMA,GAAS,GAAGuuB,GAAa,EAAI,EAAIA,OAChD,CAvGUC,CAAeL,EAAer0B,EAAQ9E,IAAG,IAGjD,EAAQ,IAAgB,CAACmG,EAAGrB,KAC1BqB,EAAEb,iBACF,IAAIjF,EAAOyE,EAAQ9E,IAAIO,MAAM,KA6G1B,IAA0BgU,EAAKC,EAALD,EA5GZ0H,IA4GiBzH,EA5GJnU,EAAKgQ,SAAS,MAAQ,KAAO,OA6G7DkE,EACGlQ,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACTA,KACAiB,MAAU,aACV2J,SAAU,IAAAE,UAAS9K,EAAI,cACvByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,YAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXoY,GAAU3Z,EAAQ0B,SAAW,EAC7BiY,GAAU3Z,EAAQ0B,SAAW,MAEpC5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASgiB,GAAcvL,EAAQ,EAAI,EAAIA,GAASuL,GAAc7sB,OACnE6sB,GAAc7sB,OACdshB,IA9H2D,IAGnE,EAAQ,SAAStb,IACf8V,IAAYlY,SAAQgG,GAClBA,EAAGiB,MAAMyuB,WACgB,QAAvB1vB,EAAGiB,MAAMyuB,WACL,KACA,QAAM,IAGhB,EAAQ,SAAStzB,IACf8V,IAAYlY,SAAQgG,GAClBA,EAAGiB,MAAM0uB,UACe,UAAtB3vB,EAAGiB,MAAM0uB,UACL,KACA,UAAQ,IAGX,KACL,EAAQ1xB,OAAO,IACf,EAAQA,OAAO,IACf,EAAQA,OAAO,eACf,EAAQA,OAAO,qBAAoB,CAEvC,CyB4J8B2xB,CAAK3zB,KAAKowB,eACtC,CAEA,IAAApnB,GACEhJ,KAAKowB,eAAevK,iBAAiBQ,IACrCrmB,KAAKmyB,mBAAqB,IACxBnyB,KAAKowB,eAAerK,uBAAuBM,GAC/C,CAEA,KAAA0F,GACE/rB,KAAKmyB,mBxBrNF,UAAc,UAAClc,IAmCpB,OAlCA,EAAQ,IAAY,CAAC9V,EAAGrB,KACtB,GAAIqB,EAAEV,aAAc,OAEpBU,EAAEb,iBAEF,IAAI6zB,EAAgBld,IAChB5b,EAAOyE,EAAQ9E,IAAIO,MAAM,KAyG1B,IAA6BgU,EAAKC,EAvGjCnU,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACzChQ,EAAKgQ,SAAS,UAsGgBkE,EArGN4kB,EAqGW3kB,EArGI1P,EAAQ9E,IAsGnDuU,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAU,iBACV2J,QAAU2Y,IAA8B,IAAAzY,UAAS9K,EAAI,kBAAmB,cACxEyK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,YAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXsZ,GAAkB7a,EAAQ0B,SAAW,EACrCmZ,GAAkB7a,EAAQ0B,SAAW,MAE5C5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAAS+iB,GAAsBtM,EAAQ,EAAI,EAAIA,GAAS,EAAI,EAAGA,MA5DvE,SAA0BlN,EAAKC,GACpCD,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAU,iBACV2J,QAAU2Y,IAA8B,IAAAzY,UAAS9K,EAAI,kBAAmB,SACxEyK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,YAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXmZ,GAAW1a,EAAQ0B,SAAW,EAC9BgZ,GAAW1a,EAAQ0B,SAAW,MAErC5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAAS4iB,GAAenM,EAAQ,EAAI,EAAIA,GAAS,EAAI,EAAGA,IACvE,CAzEUmY,CAAiBT,EAAer0B,EAAQ9E,KAE5CK,EAAKgQ,SAAS,SAwHb,SAA6BkE,EAAKC,GACvCD,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAU,eACV2J,SAAU,IAAAE,UAAS9K,EAAI,gBACvByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,UAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXwZ,GAAkB/a,EAAQ0B,SAAW,EACrCqZ,GAAkB/a,EAAQ0B,SAAW,MAE5C5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASijB,GAAsBxM,EAAQ,EAAI,EAAIA,GAAS,EAAI,EAAGA,IAC9E,CAxIUoY,CAAoBV,EAAer0B,EAAQ9E,KA2E9C,SAA0BuU,EAAKC,GACpCD,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAU,aACV2J,SAAU,IAAAE,UAAS9K,EAAI,cACvByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,UAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACXmZ,GAAW1a,EAAQ0B,SAAW,EAC9BgZ,GAAW1a,EAAQ0B,SAAW,MAErC5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAAS6iB,GAAepM,EAAQ,EAAI,EAAIA,GAAS,EAAI,EAAGA,IACvE,CA3FUqY,CAAiBX,EAAer0B,EAAQ9E,IAAG,IAGnD,EAAQ,IAAgB,CAACmG,EAAGrB,KAC1BqB,EAAEb,iBAEF,IAAI6zB,EAAgBld,IAChB5b,EAAOyE,EAAQ9E,IAAIO,MAAM,KAqI1B,IAAqBgU,EAAKC,EAnIzBnU,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACzChQ,EAAKgQ,SAAS,UAkIQkE,EAjIN4kB,EAiIW3kB,EAjII1P,EAAQ9E,IAkI3CuU,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAO,gBACP2J,SAAS,IAAAE,UAAS9K,EAAI,iBACtByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,YAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACmB,IAA9B0Z,GAASjb,EAAQ0B,UAAgD,IAA9BuZ,GAASjb,EAAQ0B,SAClDuZ,GAASjb,EAAQ0B,SAAWuZ,GAASjb,EAAQ0B,SAAW,EAC5B,IAA9BuZ,GAASjb,EAAQ0B,UAAgD,IAA9BuZ,GAASjb,EAAQ0B,SAClDuZ,GAASjb,EAAQ0B,SAAWuZ,GAASjb,EAAQ0B,SAAW,MAE/D5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASqjB,GAAa5M,MAlJ7BgM,GAAgB0L,EAAe,OAEnC94B,EAAKgQ,SAAS,SAsJb,SAAoBkE,EAAKC,GAC9BD,EACGlQ,IAAIgpB,IACJhpB,KAAI0F,IAAM,CACTA,KACAiB,MAAO,WACP2J,SAAS,IAAAE,UAAS9K,EAAI,YACtByK,UAAWA,EAAUjU,MAAM,KAAK8P,SAAS,UAE1ChM,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBwO,MAAOxO,EAAQuB,UACkB,IAA7B8Z,GAAQrb,EAAQ0B,SACd2Z,GAAQrb,EAAQ0B,SAAW2Z,GAAQrb,EAAQ0B,SAAW,EAC3B,IAA7B2Z,GAAQrb,EAAQ0B,SACd2Z,GAAQrb,EAAQ0B,SAAW2Z,GAAQrb,EAAQ0B,SAAW,MAE7D5Q,SAAQ,EAAEgG,KAAIiB,QAAOyW,WACpB1X,EAAGiB,MAAMA,GAASwjB,GAAY/M,IACtC,CAxKUsY,CAAWZ,EAAer0B,EAAQ9E,KAClCytB,GAAgB0L,EAAe,SAAQ,IAGxC,KACL,EAAQnxB,OAAO,IACf,EAAQA,OAAO,IACf,EAAQA,OAAO,qBAAoB,CAEvC,CwB6K8BgyB,CAAKh0B,KAAKowB,eACtC,CAEA,MAAAtX,GACE9Y,KAAKmyB,mBjCtLF,SAAgB/gB,GACjBA,GAAMA,EAAK,GAAGzM,YAAYmU,GAAO,IAErC,MAAMmb,EAAU9zB,IACdA,EAAEb,iBACFa,EAAEX,kBAEYW,EAAEuB,OAAO+Z,MAEvB5hB,OAAOq6B,qBAAoBlR,IACT,KAGd0D,EAAQvmB,GACZ4Y,GAAY,GAAG2N,QAejB,OAbA3N,GAAYrQ,GAAG,QAASge,GACxB3N,GAAYrQ,GAAG,QAASurB,GACxBlb,GAAYrQ,GAAG,UAAWwQ,IAtBAJ,GAAOG,KAAK,QAAS,iBA0B/CyN,IAOO,KACL1N,KACAD,GAAYpQ,IAAI,UAAWsrB,GAC3Blb,GAAYpQ,IAAI,UAAWuQ,IAC3BH,GAAYpQ,IAAI,OAAQqQ,GAAa,CAEzC,CiCmJ8Bmb,EAAO,OAAE,uBAAwBn0B,KAAKgD,SAClE,CAEA,SAAAkpB,GACElsB,KAAKmyB,mBvB7NF,UAAmB,UAAClc,IA2BzB,OA1BA,EAAQ,IAAY,CAAC9V,EAAGrB,KACtB,GAAIqB,EAAEV,aAAc,OAEpBU,EAAEb,iBAEF,IAAI6zB,EAAgBld,IAChB5b,EAAOyE,EAAQ9E,IAAIO,MAAM,KAEzBF,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACzChQ,EAAKgQ,SAAS,OACVwe,GAAgBsK,EAAe94B,EAAM,QACrCwuB,GAAgBsK,EAAe94B,EAAM,KAEzCA,EAAKgQ,SAAS,OACVwe,GAAgBsK,EAAe94B,EAAM,QACrCwuB,GAAgBsK,EAAe94B,EAAM,IAAG,IAGhD,EAAQ,IAAgB,CAAC8F,EAAGrB,KAC1BqB,EAAEb,iBACF,IAAIjF,EAAOyE,EAAQ9E,IAAIO,MAAM,KAC7BF,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACnCwe,GAAgB5S,IAAa5b,EAAM,WACnCwuB,GAAgB5S,IAAa5b,EAAM,QAAO,IAGzC,KACL,EAAQ2H,OAAO,IACf,EAAQA,OAAO,IACf,EAAQA,OAAO,qBAAoB,CAEvC,CuB6L8BoyB,CAAUp0B,KAAKowB,eAC3C,CAEA,QAAAnE,GACEjsB,KAAKmyB,mBtBzNF,UAAkB,MAAChJ,EAAK,UAAE4G,IAoD/B,OAnDA,GAAM9G,aAAiBE,EAAMI,YAC7B,GAAMjD,SAAiB,GAEvByJ,EAAUlK,kBAAiBS,IACzB,GAAMA,SAAWA,EACjB6C,EAAM2H,UAAU,GAAM7H,aAAY,IAGpC,EAAQ,IAAY,CAAC9oB,EAAGrB,KACtB,GAAIqB,EAAEV,aAAc,OAEpBU,EAAEb,iBAEF,IAAI6zB,EAAgB,GAAM7M,SACtBjsB,EAAOyE,EAAQ9E,IAAIO,MAAM,KAE7BF,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACnC6e,GAAUiK,EAAe94B,EAAM,IAAK8uB,GACpCD,GAAUiK,EAAe94B,EAAM,IAAK8uB,EAAK,IAG/C,EAAQ,IAAgB,CAAChpB,EAAGrB,KAC1BqB,EAAEb,iBACF,IAAIjF,EAAOyE,EAAQ9E,IAAIO,MAAM,KAC7BF,EAAKgQ,SAAS,SAAWhQ,EAAKgQ,SAAS,SACnC6e,GAAU,GAAM5C,SAAUjsB,EAAM,IAAK8uB,GACrCD,GAAU,GAAM5C,SAAUjsB,EAAM,IAAK8uB,EAAK,IAGhD,EAAQ,KAAK,CAAChpB,EAAGrB,KACfqB,EAAEb,iBAEwB,cAAtB,GAAM2pB,aACR,GAAMA,aAAe,aACQ,cAAtB,GAAMA,eACb,GAAMA,aAAe,UAEvBE,EAAM2H,UAAU,GAAM7H,aAAY,IAGpC,EAAQ,KAAK,CAAC9oB,EAAGrB,KACfqB,EAAEb,iBAEwB,cAAtB,GAAM2pB,aACR,GAAMA,aAAe,aACQ,UAAtB,GAAMA,eACb,GAAMA,aAAe,cAEvBE,EAAM2H,UAAU,GAAM7H,aAAY,IAG7B,KACL,EAAQjnB,OAAO,IACf,EAAQA,OAAO,IACf,EAAQA,OAAO,qBAAoB,CAEvC,CsBgK8BqyB,CAAS,CACjClL,MAAQnpB,KAAKqwB,YACbN,UAAW/vB,KAAKowB,gBAEpB,CAEA,SAAAjE,G7BzNK,IAAiBzO,E6B0NpB1d,KAAKmyB,oB7B1NezU,E6B0Nc1d,KAAKowB,e7BzNzC7V,GAAS+Z,UAAY5W,EAAYqB,OACjC,GAAMzC,WAAY,GAElB,OAAE,QAAQ5T,GAAG,YAAa8R,IAC1BkD,EAAYmI,iBAAiBxJ,IAE7B,EAAQ,OAAO2G,GAAK5H,OAEpBD,KAEO,MACL,OAAE,QAAQxS,IAAI,YAAa6R,IAC3BkD,EAAYqI,uBAAuB1J,IACnC,EAAQra,OAAO,OAyEjB,GAAMqY,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACrB0Y,IACFA,EAAIpV,MAAMmF,QAAU,WAGpB,GAAMgQ,OAAOC,MACf,GAAMD,OAAOC,IAAIvG,SACjB+G,KA/EQ,E6B4MV,CAEA,aAAA6R,G5BtOK,IAAuB/O,E4BuO1B1d,KAAKmyB,oB5BvOqBzU,E4BuOc1d,KAAKowB,e5BtO/C,GAAM9T,WAAY,GAElB,OAAE,QAAQ5T,GAAG,YAAa,IAC1BgV,EAAYmI,iBAAiB,IAE7B,EAAQ,OAAO7C,GAAK,OAEpB,KAEO,MACL,OAAE,QAAQra,IAAI,YAAa,IAC3B+U,EAAYqI,uBAAuB,IACnC,EAAQ/jB,OAAO,OA6EjB,GAAMqY,KAAKtc,SAAQ,EAAEqc,OAAM1Y,KACrB0Y,IACFA,EAAIpV,MAAMmF,QAAU,WAGpB,GAAMgQ,OAAOC,MACf,GAAMD,OAAOC,IAAIvG,SACjB,KAnFQ,E4B0NV,CAEA,MAAAwY,GrB9OK,IAAgB3O,EqB+OnB1d,KAAKmyB,oBrB/OczU,EqB+Oc1d,KAAKowB,gBrB9OxC,OAAE,QAAQ1nB,GAAG,YAAauY,KAC1B,OAAE,QAAQvY,GAAG,WAAYohB,IAEzBjwB,OAAOH,iBAAiB,SAAUqwB,IAClCrM,EAAYmI,iBAAiBgE,IAEtB,MACL,OAAE,QAAQlhB,IAAI,YAAasY,KAC3B,OAAE,QAAQtY,IAAI,WAAYmhB,IAE1BjwB,OAAO2J,oBAAoB,SAAUumB,IACrCrM,EAAYqI,uBAAuB8D,IAEnCzQ,KACA2Q,IAAc,EqBiOhB,CAEA,UAAAwK,GACEv0B,KAAKmyB,oBC/PPqC,MAAM,gBAEC,OD8PP,CAEA,QAAA1wB,GACE,IAAI2wB,EpBvPD,WACL,MAAM1kB,EAAQ,CACZuW,SAAU,IAwBZ,OArBA,EAAQ,IAAY,CAACnmB,EAAGrB,KAkJnB,IAAyByP,EAAKC,EAjJ7BrO,EAAEV,eAENU,EAAEb,iBA+I0BiP,EA9IZwB,EAAMuW,SA8IW9X,EA9ID1P,EAAQ9E,IA+I1CuU,EACGlQ,KAAI0F,GAAMinB,GAAmBjnB,KAC7B1F,KAAI0F,IAAM,IAAA0K,kBAAiB1K,KAC3B1F,KAAI0F,IAAM,CACPA,QACG6mB,GAA2B7mB,EAAIyK,GAClCM,OAAUN,EAAUjU,MAAM,KAAK8P,SAAS,SAAW,GAAK,EACxD0E,SAAUgc,GAAoBhnB,EAAIyK,OAErCnQ,KAAI4O,GACHhO,OAAO+P,OAAO/B,EAAS,CACrBnJ,SAAUmJ,EAAQ8B,SACd9B,EAAQ0B,QAAU1B,EAAQ6B,OAC1B7B,EAAQ0B,QAAU1B,EAAQ6B,WAEjC/Q,SAAQ,EAAEgG,KAAIiB,QAAOlB,cACpBC,aAAcyS,WACVqU,GAAkB9mB,EAAIyK,EAAW1K,GACjCC,EAAGiB,MAAMA,GAASlB,EAAW,OAjKQ,IAiBtC,CACL4wB,gBAfsBnmB,IACtBwB,EAAMuW,SAASvoB,SAAQgG,GACrBA,EAAG4mB,aAEL5a,EAAMuW,SAAW/X,EAAIlQ,KAAI0F,GACvBimB,GAAU,CAACjmB,QAAI,EAWjBsU,WARiB,KACjBtI,EAAMuW,SAASvoB,SAAQgG,GAAMA,EAAG4mB,aAChC,EAAQ3oB,OAAO,IACf,EAAQA,OAAO,qBAAoB,EAOvC,CoByNkB2yB,GACd30B,KAAKowB,eAAevK,iBAAiB4O,EAAQC,iBAC7C10B,KAAKmyB,mBAAqB,KACxBnyB,KAAKowB,eAAerK,uBAAuB0O,EAAQC,iBACnDD,EAAQpc,YAAW,CAEvB,CAEA,WAAAuc,CAAYp4B,GACV,MAAMojB,EAAQ,IAAIpjB,IAElB,OAAIq4B,eAAexd,IAAIuI,GACdiV,eAAetd,IAAIqI,EAAnBiV,CAA0B,CAC/BniB,SAAU1S,KAAKowB,eAAena,YAC9B2J,UAGGvP,QAAQC,QAAQ,IAAIwkB,MAAM,mBACnC,CAEA,cAAI/T,GACF,OAAO/gB,KAAK8gB,YAAY0R,QAAQtR,IAClC,EAGF/b,eAAeC,OAAO,gBAAiB2qB,IAEhC,MAAMgF,GAAmB,IAAK5vB,eAAeoS,IAAI,iB,4FE/RjD,MAAMyd,EAAY97B,UAAUC,UAAU2f,OAAO,WAAa,EACpDmc,EAAa/7B,UAAUC,UAAU2f,OAAO,UAAY,EACpDoc,EAAWh8B,UAAUC,UAAU2f,OAAO,UAAY,EAClDqc,EAAWF,IAAeC,EAE1BE,EAAiBC,GACI,IAAhCA,EAAYjpB,SAASjS,QAA2D,UAA3Ck7B,EAAYhsB,kBAAkBsJ,SAcxD8f,EAVa,MACxB,IAEE,OADA,IAAI54B,OAAOpC,cAAc,QAClB,CACT,CACA,MAAO0I,GACL,OAAO,CACT,GAG4Cm1B,E,yECpB9C,MAAMvlB,EAAQ,CACZwlB,QAAS,IAGX,IAAIrX,EAAY,CAAC,EAEjB,MAAMsX,EAAY,GAEZhX,EAAY,CAChB,EAAAiX,CAAI1lB,EAAO9C,GACT8C,EAAMwlB,QAAQr+B,KAAK+V,GACnBwL,QAAQ8F,IAAI,UAAWxO,EAAMwlB,QAAQl3B,KAAIhH,GAAKA,EAAE8oB,UAChD1H,QAAQ8F,IAAI,YAAaiX,EAAUn3B,KAAIhH,GAAKA,EAAE8oB,SAChD,EACA,IAAAuV,CAAM3lB,GACJ,MAAM4lB,EAAO5lB,EAAMwlB,QAAQp7B,OAAS,GAAK4V,EAAMwlB,QAAQrb,MACvD,IAAIyb,EAAM,OAAOld,QAAQmd,MAAM,mBAC/B,MAAM,eAAE3V,EAAc,SAAEC,EAAQ,QAAEpf,EAAO,OAAEqf,GAAWwV,EACtD,GAAc,QAAXxV,EACUpf,SAAS0D,cAAcyb,GAC/BrM,cACE,GAAc,WAAXsM,EAAqB,CAC7B,MAAMpc,EAAKhD,SAASwJ,cAAczJ,EAAQc,SAC3Bb,SAAS0D,cAAcwb,GAC/Btb,YAAYZ,GACnBA,EAAGyb,UAAY1e,EAAQ0e,SACzB,KAAsB,SAAXW,IACEpf,SAAS0D,cAAcyb,GAC/BV,UAAY1e,EAAQ0e,WAEzBgW,EAAUt+B,KAAKy+B,GACfld,QAAQ8F,IAAI,UAAWxO,EAAMwlB,QAAQl3B,KAAIhH,GAAKA,EAAE8oB,UAChD1H,QAAQ8F,IAAI,YAAaiX,EAAUn3B,KAAIhH,GAAKA,EAAE8oB,SAChD,EACA,IAAA0V,GAEE,KADsBL,EAAUr7B,OAAS,GACtB,OAAOse,QAAQmd,MAAM,mBACxC,MAAMD,EAAOH,EAAUtb,OACjB,eAAE+F,EAAc,SAAEC,EAAQ,QAAEpf,EAAO,OAAEqf,GAAWwV,EAEtD,GAAc,QAAXxV,EAAkB,CACnB,MAAMpc,EAAKhD,SAASwJ,cAAczJ,EAAQc,SAC3Bb,SAAS0D,cAAcwb,GAC/Btb,YAAYZ,GACnBA,EAAGyb,UAAY1e,EAAQ0e,UACvBsW,EAAQ9V,GAAG,CACTC,eAAgBA,EAChBC,SAAUA,EACVpf,QAAS,CACPc,QAASd,EAAQc,QACjB4d,UAAW1e,EAAQ0e,WAErBW,OAAQ,OAGZ,MAAO,GAAe,WAAXA,EAAqB,CAC9B,MAAMpc,EAAKhD,SAAS0D,cAAcyb,GAClC4V,EAAQ9V,GAAG,CACTC,eAAgBA,EAChBC,SAAUA,EACVpf,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAWzb,EAAGyb,WAEhBW,OAAQ,WAEVpc,EAAG8P,QACL,MAAO,GAAc,SAAXsM,EAAmB,CAC3B,MAAMpc,EAAKhD,SAAS0D,cAAcyb,GAClC4V,EAAQ9V,GAAG,CACTC,eAAgBA,EAChBC,SAAUA,EACVpf,QAAS,CACPc,QAASmC,EAAGnC,QACZ4d,UAAWzb,EAAGyb,UACd8E,eAAgBxjB,EAAQwjB,gBAE1BnE,OAAQ,SAEVpc,EAAGyb,UAAY1e,EAAQwjB,cACzB,CACA7L,QAAQ8F,IAAI,UAAWxO,EAAMwlB,QAAQl3B,KAAIhH,GAAKA,EAAE8oB,UAChD1H,QAAQ8F,IAAI,YAAaiX,EAAUn3B,KAAIhH,GAAKA,EAAE8oB,SAChD,EACA,aAAA1B,CAAepgB,GACb6f,EAAY7f,CACd,GAGWy3B,EAAU,CACrB,GAAI7oB,GACFuR,EAAUiX,GAAG1lB,EAAO9C,GACpB8oB,EAAQC,eAAejmB,EACzB,EACA,IAAA4V,GACEnH,EAAUkX,KAAK3lB,EACjB,EACA,IAAA6V,GACEpH,EAAUqX,MACZ,GAGWE,EAAU,CACrBR,QAASxlB,GACAA,EAAMwlB,QAEf,oBAAMS,CAAgBjmB,GAMG,IAACkmB,EALxBxd,QAAQ8F,IAAI,CACVgX,QAASxlB,EAAMwlB,QACfrX,UAAWA,IAObgY,MAAM,oCAAqC,CACzCz8B,OAAQ,OACR08B,QAAS,CACL,eAAgB,mCAEpBpvB,KAAMqvB,KAAKC,UAAU,CACnBhL,MAVoB4K,EAUCG,KAAKC,UAAU,CAClCd,QAASxlB,EAAMwlB,QACfrX,UAAWA,IAXRoY,KAAKC,SAASC,mBAAmBP,UAcvCQ,IACDhe,QAAQ8F,IAAIkY,EAAS,GAEzB,GAGWC,EAAW3yB,IACtB,GAAMA,aAAc4c,QAApB,CAGA,IADA,IAAIgW,EAAO,GACJ5yB,EAAG6yB,WAAaC,KAAKC,cAAc,CACtC,IAAIC,EAAWhzB,EAAG4O,SAASvZ,cAC3B,GAAI2K,EAAG3M,GAAI,CACP2/B,GAAY,IAAMhzB,EAAG3M,GACrBu/B,EAAKhV,QAAQoV,GACb,KACJ,CAEI,IADA,IAAIriB,EAAM3Q,EAAIizB,EAAM,EACbtiB,EAAMA,EAAIW,wBACTX,EAAI/B,SAASvZ,eAAiB29B,GAC/BC,IAEI,GAAPA,IACAD,GAAY,gBAAgBC,EAAI,KAExCL,EAAKhV,QAAQoV,GACbhzB,EAAKA,EAAG2R,UACZ,CACA,OAAOihB,EAAK91B,KAAK,MApBP,CAoBa,EAGzB,GACEkP,QACAyO,YACAsX,UACAC,UACAW,U,08BCjKK,MAAMO,EAAiB,CAC5BltB,MAAqB,eACrBmtB,gBAAqB,mBACrB7jB,gBAAqB,OACrB8jB,eAAqB,OACrBC,mBAAqB,QACrBC,aAAqB,MACrB3O,UAAqB,OACrBnP,QAAqB,MACrBtK,OAAqB,MACrBqoB,WAAqB,OACrBC,SAAqB,OACrB9D,WAAqB,MACrB+D,UAAqB,QACrBC,WAAqB,OACrBC,cAAqB,OACrBC,WAAqB,SACrBC,cAAqB,SACrBztB,QAAqB,QACrB0tB,WAAqB,SACrBC,eAAqB,SACrBpQ,cAAqB,MACrBqQ,SAAqB,SACrBC,UAAqB,OAErBC,KAAqB,eACrBC,OAAqB,OACrBC,oBAAqB,OACrBC,gBAAqB,OACrBC,iBAAqB,OACrBC,aAAqB,OACrBC,kBAAqB,OACrBC,SAAqB,4BACrBC,IAAqB,SACrBC,aAAqB,OAGnB,OACFzB,EAAeE,eAAiB,OAChCF,EAAe0B,YAAiB,GAChC1B,EAAeI,aAAiB,GAChCJ,EAAe1d,QAAiB,GAChC0d,EAAehoB,OAAiB,GAChCgoB,EAAewB,IAAiB,GAChCxB,EAAeuB,SAAiB,GAChCvB,EAAe2B,YAAiB,IAG9B,OACF3B,EAAewB,IAAM,iBAGhB,MAAMI,EAA0B,CACrC,OACA,WACA,SACA,MACA,MACA,QACA,QAGWC,EAAoB,CAC/B,CACEvB,SAAU,OACV9D,WAAY,KAEd,CACE8D,SAAU,SACV9D,WAAY,QCrEH5kB,EAAW,CAAC9K,EAAI4B,KAC3B,GAAI5E,SAASg4B,aAAeh4B,SAASg4B,YAAY1yB,iBAAkB,CAEjEV,GADAA,EAAOA,EAAKrL,QAAQ,WAAY,QACpBlB,cACZ,IAAI02B,EAAI/uB,SAASg4B,YAAY1yB,iBAAiBtC,EAAI,IAClD,OAAO+rB,GAAKA,EAAE3nB,iBAAiBxC,EACjC,GAGW4V,EAAYxX,IACDA,EAAGiB,MAAzB,MACMg0B,EAAgBn/B,OAAOwM,iBAAiBtC,EAAI,MAC5Ck1B,EAAe,GACfC,EAAU,GAEhB,IAAK,MAAMjlB,KAAQlQ,EAAGiB,MAAO,CAC3B,MAAMm0B,EAAalC,EAAehjB,GAE9BklB,GAAcA,GAAcH,EAAc/kB,IAC5CglB,EAAa/hC,KAAK,CAChB+c,KAAMA,EACNwH,MAAOud,EAAc/kB,KAGZ,gBAATA,GAAmC,gBAATA,GAAmC,gBAATA,IACtDilB,EAAQjlB,GAAQ+kB,EAAc/kB,GAAM3Z,QAAQ,UAAW,UAC3D,CAEA,MAAM,YAAEs+B,EAAW,YAAED,EAAW,YAAES,GAAgBF,EAmBlD,OAjBI3yB,WAAWoyB,GAAe,IAC5BM,EAAa/hC,KAAK,CAChB+c,KAAM,cACNwH,MAAOmd,IAGTK,EAAa/hC,KAAK,CAChB+c,KAAM,cACNwH,MAAO2d,IAGTH,EAAa/hC,KAAK,CAChB+c,KAAM,cACNwH,MAAOkd,KAIJM,EAAar4B,MAAK,UAAUqT,KAAKolB,IAASplB,KAAKqlB,IACpD,OAAID,EAAQC,GAAe,EACvBD,EAAQC,EAAc,EACnB,CACT,GAAC,EAGH,IAAIC,EACG,MAAMC,EAAmC,KAC9C,GAAID,EAAc,OAAOA,EAEzB,MAAME,EAAM14B,SAASwJ,cAAc,QAMnC,OALAkvB,EAAIz0B,MAAMkyB,gBAAkB,SAC5Bn2B,SAASgG,KAAKpC,YAAY80B,GAC1BF,EAAelzB,iBAAiBozB,GAAKvC,gBACrCn2B,SAASgG,KAAK8d,YAAY4U,GAEnBF,GAGIvc,EAA6BjZ,IACxC,IAAIgZ,EAAalO,EAAS9K,EAAI,oBAE9B,GAAmB,qBAAfgZ,EAAmC,CACrC,IAAI3L,EAAQgU,EAAyBrhB,GACjC21B,GAAQ,EAEZ,MAAOA,GAAO,CACZ,IAAIhsB,EAAMmB,EAASuC,EAAM,oBAEH,SAAlBA,EAAKuB,WACP+mB,GAAQ,EACR3c,EAAayc,KAGJ,qBAAP9rB,IACFgsB,GAAQ,EACR3c,EAAarP,GAGf0D,EAAOgU,EAAyBhU,EAClC,CACF,CAEA,OAAO2L,GAGIqI,EAA2BrhB,GAClB,SAAhBA,EAAG4O,SAA4B5O,EAE5BA,EAAG2R,YAAyC,IAA3B3R,EAAG2R,WAAWkhB,SAClC7yB,EAAG2R,WACwB,uBAA3B3R,EAAG2R,WAAW/C,SACZ5O,EAAG2R,WAAW/R,KACdI,EAAG2R,WAAWA,WAAW/R,KAGpB2hB,EAA0BvhB,GACjCA,EAAG41B,YAAc51B,EAAG41B,WAAWvtB,SAASjS,OACnC,IAAI4J,EAAG41B,WAAWvtB,UACtBrM,QAAO,EAAE4S,eACP,CAAC,OAAO,QAAQ,SAAS,OAAO,QAAQtI,SAASsI,KAClD,GAEG5O,EAAGqI,SAASjS,OACZ4J,EAAGqI,SAAS,QADhB,EAIMwtB,EAAa5oB,UACxB,MAAM6oB,QAAgBxpB,QAAQoC,IAAIqnB,EAAYz7B,KAAI07B,GAAO7D,MAAM6D,MACzDC,QAAgB3pB,QAAQoC,IAAIonB,EAAQx7B,KAAI07B,GAAOA,EAAI/wB,UACnDhE,EAAUjE,SAASwJ,cAAc,SAEvCvF,EAAMiE,YAAc+wB,EAAM9rB,QAAO,CAAC3W,EAAQ0iC,IACxC1iC,EAAS0iC,GACT,IAEFl5B,SAASm5B,KAAKv1B,YAAYK,EAAK,EAIpB4W,EAAkBue,GAC7B,iDAAiDjmB,KAAKimB,GAG3Cte,EAAsBse,GACjC,wCAAwCjmB,KAAKimB,GAEzCC,EAAe,IAAIplB,IACZ8G,EAA4Bue,IACvC,GAAID,EAAa/iB,IAAIgjB,GACnB,OAAOD,EAAa7iB,IAAI8iB,GAG1B,MAAMC,EAAQD,EAAO9/B,MAAM,KAErBggC,EADS1gC,OAAOkH,SAASwJ,cAAc,UACtBiwB,WAAW,MAE5BC,EAAQH,EACXj8B,KAAIytB,GAAQA,EAAKL,SACjBptB,KAAIsH,IACH,MAAMgO,EAAU+mB,OAAO/0B,GAAM80B,MAAM,sBACnC,OAAOv4B,MAAMC,QAAQwR,GAAWA,EAAQ,GAAK,EAAE,IAEhDtV,KAAIs8B,IACH,MAAMC,EAAeL,EAAQM,YAAY,IAAIj2B,MAI7C,OAFA21B,EAAQzO,KAAO,QAAQ6O,gBAEhBC,IAAiBL,EAAQM,YAAY,aAAaj2B,OACrD+1B,CACA,IACL56B,QAAO0b,IAAmB,IAAVA,IAAiB,GAIpC,OAFA2e,EAAa3jB,IAAI4jB,EAAQI,GAElBA,G,YCjKF,MAAM/d,EAAW3Y,IACtB,MAAM+2B,EAAe/2B,EAAGg3B,oBAExB,OAAOlC,EAAwB3qB,QAAO,CAAC8sB,EAAKC,KACtCH,EAAazwB,SAAS4wB,IACxBD,EAAI9jC,KAAK,CACP+c,KAAQgnB,EACRxf,MAAQ1X,EAAGH,aAAaq3B,KAGV,WAAdA,GACFH,EAAa/8B,SAAQkb,IACfA,EAAK5O,SAAS,SAChB2wB,EAAI9jC,KAAK,CACP+c,KAAQgF,EACRwC,MAAQ1X,EAAGH,aAAaqV,IACzB,IAGA+hB,IACN,GAAE,EAGMle,EAAmB/Y,IAE9B,MAAMxM,EAASgkB,EAAUxX,GAAImK,QAAO,CAACgtB,EAAUl2B,KAC3Ck2B,EAASl2B,EAAMiP,MAAQjP,EAAMyW,MACtByf,IACR,CAAC,IAEE,SAAE3D,EAAaN,EAAeM,SAAQ,WACpC9D,EAAawD,EAAexD,YAC5Bl8B,EAOR,OALgBuhC,EAAkB5nB,MAC/BiqB,GAAoB50B,WAAWgxB,IAAahxB,WAAW40B,EAAgB5D,WAClEhxB,WAAWktB,IAAeltB,WAAW40B,EAAgB1H,cAG3C,QAAU,SAGjB9H,EAAsB5hB,IAC1B,QACLA,EACA,CAAC,OAAQ,QACT,CACEqxB,uBAAuB,EACvB/d,MAAO,MACPC,KAAM,U,aCrDL,MAAM9B,EAAc,CAAC6f,EAAc,KACxCA,EAAY/gC,QAAQ,YAAaghC,GAC/B,IAAIA,EAAGliC,gBAEEmiC,EAAUnqB,IACrB,IAAIoqB,EAAO,GACPC,EAAgBrqB,EAEpB,KAAOqqB,GACLD,EAAKtkC,KAAKukC,GACVA,IAAgBA,EAAc/lB,YAC1B+lB,EAAc/lB,WAIpB,OAAO8lB,EAAKttB,QAAO,CAACyoB,EAAM+E,IAAW,SACjC/E,IAAO+E,EAAO95B,WAAW85B,EAAOC,aAAa,IAAIvqB,EAAKsE,WAAWtJ,UAAU/S,QAAQ+X,MAASA,EAAKhF,SAASjS,cAC3G,GAAE,EAGMioB,EAAkB,CAACre,EAAI63B,GAAU,KAC5C,IAAK73B,EAAG43B,UAAW,MAAO,GAE1B,MAAME,EAAW35B,MAAMoR,KAAKvP,EAAG6U,WAAW1K,QAAO,CAAC4tB,EAAYC,IAC5DD,EAAc,IAAMC,GACpB,IAEF,OAAOH,GAAWC,EAAS1hC,OAAS,GAChC0hC,EAASztB,UAAU,EAAE,IAAM,MAC3BytB,GAGOh/B,EAAUhD,OAAOX,UAAU8iC,SAAS3xB,SAAS,OACtD,MACA,OAESzN,EAAS/C,OAAOX,UAAU8iC,SAAS3xB,SAAS,OACrD,MACA,MAES+L,EAAU,kNCrCVqE,EAAuB,CAACpd,EAAG2B,KACtC,MAAM+E,EAAKhD,SAASk7B,iBAAiB5+B,EAAG2B,GAElCk9B,EAAe9qB,IACnB,GAAIA,EAAKuoB,WAAY,CACnB,MAAMzX,EAAY9Q,EAAKuoB,WAAWsC,iBAAiB5+B,EAAG2B,GAEtD,OAAIkjB,GAAa9Q,EAAsBA,EAC9B8Q,EAAUyX,WAAoBuC,EAAaha,GACbA,CACzC,CACK,OAAO9Q,GAKd,OAFsB8qB,EAAan4B,IAEXA,GAGb2K,EAAUF,IACrB,IAAI0Y,EAAQ1Y,EAAUjU,MAAM,KAAK2f,MAAM5f,QAAQ,OAAO6hC,GAAKA,EAAE7+B,gBAG7D,MAFa,MAAT4pB,IAAeA,EAAQ,OACd,QAATA,IAAiBA,EAAQ,UACtBA,GAGInR,EAAehS,GACnB,IAAIA,EAAGwP,cAAcA,cAAcnH,UACvC/S,QAAQ0K,EAAGwP,eAGT,SAASof,EAAS5uB,GACvB,OAAOA,EAAGq4B,QAAQ,CAChB,CAAEC,QAAS,yBACX,CAAEA,QAAS,uCACX,CAAEA,QAAS,0BACV,IACL,CAEA,IAAIC,EAAa,CAAC,EACX,MAAM7tB,EAAmB,CAAC1K,EAAIw4B,EAAW,OAC9Cx4B,EAAGgB,aAAa,sBAAsB,GACtC4hB,EAAkB5iB,GAAI,GAElBu4B,EAAWf,EAAQx3B,KACrBy4B,aAAaF,EAAWf,EAAQx3B,KAElCu4B,EAAWf,EAAQx3B,IAAO6T,YAAWoL,IACnCjf,EAAGiK,gBAAgB,sBACnB2Y,EAAkB5iB,GAAI,EAAK,GAC1Bw4B,GAEIx4B,GAGI4iB,EAAoB,CAAC5iB,EAAI2pB,GAAO,KAC3C,IAAK3pB,EAAG2T,aAAa,iBACnB,OAEF,MAAMvI,EAAWpL,EAAGH,aAAa,iBAE3B64B,GAAQ,OAAE,4CACuBttB,kDACEA,WAGzCstB,EAAMtiC,QAAUuzB,EACZ+O,EAAM1+B,SAAQgG,GACdA,EAAGiB,MAAMmF,QAAU,SACnBsyB,EAAM1+B,SAAQgG,GACdA,EAAGiB,MAAMmF,QAAU,MAAI,EAGhBuW,EAAkB,CAACgc,EAAa,MAC1C,IAAIC,WAAYC,gBAAgBF,EAAY,aAC1C31B,KAAK81B,WAEGniB,EAActJ,GACzBA,EAAKmhB,UACAnhB,EAAKmhB,QAAQ,kBACbnhB,EAAKmhB,QAAQ,eACbnhB,EAAKmhB,QAAQ,0BACbnhB,EAAKmhB,QAAQ,uBACbnhB,EAAKmhB,QAAQ,wBACbnhB,EAAKmhB,QAAQ,0BACbnhB,EAAKmhB,QAAQ,0BACbnhB,EAAKmhB,QAAQ,uBACbnhB,EAAKmhB,QAAQ,4BAGP/N,EACXuS,IACE,IAGDjH,EAHUiH,EAGLh2B,SAAS+7B,yBAAyBr4B,cAAcqrB,EAHjC,CAAE,MAAO3vB,GAAK,OAAO,CAAM,CAG/C2vB,MAFC,OAAO,CAEX,EAEanY,EAAe,CAAC5E,EAAKrR,KAChC,IAAIq7B,EAAOh8B,SAASwJ,cAAc,OAElCwI,EAAI2C,WAAWI,aAAainB,EAAMhqB,GAClCrR,EAAOgU,WAAWI,aAAa/C,EAAKrR,GACpCq7B,EAAKrnB,WAAWI,aAAapU,EAAQq7B,GAErCA,EAAKrnB,WAAWmP,YAAYkY,EAAI,EC3G3B,SAASlxB,IACd,MAAMhH,EAAUhL,OAAOuR,YACjBxG,EAAU/K,OAAO2P,WACjBzC,EAAUhG,SAASuG,gBAAgBC,YAMzC,MAAO,CACLoE,UAAW9G,EACX+G,SANgB7E,GAAQnC,EACtBmC,EACAnC,EAMN,CCbO,MAAMZ,EAAUg5B,IACrB,GACE,GAA8C,SAA1CnjC,OAAOwM,iBAAiB22B,GAAMl5B,SAAqB,OAAO,QACvDk5B,EAAOA,EAAKC,cACrB,OAAO,CAAK,E,aCFP,MAAM9R,EAAa,CAACgP,EAAQn1B,EAAO+hB,EAAOmW,KAC/C,MAAMC,EAAcpW,EACd,CAAC/hB,EAAO,KAAY+hB,GACpB,CAAC/hB,EAAO,MAERo4B,EAAaF,EACb,CAACl4B,EAAO,KAAWk4B,GACnB,CAACl4B,EAAO,MAEd,OAAOiU,IAEHkhB,EAAO72B,mBADI,UAAT2V,EAC0BkkB,EACZ,SAATlkB,EACqBmkB,EAEA,CAACp4B,EAAK,CACtC,EClBWq4B,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,W,iDCAxR,SAASC,EAAcC,EAAK9xB,GACjC,OAAOD,KAAK+R,MAAMggB,EAAO/xB,KAAKgyB,UAAY/xB,EAAM8xB,GAClD,CAEO,SAAS5O,EAAM4O,EAAK7tB,EAAKjE,GAC9B,OAAOD,KAAKC,IAAI8xB,EAAK/xB,KAAK+xB,IAAI7tB,EAAKjE,GACrC,C,qDCFO,SAASgyB,EAAQC,EAAGjyB,IAwCpB,SAAwBiyB,GAC3B,MAAoB,iBAANA,GAAkBA,EAAErzB,SAAS,MAA0B,IAAlB9D,WAAWm3B,EAClE,EAzCQC,CAAeD,KACfA,EAAI,QAER,IAAIE,EA2CD,SAAsBF,GACzB,MAAoB,iBAANA,GAAkBA,EAAErzB,SAAS,IAC/C,CA7CoBwzB,CAAaH,GAO7B,OANAA,EAAY,MAARjyB,EAAciyB,EAAIlyB,KAAK+xB,IAAI9xB,EAAKD,KAAKC,IAAI,EAAGlF,WAAWm3B,KAEvDE,IACAF,EAAI9uB,SAAS8rB,OAAOgD,EAAIjyB,GAAM,IAAM,KAGpCD,KAAKsyB,IAAIJ,EAAIjyB,GAAO,KACb,EAOPiyB,EAJQ,MAARjyB,GAIKiyB,EAAI,EAAKA,EAAIjyB,EAAOA,EAAMiyB,EAAIjyB,GAAOlF,WAAWm0B,OAAOjvB,IAKvDiyB,EAAIjyB,EAAOlF,WAAWm0B,OAAOjvB,GAG1C,CAKO,SAASsyB,EAAQruB,GACpB,OAAOlE,KAAK+xB,IAAI,EAAG/xB,KAAKC,IAAI,EAAGiE,GACnC,CAoBO,SAASsuB,EAAWr9B,GAKvB,OAJAA,EAAI4F,WAAW5F,IACXyyB,MAAMzyB,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAEDA,CACX,CAKO,SAASs9B,EAAoBP,GAChC,OAAIA,GAAK,EACc,IAAZ/zB,OAAO+zB,GAAW,IAEtBA,CACX,CAKO,SAAS,EAAKvB,GACjB,OAAoB,IAAbA,EAAEhiC,OAAe,IAAMgiC,EAAIzB,OAAOyB,EAC7C,CC5DO,SAAS+B,EAASC,EAAG9O,EAAG+O,GAC3BD,EAAIV,EAAQU,EAAG,KACf9O,EAAIoO,EAAQpO,EAAG,KACf+O,EAAIX,EAAQW,EAAG,KACf,IAAI3yB,EAAMD,KAAKC,IAAI0yB,EAAG9O,EAAG+O,GACrBb,EAAM/xB,KAAK+xB,IAAIY,EAAG9O,EAAG+O,GACrBzO,EAAI,EACJG,EAAI,EACJF,GAAKnkB,EAAM8xB,GAAO,EACtB,GAAI9xB,IAAQ8xB,EACRzN,EAAI,EACJH,EAAI,MAEH,CACD,IAAIjjB,EAAIjB,EAAM8xB,EAEd,OADAzN,EAAIF,EAAI,GAAMljB,GAAK,EAAIjB,EAAM8xB,GAAO7wB,GAAKjB,EAAM8xB,GACvC9xB,GACJ,KAAK0yB,EACDxO,GAAKN,EAAI+O,GAAK1xB,GAAK2iB,EAAI+O,EAAI,EAAI,GAC/B,MACJ,KAAK/O,EACDM,GAAKyO,EAAID,GAAKzxB,EAAI,EAClB,MACJ,KAAK0xB,EACDzO,GAAKwO,EAAI9O,GAAK3iB,EAAI,EAK1BijB,GAAK,CACT,CACA,MAAO,CAAEA,EAAGA,EAAGG,EAAGA,EAAGF,EACzB,CACA,SAASyO,EAAQ3O,EAAG/iB,EAAG2xB,GAOnB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACD5O,EAAe,EAAI4O,GAAd3xB,EAAI+iB,GAEhB4O,EAAI,GACG3xB,EAEP2xB,EAAI,EAAI,EACD5O,GAAK/iB,EAAI+iB,IAAM,EAAI,EAAI4O,GAAK,EAEhC5O,CACX,CAmCO,SAAS6O,EAASJ,EAAG9O,EAAG+O,GAC3BD,EAAIV,EAAQU,EAAG,KACf9O,EAAIoO,EAAQpO,EAAG,KACf+O,EAAIX,EAAQW,EAAG,KACf,IAAI3yB,EAAMD,KAAKC,IAAI0yB,EAAG9O,EAAG+O,GACrBb,EAAM/xB,KAAK+xB,IAAIY,EAAG9O,EAAG+O,GACrBzO,EAAI,EACJ/iB,EAAInB,EACJiB,EAAIjB,EAAM8xB,EACVzN,EAAY,IAARrkB,EAAY,EAAIiB,EAAIjB,EAC5B,GAAIA,IAAQ8xB,EACR5N,EAAI,MAEH,CACD,OAAQlkB,GACJ,KAAK0yB,EACDxO,GAAKN,EAAI+O,GAAK1xB,GAAK2iB,EAAI+O,EAAI,EAAI,GAC/B,MACJ,KAAK/O,EACDM,GAAKyO,EAAID,GAAKzxB,EAAI,EAClB,MACJ,KAAK0xB,EACDzO,GAAKwO,EAAI9O,GAAK3iB,EAAI,EAK1BijB,GAAK,CACT,CACA,MAAO,CAAEA,EAAGA,EAAGG,EAAGA,EAAGljB,EAAGA,EAC5B,CA4BO,SAAS4xB,EAASL,EAAG9O,EAAG+O,EAAGK,GAC9B,IAAIC,EAAM,CACN,EAAKlzB,KAAKqB,MAAMsxB,GAAGl9B,SAAS,KAC5B,EAAKuK,KAAKqB,MAAMwiB,GAAGpuB,SAAS,KAC5B,EAAKuK,KAAKqB,MAAMuxB,GAAGn9B,SAAS,MAGhC,OAAIw9B,GACAC,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,KAChCF,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,KAChCF,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,IACzBF,EAAI,GAAGE,OAAO,GAAKF,EAAI,GAAGE,OAAO,GAAKF,EAAI,GAAGE,OAAO,GAExDF,EAAI79B,KAAK,GACpB,CA2CO,SAASg+B,EAAoBlP,GAChC,OAAOmP,EAAgBnP,GAAK,GAChC,CAEO,SAASmP,EAAgBpvB,GAC5B,OAAOd,SAASc,EAAK,GACzB,C,iBC/NO,IAAIqvB,EAAQ,CACfC,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WCrFjB,IAIIC,EAAW,6CAIXC,EAAoB,cAAgBD,EAAW,aAAeA,EAAW,aAAeA,EAAW,YACnGE,EAAoB,cAAgBF,EAAW,aAAeA,EAAW,aAAeA,EAAW,aAAeA,EAAW,YAC7HG,EAAW,CACXH,SAAU,IAAII,OAAOJ,GACrBK,IAAK,IAAID,OAAO,MAAQH,GACxBK,KAAM,IAAIF,OAAO,OAASF,GAC1BK,IAAK,IAAIH,OAAO,MAAQH,GACxBO,KAAM,IAAIJ,OAAO,OAASF,GAC1BO,IAAK,IAAIL,OAAO,MAAQH,GACxBS,KAAM,IAAIN,OAAO,OAASF,GAC1BS,KAAM,uDACNC,KAAM,uDACNC,KAAM,uEACNC,KAAM,wEA2FH,SAASC,EAAep/B,GAC3B,OAAOq/B,QAAQb,EAASH,SAASl0B,KAAKwmB,OAAO3wB,IACjD,CCjLA,IAAIs/B,EAA2B,WAC3B,SAASA,EAAUt/B,EAAOu/B,GAGtB,IAAIC,EAEJ,QAJc,IAAVx/B,IAAoBA,EAAQ,SACnB,IAATu/B,IAAmBA,EAAO,CAAC,GAG3Bv/B,aAAiBs/B,EAEjB,OAAOt/B,EAEU,iBAAVA,IACPA,EHqNL,SAA6BA,GAChC,MAAO,CACHo0B,EAAGp0B,GAAS,GACZslB,GAAY,MAARtlB,IAAmB,EACvBq0B,EAAW,IAARr0B,EAEX,CG3NoBy/B,CAAoBz/B,IAEhC/J,KAAK0xB,cAAgB3nB,EACrB,IAAI0+B,EDGL,SAAoB1+B,GACvB,IFbqBo0B,EAAG9O,EAAG+O,EEavBqK,EAAM,CAAEtK,EAAG,EAAG9O,EAAG,EAAG+O,EAAG,GACvBz9B,EAAI,EACJmvB,EAAI,KACJljB,EAAI,KACJgjB,EAAI,KACJ6Z,GAAK,EACLC,GAAS,EA6Bb,MA5BqB,iBAAV3/B,IACPA,EAgED,SAA6BA,GAEhC,GAAqB,KADrBA,EAAQA,EAAM0hB,OAAOryB,eACXe,OACN,OAAO,EAEX,IAAIwvC,GAAQ,EACZ,GAAI5K,EAAMh1B,GACNA,EAAQg1B,EAAMh1B,GACd4/B,GAAQ,OAEP,GAAc,gBAAV5/B,EACL,MAAO,CAAEo0B,EAAG,EAAG9O,EAAG,EAAG+O,EAAG,EAAGz9B,EAAG,EAAG+oC,OAAQ,QAM7C,IAAIjP,EAAQ8N,EAASE,IAAIv0B,KAAKnK,GAC9B,OAAI0wB,EACO,CAAE0D,EAAG1D,EAAM,GAAIpL,EAAGoL,EAAM,GAAI2D,EAAG3D,EAAM,KAEhDA,EAAQ8N,EAASG,KAAKx0B,KAAKnK,IAEhB,CAAEo0B,EAAG1D,EAAM,GAAIpL,EAAGoL,EAAM,GAAI2D,EAAG3D,EAAM,GAAI95B,EAAG85B,EAAM,KAE7DA,EAAQ8N,EAASI,IAAIz0B,KAAKnK,IAEf,CAAE4lB,EAAG8K,EAAM,GAAI3K,EAAG2K,EAAM,GAAI7K,EAAG6K,EAAM,KAEhDA,EAAQ8N,EAASK,KAAK10B,KAAKnK,IAEhB,CAAE4lB,EAAG8K,EAAM,GAAI3K,EAAG2K,EAAM,GAAI7K,EAAG6K,EAAM,GAAI95B,EAAG85B,EAAM,KAE7DA,EAAQ8N,EAASM,IAAI30B,KAAKnK,IAEf,CAAE4lB,EAAG8K,EAAM,GAAI3K,EAAG2K,EAAM,GAAI7tB,EAAG6tB,EAAM,KAEhDA,EAAQ8N,EAASO,KAAK50B,KAAKnK,IAEhB,CAAE4lB,EAAG8K,EAAM,GAAI3K,EAAG2K,EAAM,GAAI7tB,EAAG6tB,EAAM,GAAI95B,EAAG85B,EAAM,KAE7DA,EAAQ8N,EAASW,KAAKh1B,KAAKnK,IAEhB,CACHo0B,EAAGW,EAAgBrE,EAAM,IACzBpL,EAAGyP,EAAgBrE,EAAM,IACzB2D,EAAGU,EAAgBrE,EAAM,IACzB95B,EAAGk+B,EAAoBpE,EAAM,IAC7BiP,OAAQC,EAAQ,OAAS,SAGjClP,EAAQ8N,EAASS,KAAK90B,KAAKnK,IAEhB,CACHo0B,EAAGW,EAAgBrE,EAAM,IACzBpL,EAAGyP,EAAgBrE,EAAM,IACzB2D,EAAGU,EAAgBrE,EAAM,IACzBiP,OAAQC,EAAQ,OAAS,QAGjClP,EAAQ8N,EAASU,KAAK/0B,KAAKnK,IAEhB,CACHo0B,EAAGW,EAAgBrE,EAAM,GAAKA,EAAM,IACpCpL,EAAGyP,EAAgBrE,EAAM,GAAKA,EAAM,IACpC2D,EAAGU,EAAgBrE,EAAM,GAAKA,EAAM,IACpC95B,EAAGk+B,EAAoBpE,EAAM,GAAKA,EAAM,IACxCiP,OAAQC,EAAQ,OAAS,WAGjClP,EAAQ8N,EAASQ,KAAK70B,KAAKnK,KAEhB,CACHo0B,EAAGW,EAAgBrE,EAAM,GAAKA,EAAM,IACpCpL,EAAGyP,EAAgBrE,EAAM,GAAKA,EAAM,IACpC2D,EAAGU,EAAgBrE,EAAM,GAAKA,EAAM,IACpCiP,OAAQC,EAAQ,OAAS,MAIrC,CAhJgBC,CAAoB7/B,IAEX,iBAAVA,IACHo/B,EAAep/B,EAAMo0B,IAAMgL,EAAep/B,EAAMslB,IAAM8Z,EAAep/B,EAAMq0B,IFxB9DD,EEyBEp0B,EAAMo0B,EFzBL9O,EEyBQtlB,EAAMslB,EFzBX+O,EEyBcr0B,EAAMq0B,EAAvCqK,EFxBD,CACHtK,EAAqB,IAAlBV,EAAQU,EAAG,KACd9O,EAAqB,IAAlBoO,EAAQpO,EAAG,KACd+O,EAAqB,IAAlBX,EAAQW,EAAG,MEsBVqL,GAAK,EACLC,EAAwC,MAA/BhP,OAAO3wB,EAAMo0B,GAAG0L,QAAQ,GAAa,OAAS,OAElDV,EAAep/B,EAAM4lB,IAAMwZ,EAAep/B,EAAM+lB,IAAMqZ,EAAep/B,EAAM6C,IAChFkjB,EAAImO,EAAoBl0B,EAAM+lB,GAC9BljB,EAAIqxB,EAAoBl0B,EAAM6C,GAC9B67B,EFsGL,SAAkB9Y,EAAGG,EAAGljB,GAC3B+iB,EAAsB,EAAlB8N,EAAQ9N,EAAG,KACfG,EAAI2N,EAAQ3N,EAAG,KACfljB,EAAI6wB,EAAQ7wB,EAAG,KACf,IAAIvV,EAAImU,KAAK+R,MAAMoS,GACfE,EAAIF,EAAIt4B,EACRq4B,EAAI9iB,GAAK,EAAIkjB,GACbnjB,EAAIC,GAAK,EAAIijB,EAAIC,GACjBwO,EAAI1xB,GAAK,GAAK,EAAIijB,GAAKC,GACvBga,EAAMzyC,EAAI,EAId,MAAO,CAAE8mC,EAAO,IAHR,CAACvxB,EAAGD,EAAG+iB,EAAGA,EAAG4O,EAAG1xB,GAAGk9B,GAGNza,EAAO,IAFpB,CAACiP,EAAG1xB,EAAGA,EAAGD,EAAG+iB,EAAGA,GAAGoa,GAEM1L,EAAO,IADhC,CAAC1O,EAAGA,EAAG4O,EAAG1xB,EAAGA,EAAGD,GAAGm9B,GAE/B,CEpHkBC,CAAShgC,EAAM4lB,EAAGG,EAAGljB,GAC3B68B,GAAK,EACLC,EAAS,OAEJP,EAAep/B,EAAM4lB,IAAMwZ,EAAep/B,EAAM+lB,IAAMqZ,EAAep/B,EAAM6lB,KAChFE,EAAImO,EAAoBl0B,EAAM+lB,GAC9BF,EAAIqO,EAAoBl0B,EAAM6lB,GAC9B6Y,EF8BL,SAAkB9Y,EAAGG,EAAGF,GAC3B,IAAIuO,EACA9O,EACA+O,EAIJ,GAHAzO,EAAI8N,EAAQ9N,EAAG,KACfG,EAAI2N,EAAQ3N,EAAG,KACfF,EAAI6N,EAAQ7N,EAAG,KACL,IAANE,EAEAT,EAAIO,EACJwO,EAAIxO,EACJuO,EAAIvO,MAEH,CACD,IAAIjjB,EAAIijB,EAAI,GAAMA,GAAK,EAAIE,GAAKF,EAAIE,EAAIF,EAAIE,EACxCJ,EAAI,EAAIE,EAAIjjB,EAChBwxB,EAAIE,EAAQ3O,EAAG/iB,EAAGgjB,EAAI,EAAI,GAC1BN,EAAIgP,EAAQ3O,EAAG/iB,EAAGgjB,GAClByO,EAAIC,EAAQ3O,EAAG/iB,EAAGgjB,EAAI,EAAI,EAC9B,CACA,MAAO,CAAEwO,EAAO,IAAJA,EAAS9O,EAAO,IAAJA,EAAS+O,EAAO,IAAJA,EACxC,CEnDkB4L,CAASjgC,EAAM4lB,EAAGG,EAAGF,GAC3B6Z,GAAK,EACLC,EAAS,OAETzqC,OAAOC,UAAUC,eAAeC,KAAK2K,EAAO,OAC5CpJ,EAAIoJ,EAAMpJ,IAGlBA,EAAIq9B,EAAWr9B,GACR,CACH8oC,GAAIA,EACJC,OAAQ3/B,EAAM2/B,QAAUA,EACxBvL,EAAG3yB,KAAK+xB,IAAI,IAAK/xB,KAAKC,IAAIg9B,EAAItK,EAAG,IACjC9O,EAAG7jB,KAAK+xB,IAAI,IAAK/xB,KAAKC,IAAIg9B,EAAIpZ,EAAG,IACjC+O,EAAG5yB,KAAK+xB,IAAI,IAAK/xB,KAAKC,IAAIg9B,EAAIrK,EAAG,IACjCz9B,EAAGA,EAEX,CC/CkBspC,CAAWlgC,GACrB/J,KAAK0xB,cAAgB3nB,EACrB/J,KAAKm+B,EAAIsK,EAAItK,EACbn+B,KAAKqvB,EAAIoZ,EAAIpZ,EACbrvB,KAAKo+B,EAAIqK,EAAIrK,EACbp+B,KAAKW,EAAI8nC,EAAI9nC,EACbX,KAAKkqC,OAAS1+B,KAAKqB,MAAM,IAAM7M,KAAKW,GAAK,IACzCX,KAAK0pC,OAAgC,QAAtBH,EAAKD,EAAKI,cAA2B,IAAPH,EAAgBA,EAAKd,EAAIiB,OACtE1pC,KAAKmqC,aAAeb,EAAKa,aAKrBnqC,KAAKm+B,EAAI,IACTn+B,KAAKm+B,EAAI3yB,KAAKqB,MAAM7M,KAAKm+B,IAEzBn+B,KAAKqvB,EAAI,IACTrvB,KAAKqvB,EAAI7jB,KAAKqB,MAAM7M,KAAKqvB,IAEzBrvB,KAAKo+B,EAAI,IACTp+B,KAAKo+B,EAAI5yB,KAAKqB,MAAM7M,KAAKo+B,IAE7Bp+B,KAAKoqC,QAAU3B,EAAIgB,EACvB,CA+aA,OA9aAJ,EAAUnqC,UAAU0a,OAAS,WACzB,OAAO5Z,KAAKqqC,gBAAkB,GAClC,EACAhB,EAAUnqC,UAAUorC,QAAU,WAC1B,OAAQtqC,KAAK4Z,QACjB,EAIAyvB,EAAUnqC,UAAUmrC,cAAgB,WAEhC,IAAI5B,EAAMzoC,KAAKuqC,QACf,OAAgB,IAAR9B,EAAItK,EAAkB,IAARsK,EAAIpZ,EAAkB,IAARoZ,EAAIrK,GAAW,GACvD,EAIAiL,EAAUnqC,UAAUsrC,aAAe,WAE/B,IAAI/B,EAAMzoC,KAAKuqC,QAIXE,EAAQhC,EAAItK,EAAI,IAChBuM,EAAQjC,EAAIpZ,EAAI,IAChBsb,EAAQlC,EAAIrK,EAAI,IAmBpB,MAAO,OAlBHqM,GAAS,OACLA,EAAQ,MAGRj/B,KAAKo/B,KAAMH,EAAQ,MAAS,MAAQ,MAcxB,OAZhBC,GAAS,OACLA,EAAQ,MAGRl/B,KAAKo/B,KAAMF,EAAQ,MAAS,MAAQ,MAQX,OAN7BC,GAAS,OACLA,EAAQ,MAGRn/B,KAAKo/B,KAAMD,EAAQ,MAAS,MAAQ,KAGhD,EAIAtB,EAAUnqC,UAAU2rC,SAAW,WAC3B,OAAO7qC,KAAKW,CAChB,EAMA0oC,EAAUnqC,UAAUuqB,SAAW,SAAUqhB,GAGrC,OAFA9qC,KAAKW,EAAIq9B,EAAW8M,GACpB9qC,KAAKkqC,OAAS1+B,KAAKqB,MAAM,IAAM7M,KAAKW,GAAK,IAClCX,IACX,EAIAqpC,EAAUnqC,UAAU6rC,MAAQ,WACxB,IAAIlC,EAAMtK,EAASv+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,GACxC,MAAO,CAAEzO,EAAW,IAARkZ,EAAIlZ,EAASG,EAAG+Y,EAAI/Y,EAAGljB,EAAGi8B,EAAIj8B,EAAGjM,EAAGX,KAAKW,EACzD,EAKA0oC,EAAUnqC,UAAU8rC,YAAc,WAC9B,IAAInC,EAAMtK,EAASv+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,GACpCzO,EAAInkB,KAAKqB,MAAc,IAARg8B,EAAIlZ,GACnBG,EAAItkB,KAAKqB,MAAc,IAARg8B,EAAI/Y,GACnBljB,EAAIpB,KAAKqB,MAAc,IAARg8B,EAAIj8B,GACvB,OAAkB,IAAX5M,KAAKW,EAAU,OAASgvB,EAAI,KAAOG,EAAI,MAAQljB,EAAI,KAAO,QAAU+iB,EAAI,KAAOG,EAAI,MAAQljB,EAAI,MAAQ5M,KAAKkqC,OAAS,GAChI,EAIAb,EAAUnqC,UAAUsqB,MAAQ,WACxB,IAAImf,EAAMzK,EAASl+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,GACxC,MAAO,CAAEzO,EAAW,IAARgZ,EAAIhZ,EAASG,EAAG6Y,EAAI7Y,EAAGF,EAAG+Y,EAAI/Y,EAAGjvB,EAAGX,KAAKW,EACzD,EAKA0oC,EAAUnqC,UAAU6a,YAAc,WAC9B,IAAI4uB,EAAMzK,EAASl+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,GACpCzO,EAAInkB,KAAKqB,MAAc,IAAR87B,EAAIhZ,GACnBG,EAAItkB,KAAKqB,MAAc,IAAR87B,EAAI7Y,GACnBF,EAAIpkB,KAAKqB,MAAc,IAAR87B,EAAI/Y,GACvB,OAAkB,IAAX5vB,KAAKW,EAAU,OAASgvB,EAAI,KAAOG,EAAI,MAAQF,EAAI,KAAO,QAAUD,EAAI,KAAOG,EAAI,MAAQF,EAAI,MAAQ5vB,KAAKkqC,OAAS,GAChI,EAKAb,EAAUnqC,UAAU+yB,MAAQ,SAAUwM,GAElC,YADmB,IAAfA,IAAyBA,GAAa,GACnCD,EAASx+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,EAAGK,EAC5C,EAKA4K,EAAUnqC,UAAU+rC,YAAc,SAAUxM,GAExC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAMz+B,KAAKiyB,MAAMwM,EAC5B,EAKA4K,EAAUnqC,UAAUgsC,OAAS,SAAUC,GAEnC,YADmB,IAAfA,IAAyBA,GAAa,GHyB3C,SAAmBhN,EAAG9O,EAAG+O,EAAGz9B,EAAGwqC,GAClC,IA8BgCz+B,EA9B5BgyB,EAAM,CACN,EAAKlzB,KAAKqB,MAAMsxB,GAAGl9B,SAAS,KAC5B,EAAKuK,KAAKqB,MAAMwiB,GAAGpuB,SAAS,KAC5B,EAAKuK,KAAKqB,MAAMuxB,GAAGn9B,SAAS,KAC5B,GA0B4ByL,EA1BH/L,EA2BtB6K,KAAKqB,MAAsB,IAAhBtG,WAAWmG,IAAUzL,SAAS,OAxBhD,OAAIkqC,GACAzM,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,KAChCF,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,KAChCF,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,KAChCF,EAAI,GAAGC,WAAWD,EAAI,GAAGE,OAAO,IACzBF,EAAI,GAAGE,OAAO,GAAKF,EAAI,GAAGE,OAAO,GAAKF,EAAI,GAAGE,OAAO,GAAKF,EAAI,GAAGE,OAAO,GAE3EF,EAAI79B,KAAK,GACpB,CGxCeuqC,CAAUprC,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,EAAGp+B,KAAKW,EAAGwqC,EACrD,EAKA9B,EAAUnqC,UAAUmsC,aAAe,SAAUF,GAEzC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAMnrC,KAAKkrC,OAAOC,EAC7B,EAIA9B,EAAUnqC,UAAUqrC,MAAQ,WACxB,MAAO,CACHpM,EAAG3yB,KAAKqB,MAAM7M,KAAKm+B,GACnB9O,EAAG7jB,KAAKqB,MAAM7M,KAAKqvB,GACnB+O,EAAG5yB,KAAKqB,MAAM7M,KAAKo+B,GACnBz9B,EAAGX,KAAKW,EAEhB,EAKA0oC,EAAUnqC,UAAUosC,YAAc,WAC9B,IAAInN,EAAI3yB,KAAKqB,MAAM7M,KAAKm+B,GACpB9O,EAAI7jB,KAAKqB,MAAM7M,KAAKqvB,GACpB+O,EAAI5yB,KAAKqB,MAAM7M,KAAKo+B,GACxB,OAAkB,IAAXp+B,KAAKW,EAAU,OAASw9B,EAAI,KAAO9O,EAAI,KAAO+O,EAAI,IAAM,QAAUD,EAAI,KAAO9O,EAAI,KAAO+O,EAAI,KAAOp+B,KAAKkqC,OAAS,GAC5H,EAIAb,EAAUnqC,UAAUqsC,gBAAkB,WAClC,IAAIC,EAAM,SAAUnuC,GAAK,OAAOmO,KAAKqB,MAAwB,IAAlB4wB,EAAQpgC,EAAG,MAAc,GAAK,EACzE,MAAO,CACH8gC,EAAGqN,EAAIxrC,KAAKm+B,GACZ9O,EAAGmc,EAAIxrC,KAAKqvB,GACZ+O,EAAGoN,EAAIxrC,KAAKo+B,GACZz9B,EAAGX,KAAKW,EAEhB,EAIA0oC,EAAUnqC,UAAUusC,sBAAwB,WACxC,IAAIC,EAAM,SAAUruC,GAAK,OAAOmO,KAAKqB,MAAwB,IAAlB4wB,EAAQpgC,EAAG,KAAa,EACnE,OAAkB,IAAX2C,KAAKW,EACN,OAAS+qC,EAAI1rC,KAAKm+B,GAAK,MAAQuN,EAAI1rC,KAAKqvB,GAAK,MAAQqc,EAAI1rC,KAAKo+B,GAAK,KACnE,QAAUsN,EAAI1rC,KAAKm+B,GAAK,MAAQuN,EAAI1rC,KAAKqvB,GAAK,MAAQqc,EAAI1rC,KAAKo+B,GAAK,MAAQp+B,KAAKkqC,OAAS,GACpG,EAIAb,EAAUnqC,UAAUysC,OAAS,WACzB,GAAe,IAAX3rC,KAAKW,EACL,MAAO,cAEX,GAAIX,KAAKW,EAAI,EACT,OAAO,EAGX,IADA,IAAI+9B,EAAM,IAAMF,EAASx+B,KAAKm+B,EAAGn+B,KAAKqvB,EAAGrvB,KAAKo+B,GAAG,GACxC59B,EAAK,EAAG+oC,EAAKtqC,OAAOuQ,QAAQuvB,GAAQv+B,EAAK+oC,EAAGpvC,OAAQqG,IAAM,CAC/D,IAAIorC,EAAKrC,EAAG/oC,GAAKxG,EAAM4xC,EAAG,GAC1B,GAAIlN,IADkCkN,EAAG,GAErC,OAAO5xC,CAEf,CACA,OAAO,CACX,EAMAqvC,EAAUnqC,UAAU+B,SAAW,SAAUyoC,GACrC,IAAImC,EAAYzC,QAAQM,GACxBA,EAASA,QAAuCA,EAAS1pC,KAAK0pC,OAC9D,IAAIoC,GAAkB,EAClBC,EAAW/rC,KAAKW,EAAI,GAAKX,KAAKW,GAAK,EAEvC,OADwBkrC,IAAaE,IAAarC,EAAO/K,WAAW,QAAqB,SAAX+K,GAS/D,QAAXA,IACAoC,EAAkB9rC,KAAKsrC,eAEZ,SAAX5B,IACAoC,EAAkB9rC,KAAKyrC,yBAEZ,QAAX/B,GAA+B,SAAXA,IACpBoC,EAAkB9rC,KAAKirC,eAEZ,SAAXvB,IACAoC,EAAkB9rC,KAAKirC,aAAY,IAExB,SAAXvB,IACAoC,EAAkB9rC,KAAKqrC,cAAa,IAEzB,SAAX3B,IACAoC,EAAkB9rC,KAAKqrC,gBAEZ,SAAX3B,IACAoC,EAAkB9rC,KAAK2rC,UAEZ,QAAXjC,IACAoC,EAAkB9rC,KAAK+Z,eAEZ,QAAX2vB,IACAoC,EAAkB9rC,KAAKgrC,eAEpBc,GAAmB9rC,KAAKirC,eAhCZ,SAAXvB,GAAgC,IAAX1pC,KAAKW,EACnBX,KAAK2rC,SAET3rC,KAAKsrC,aA8BpB,EACAjC,EAAUnqC,UAAU8sC,SAAW,WAC3B,OAAQxgC,KAAKqB,MAAM7M,KAAKm+B,IAAM,KAAO3yB,KAAKqB,MAAM7M,KAAKqvB,IAAM,GAAK7jB,KAAKqB,MAAM7M,KAAKo+B,EACpF,EACAiL,EAAUnqC,UAAUya,MAAQ,WACxB,OAAO,IAAI0vB,EAAUrpC,KAAKiB,WAC9B,EAKAooC,EAAUnqC,UAAU2a,QAAU,SAAU/K,QACrB,IAAXA,IAAqBA,EAAS,IAClC,IAAI65B,EAAM3oC,KAAKwpB,QAGf,OAFAmf,EAAI/Y,GAAK9gB,EAAS,IAClB65B,EAAI/Y,EAAImO,EAAQ4K,EAAI/Y,GACb,IAAIyZ,EAAUV,EACzB,EAKAU,EAAUnqC,UAAU+sC,SAAW,SAAUn9B,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAI25B,EAAMzoC,KAAKuqC,QAIf,OAHA9B,EAAItK,EAAI3yB,KAAKC,IAAI,EAAGD,KAAK+xB,IAAI,IAAKkL,EAAItK,EAAI3yB,KAAKqB,OAAciC,EAAS,IAAjB,OACrD25B,EAAIpZ,EAAI7jB,KAAKC,IAAI,EAAGD,KAAK+xB,IAAI,IAAKkL,EAAIpZ,EAAI7jB,KAAKqB,OAAciC,EAAS,IAAjB,OACrD25B,EAAIrK,EAAI5yB,KAAKC,IAAI,EAAGD,KAAK+xB,IAAI,IAAKkL,EAAIrK,EAAI5yB,KAAKqB,OAAciC,EAAS,IAAjB,OAC9C,IAAIu6B,EAAUZ,EACzB,EAMAY,EAAUnqC,UAAU4a,OAAS,SAAUhL,QACpB,IAAXA,IAAqBA,EAAS,IAClC,IAAI65B,EAAM3oC,KAAKwpB,QAGf,OAFAmf,EAAI/Y,GAAK9gB,EAAS,IAClB65B,EAAI/Y,EAAImO,EAAQ4K,EAAI/Y,GACb,IAAIyZ,EAAUV,EACzB,EAMAU,EAAUnqC,UAAUgtC,KAAO,SAAUp9B,GAEjC,YADe,IAAXA,IAAqBA,EAAS,IAC3B9O,KAAKmsC,IAAI,QAASr9B,EAC7B,EAMAu6B,EAAUnqC,UAAUktC,MAAQ,SAAUt9B,GAElC,YADe,IAAXA,IAAqBA,EAAS,IAC3B9O,KAAKmsC,IAAI,QAASr9B,EAC7B,EAMAu6B,EAAUnqC,UAAUmtC,WAAa,SAAUv9B,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAI65B,EAAM3oC,KAAKwpB,QAGf,OAFAmf,EAAI7Y,GAAKhhB,EAAS,IAClB65B,EAAI7Y,EAAIiO,EAAQ4K,EAAI7Y,GACb,IAAIuZ,EAAUV,EACzB,EAKAU,EAAUnqC,UAAUotC,SAAW,SAAUx9B,QACtB,IAAXA,IAAqBA,EAAS,IAClC,IAAI65B,EAAM3oC,KAAKwpB,QAGf,OAFAmf,EAAI7Y,GAAKhhB,EAAS,IAClB65B,EAAI7Y,EAAIiO,EAAQ4K,EAAI7Y,GACb,IAAIuZ,EAAUV,EACzB,EAKAU,EAAUnqC,UAAUqtC,UAAY,WAC5B,OAAOvsC,KAAKqsC,WAAW,IAC3B,EAKAhD,EAAUnqC,UAAUstC,KAAO,SAAU19B,GACjC,IAAI65B,EAAM3oC,KAAKwpB,QACXijB,GAAO9D,EAAIhZ,EAAI7gB,GAAU,IAE7B,OADA65B,EAAIhZ,EAAI8c,EAAM,EAAI,IAAMA,EAAMA,EACvB,IAAIpD,EAAUV,EACzB,EAKAU,EAAUnqC,UAAUitC,IAAM,SAAUpiC,EAAO+E,QACxB,IAAXA,IAAqBA,EAAS,IAClC,IAAI49B,EAAO1sC,KAAKuqC,QACZoC,EAAO,IAAItD,EAAUt/B,GAAOwgC,QAC5B7a,EAAI5gB,EAAS,IAOjB,OAAO,IAAIu6B,EANA,CACPlL,GAAIwO,EAAKxO,EAAIuO,EAAKvO,GAAKzO,EAAIgd,EAAKvO,EAChC9O,GAAIsd,EAAKtd,EAAIqd,EAAKrd,GAAKK,EAAIgd,EAAKrd,EAChC+O,GAAIuO,EAAKvO,EAAIsO,EAAKtO,GAAK1O,EAAIgd,EAAKtO,EAChCz9B,GAAIgsC,EAAKhsC,EAAI+rC,EAAK/rC,GAAK+uB,EAAIgd,EAAK/rC,GAGxC,EACA0oC,EAAUnqC,UAAU0tC,UAAY,SAAUC,EAASC,QAC/B,IAAZD,IAAsBA,EAAU,QACrB,IAAXC,IAAqBA,EAAS,IAClC,IAAInE,EAAM3oC,KAAKwpB,QACXujB,EAAO,IAAMD,EACbE,EAAM,CAAChtC,MACX,IAAK2oC,EAAIhZ,GAAKgZ,EAAIhZ,GAAMod,EAAOF,GAAY,GAAK,KAAO,MAAOA,GAC1DlE,EAAIhZ,GAAKgZ,EAAIhZ,EAAIod,GAAQ,IACzBC,EAAI91C,KAAK,IAAImyC,EAAUV,IAE3B,OAAOqE,CACX,EAIA3D,EAAUnqC,UAAU+tC,WAAa,WAC7B,IAAItE,EAAM3oC,KAAKwpB,QAEf,OADAmf,EAAIhZ,GAAKgZ,EAAIhZ,EAAI,KAAO,IACjB,IAAI0Z,EAAUV,EACzB,EACAU,EAAUnqC,UAAUguC,cAAgB,SAAUL,QAC1B,IAAZA,IAAsBA,EAAU,GAOpC,IANA,IAAIhE,EAAM7oC,KAAK+qC,QACXpb,EAAIkZ,EAAIlZ,EACRG,EAAI+Y,EAAI/Y,EACRljB,EAAIi8B,EAAIj8B,EACRugC,EAAM,GACNC,EAAe,EAAIP,EAChBA,KACHM,EAAIj2C,KAAK,IAAImyC,EAAU,CAAE1Z,EAAGA,EAAGG,EAAGA,EAAGljB,EAAGA,KACxCA,GAAKA,EAAIwgC,GAAgB,EAE7B,OAAOD,CACX,EACA9D,EAAUnqC,UAAUmuC,gBAAkB,WAClC,IAAI1E,EAAM3oC,KAAKwpB,QACXmG,EAAIgZ,EAAIhZ,EACZ,MAAO,CACH3vB,KACA,IAAIqpC,EAAU,CAAE1Z,GAAIA,EAAI,IAAM,IAAKG,EAAG6Y,EAAI7Y,EAAGF,EAAG+Y,EAAI/Y,IACpD,IAAIyZ,EAAU,CAAE1Z,GAAIA,EAAI,KAAO,IAAKG,EAAG6Y,EAAI7Y,EAAGF,EAAG+Y,EAAI/Y,IAE7D,EAIAyZ,EAAUnqC,UAAUouC,MAAQ,WACxB,OAAOttC,KAAKutC,OAAO,EACvB,EAIAlE,EAAUnqC,UAAUsuC,OAAS,WACzB,OAAOxtC,KAAKutC,OAAO,EACvB,EAKAlE,EAAUnqC,UAAUquC,OAAS,SAAU7P,GAKnC,IAJA,IAAIiL,EAAM3oC,KAAKwpB,QACXmG,EAAIgZ,EAAIhZ,EACR/e,EAAS,CAAC5Q,MACV6uB,EAAY,IAAM6O,EACbrmC,EAAI,EAAGA,EAAIqmC,EAAGrmC,IACnBuZ,EAAO1Z,KAAK,IAAImyC,EAAU,CAAE1Z,GAAIA,EAAIt4B,EAAIw3B,GAAa,IAAKiB,EAAG6Y,EAAI7Y,EAAGF,EAAG+Y,EAAI/Y,KAE/E,OAAOhf,CACX,EAIAy4B,EAAUnqC,UAAUuuC,OAAS,SAAU1jC,GACnC,OAAO/J,KAAKsrC,gBAAkB,IAAIjC,EAAUt/B,GAAOuhC,aACvD,EACOjC,CACX,CArd8B,E,6ECKvB,SAAS7rB,EAAYkwB,EAAQC,GAChC,IAAIC,EAAK,IAAI,IAAUF,GACnBG,EAAK,IAAI,IAAUF,GACvB,OAASniC,KAAKC,IAAImiC,EAAGpD,eAAgBqD,EAAGrD,gBAAkB,MACrDh/B,KAAK+xB,IAAIqQ,EAAGpD,eAAgBqD,EAAGrD,gBAAkB,IAC1D,CAcO,SAASsD,EAAWJ,EAAQC,EAAQI,GACvC,IAAIxE,EAAIqC,OACM,IAAVmC,IAAoBA,EAAQ,CAAE1wB,MAAO,KAAMC,KAAM,UACrD,IAAI0wB,EAAmBxwB,EAAYkwB,EAAQC,GAC3C,QAAgC,QAAtBpE,EAAKwE,EAAM1wB,aAA0B,IAAPksB,EAAgBA,EAAK,OAA+B,QAArBqC,EAAKmC,EAAMzwB,YAAyB,IAAPsuB,EAAgBA,EAAK,UACrH,IAAK,UACL,IAAK,WACD,OAAOoC,GAAoB,IAC/B,IAAK,UACD,OAAOA,GAAoB,EAC/B,IAAK,WACD,OAAOA,GAAoB,EAC/B,QACI,OAAO,EAEnB,CAkBO,SAASC,EAAaC,EAAWC,EAAW5rC,QAClC,IAATA,IAAmBA,EAAO,CAAE64B,uBAAuB,EAAO/d,MAAO,KAAMC,KAAM,UAIjF,IAHA,IAAI8wB,EAAY,KACZC,EAAY,EACZjT,EAAwB74B,EAAK64B,sBAAuB/d,EAAQ9a,EAAK8a,MAAOC,EAAO/a,EAAK+a,KAC/E9c,EAAK,EAAG8tC,EAAcH,EAAW3tC,EAAK8tC,EAAYn0C,OAAQqG,IAAM,CACrE,IAAIuJ,EAAQukC,EAAY9tC,GACpB+tC,EAAQ/wB,EAAY0wB,EAAWnkC,GAC/BwkC,EAAQF,IACRA,EAAYE,EACZH,EAAY,IAAI,IAAUrkC,GAElC,CACA,OAAI+jC,EAAWI,EAAWE,EAAW,CAAE/wB,MAAOA,EAAOC,KAAMA,MAAY8d,EAC5DgT,GAEX7rC,EAAK64B,uBAAwB,EACtB6S,EAAaC,EAAW,CAAC,OAAQ,QAAS3rC,GACrD,C,8CC/EA,MAAMisC,EAAQ,CACZ9lC,GAAI,SAASq2B,EAAO0P,GAKlB,OAJA1P,EACGxkC,MAAM,KACNwD,SAAQ4H,GACP3F,KAAKtG,iBAAiBiM,EAAM8oC,KACzBzuC,IACT,EACA2I,IAAK,SAASo2B,EAAO0P,GAKnB,OAJA1P,EACGxkC,MAAM,KACNwD,SAAQ4H,GACP3F,KAAKwD,oBAAoBmC,EAAM8oC,KAC5BzuC,IACT,EACAiZ,KAAM,SAASA,EAAMvJ,GACnB,YAAY1O,IAAR0O,EAA0B1P,KAAK4D,aAAaqV,IAEzC,MAAPvJ,EACI1P,KAAKgO,gBAAgBiL,GACrBjZ,KAAK+E,aAAakU,EAAMvJ,GAAO,IAE5B1P,KACT,GAGa,SAAS0uC,EAAE9uB,EAAO+uB,EAAW5tC,UAC1C,IAAI6tC,EAAShvB,aAAiBivB,UAAY3sC,MAAMC,QAAQyd,GACpDA,EACAA,aAAiB/c,aAAe+c,aAAiBpJ,WAC/C,CAACoJ,GACD+uB,EAASrmC,iBAAiBsX,GAIhC,OAFKgvB,EAAOz0C,SAAQy0C,EAAS,IAEtB3vC,OAAO+P,OACZ9M,MAAMoR,KAAKs7B,GAAQvwC,KAAIkoB,GAAOtnB,OAAO+P,OAAOuX,EAAKioB,KACjD,CACE9lC,GAAI,SAASq2B,EAAO0P,GAElB,OADAzuC,KAAKjC,SAAQwoB,GAAOA,EAAI7d,GAAGq2B,EAAO0P,KAC3BzuC,IACT,EACA2I,IAAK,SAASo2B,EAAO0P,GAEnB,OADAzuC,KAAKjC,SAAQwoB,GAAOA,EAAI5d,IAAIo2B,EAAO0P,KAC5BzuC,IACT,EACAiZ,KAAM,SAAS61B,EAAOp/B,GACpB,MAAqB,iBAAVo/B,QAA8B9tC,IAAR0O,EACxB1P,KAAK,GAAGiZ,KAAK61B,IAEI,iBAAVA,EACd9uC,KAAKjC,SAAQwoB,GACXtnB,OAAOuQ,QAAQs/B,GACZ/wC,SAAQ,EAAE/D,EAAK0V,KACd6W,EAAItN,KAAKjf,EAAK0V,OAEG,iBAATo/B,IAAsBp/B,GAAc,MAAPA,GAAsB,IAAPA,GAC1D1P,KAAKjC,SAAQwoB,GAAOA,EAAItN,KAAK61B,EAAOp/B,KAE/B1P,KACT,GAGN,C,YC/DC,WACC,aAEA,KAAI,uBAAwBe,UAA5B,CAEA,IAAIguC,EAAc,aAAcl1C,SAAWA,OAAOm1C,SAASC,aACvDC,EAAsB,GACtBC,EAAgC,GAChCC,EAAwB,IAAIC,QAC5BC,EAAwB,IAAID,QAC5BE,EAAmB,IAAIF,QACvBG,EAAmB,IAAIH,QACvBI,EAA+B,IAAIJ,QACnCt/B,EAAQ,CACV2/B,QAAQ,GAENC,EAAQ,CACV5oC,KAAM,KACNtP,cAAe,MAEbm4C,EAAmBn4C,cAEnBo4C,EAAgB,uBAoChBC,EAAuB,CAAC,YAAa,cAAe,UAAW,aAAc,aAAc,eAAgB,cAC3GC,EAA0B,CAAC,UAAW,eAmCtCC,EACJ,WACE,SAASA,IACP,IAAIC,EAAoBlvC,SAASwJ,cAAc,SAC3CwF,EAAM2/B,OACRC,EAAM5oC,KAAKpC,YAAYsrC,IAEvBlvC,SAASm5B,KAAKv1B,YAAYsrC,GAC1BA,EAAkBC,UAAW,EAC7BhB,EAAoBh4C,KAAK+4C,IAE3B,IAAIE,EAAmBF,EAAkBG,MAMzC,OALAd,EAAsB74B,IAAI05B,EAAkB,CAC1CE,SAAU,IAAIr7B,IACd8gB,QAAS,GACTma,kBAAmBA,IAEdE,CACT,CACA,IAAIG,EAASN,EAAoB9wC,UA4BjC,OA3BAoxC,EAAOh2C,QAAU,SAAiBi2C,GAChC,IAAIC,EAAQxwC,KACRywC,EAAYC,EAAcH,GAC9B,OAAO,IAAIlgC,SAAQ,SAAUC,EAASC,GACpC,GAAI++B,EAAsBj4B,IAAIm5B,GAAQ,CACpC,IACIP,EADyBX,EAAsB/3B,IAAIi5B,GACRP,kBAC/CA,EAAkBhsC,UAAYwsC,EAC9BngC,EAAQ2/B,EAAkBG,OAC1BO,EAAeH,EACjB,MACEjgC,EAAO,IAAIukB,MAAM,yDAErB,GACF,EACAwb,EAAO54C,YAAc,SAAqB64C,GACxC,IAAIE,EAAYC,EAAcH,GAC9B,GAAIjB,EAAsBj4B,IAAIrX,MAAO,CACnC,IACIiwC,EADyBX,EAAsB/3B,IAAIvX,MACRiwC,kBAG/C,OAFAA,EAAkBhsC,UAAYwsC,EAC9BE,EAAe3wC,MACRiwC,EAAkBG,KAC3B,CACE,MAAM,IAAItb,MAAM,gHAEpB,EACOkb,CACT,CA/CA,GAgDA/wC,OAAO2xC,eAAeZ,EAAqBa,OAAOC,YAAa,CAC7DC,cAAc,EACdt1B,MAAOu1B,IAoKTC,EAAgBrB,EAAiB1wC,WACjCrF,OAAOpC,cAAgBu4C,EAjCvB,WACE,IAAIkB,EAA6B,CAC/BH,cAAc,EACdx5B,IAAK,WACH,OAAO63B,EAAsB73B,IAAIvX,OAAS,EAC5C,EACAyW,IAAK,SAAa06B,GAChB,IAAIC,EAAYhC,EAAsB73B,IAAIvX,OAAS,IAlQzD,SAAyBmxC,EAAQE,GAC/B,IAAIC,EAAeD,IAActwC,SAAW,WAAa,aACzD,IAAKmB,MAAMC,QAAQgvC,GACjB,MAAM,IAAII,UAAU,sDAAwDD,EAAe,sCAE7F,IAAKH,EAAOK,MAAMR,GAChB,MAAM,IAAIO,UAAU,sDAAwDD,EAAe,gDAE7F,IAAIG,EAAeN,EAAOpxC,QAAO,SAAU0b,EAAOjhB,GAChD,OAAO22C,EAAO93C,QAAQoiB,KAAWjhB,CACnC,IACA40C,EAAsB34B,IAAI46B,EAAWI,EAEvC,CAsPMC,CAAgBP,EAAQnxC,MACxB,IAAIkgB,EAAWlgB,OAASe,SACxB4wC,IAAsB3xC,KAAKk6B,KAAOl6B,KAAK+G,KAAO/G,KAC1C4xC,EAAc,gBAAiB1xB,EAAWA,EAAS0xB,YAAc7wC,SAASgG,KAAKqM,SAAS8M,GAC5FrmB,OAAO4J,uBAAsB,WACvBmuC,IACFC,EAAiB3xB,GAjG3B,SAAmCA,EAAUkxB,GAE3C,IADA,IAAID,EAASW,EAAqB5xB,GACzB7oB,EAAI,EAAG6G,EAAMkzC,EAAUj3C,OAAQ9C,EAAI6G,EAAK7G,IAC/C,KAAI85C,EAAO93C,QAAQ+3C,EAAU/5C,KAAO,GAApC,CAGA,IACIg5C,EADyBf,EAAsB/3B,IAAI65B,EAAU/5C,IAC3Bg5C,SAClCt4B,EAAWy3B,EAAiBj4B,IAAI2I,GAChC6xB,EAAe1B,EAAS94B,IAAI2I,GAC3B6xB,IACHA,EAAe1B,EAAS94B,IAAIxW,SAASm5B,OAEvCniB,EAASM,aACT05B,EAAar8B,WAAWmP,YAAYktB,GACpCh6B,EAASG,SAVT,CAYJ,CAiFU85B,CAA0B9xB,EAAUkxB,GAExC,GACF,GAGF,GADAnyC,OAAO2xC,eAAeqB,SAAS/yC,UAAW,qBAAsBgyC,GACtC,oBAAfgB,WAA4B,CACrC,IAAIjvC,EAAe0d,QAAQzhB,UAAU+D,aACrC0d,QAAQzhB,UAAU+D,aAAe,WAC/B,IAAIid,EAAW6uB,EAAc/uC,KAAOiD,EAAakvC,MAAMnyC,KAAMsC,WAE7D,OADAugB,EAAe3C,GACRA,CACT,EACAjhB,OAAO2xC,eAAesB,WAAWhzC,UAAW,qBAAsBgyC,EACpE,CACF,CAIAkB,GACIT,IACF5wC,SAASrH,iBAAiB,mBAAoB24C,GAE9CA,GAxT8C,CAoBhD,SAASrB,EAAqB9mC,GAC5B,OAAOA,aAAoB0lC,GAAoB1lC,aAAoBylC,EAAMl4C,aAC3E,CAeA,SAASk6C,IACP,MAA+B,YAAxB5wC,SAASuxC,UAClB,CACA,SAASR,EAAqB5xB,GAC5B,OAAOkvB,EAAsB73B,IAAI2I,EAASxK,aAAe3U,SAASuG,gBAAkBvG,SAAWmf,EACjG,CACA,SAASwwB,EAAcH,GACrB,IAAIgC,EAAUhC,EAAS9V,MAAMoV,EAAe,KAAO,GAC/C2C,EAAejC,EAOnB,OANIgC,EAAQp4C,SACVse,QAAQqL,KAAK,2HACbyuB,EAAQx0C,SAAQ,SAAU00C,GACxBD,EAAeA,EAAal4C,QAAQm4C,EAAS,GAC/C,KAEKD,CACT,CAIA,SAASvB,EAAgByB,GACvB3C,EAAwBhyC,SAAQ,SAAU40C,GACxCD,EAAMC,GAAa,WACjB,OAAO3C,EAAoB9wC,UAAUyzC,GAAWR,MAAMnyC,KAAMsC,UAC9D,CACF,IACAwtC,EAAqB/xC,SAAQ,SAAU40C,GACrC,IAAIC,EAAYF,EAAMC,GACtBD,EAAMC,GAAa,WACjB,IAAIpwC,EAAOD,UACPsO,EAASgiC,EAAUT,MAAMnyC,KAAMuC,GACnC,GAAI+sC,EAAsBj4B,IAAIrX,MAAO,CACnC,IAAI6yC,EAAwBvD,EAAsB/3B,IAAIvX,MAClDqwC,EAAWwC,EAAsBxC,SACjCva,EAAU+c,EAAsB/c,QACpCua,EAAStyC,SAAQ,SAAUg0C,GACrBA,EAAa3B,OACf2B,EAAa3B,MAAMuC,GAAWR,MAAMJ,EAAa3B,MAAO7tC,EAE5D,IACAuzB,EAAQ5+B,KAAK,CAACy7C,EAAWpwC,GAC3B,CACA,OAAOqO,CACT,CACF,GACF,CACA,SAAS+/B,EAAeP,GACtB,IAAI0C,EAAyBxD,EAAsB/3B,IAAI64B,GACnDC,EAAWyC,EAAuBzC,SAClCJ,EAAoB6C,EAAuB7C,kBAC/CI,EAAStyC,SAAQ,SAAUg0C,GACzBA,EAAa9tC,UAAYgsC,EAAkBhsC,SAC7C,GACF,CAuDA,SAAS4tC,EAAiB3xB,GAIxB,IAHA,IAAI6yB,EAAYhyC,SAAS+7B,yBACrBqU,EAASW,EAAqB5xB,GAC9BnI,EAAWy3B,EAAiBj4B,IAAI2I,GAC3B7oB,EAAI,EAAG6G,EAAMizC,EAAOh3C,OAAQ9C,EAAI6G,EAAK7G,IAAK,CACjD,IAAIw7C,EAAwBvD,EAAsB/3B,IAAI45B,EAAO95C,IACzDg5C,EAAWwC,EAAsBxC,SACjCJ,EAAoB4C,EAAsB5C,kBAC1C+C,EAAiB3C,EAAS94B,IAAI2I,GAC9B8yB,GACFj7B,EAASM,aACT06B,EAAUpuC,YAAYquC,KACjBA,EAAe/uC,WAAa+uC,EAAe5C,QAAU4C,EAAe5C,MAAM6C,WAC7ED,EAAe/uC,UAAYgsC,EAAkBhsC,WAE/C8T,EAASG,aAET86B,EAAiBjyC,SAASwJ,cAAc,UACzBtG,UAAYgsC,EAAkBhsC,UAC7CsrC,EAAiB94B,IAAIu8B,EAAgB9yB,GACrCuvB,EAA6Bh5B,IAAIu8B,EAAgB,GACjD3C,EAAS55B,IAAIyJ,EAAU8yB,GACvBD,EAAUpuC,YAAYquC,IAEpB9yB,IAAanf,SAASm5B,MACxBiV,EAA8Bj4C,KAAK87C,EAEvC,CACA9yB,EAASpK,aAAai9B,EAAW7yB,EAAS2c,YAC1C,IAAK,IAAIr8B,EAAK,EAAG6B,EAAO8uC,EAAOh3C,OAAQqG,EAAK6B,EAAM7B,IAAM,CACtD,IAAIsyC,EAAyBxD,EAAsB/3B,IAAI45B,EAAO3wC,IAC1D0yC,EAAYJ,EAAuBzC,SACnCva,EAAUgd,EAAuBhd,QACjCqd,EAAsBD,EAAU37B,IAAI2I,GACpClZ,EAASyoC,EAA6Bl4B,IAAI47B,GAC9C,GAAIrd,EAAQ37B,OAAS,EAAG,CACtB,IAAK,IAAIi5C,EAAMpsC,EAAQqsC,EAAQvd,EAAQ37B,OAAQi5C,EAAMC,EAAOD,IAAO,CACjE,IAAIE,EAAcxd,EAAQsd,GACtBp5C,EAAMs5C,EAAY,GAClB/wC,EAAO+wC,EAAY,GACvBH,EAAoB/C,MAAMp2C,GAAKm4C,MAAMgB,EAAoB/C,MAAO7tC,EAClE,CACAktC,EAA6Bh5B,IAAI08B,EAAqBrd,EAAQ37B,OAAS,EACzE,CACF,CACF,CAoBA,SAASo5C,EAAwC/0B,GAC/C,IAAK,IAAInnB,EAAI,EAAG6G,EAAMsgB,EAAUrkB,OAAQ9C,EAAI6G,EAAK7G,IAAK,CAIpD,IAHA,IAAIm8C,EAAeh1B,EAAUnnB,GACzBo8C,EAAaD,EAAaC,WAC1BC,EAAeF,EAAaE,aACvBlzC,EAAK,EAAG6B,EAAOqxC,EAAav5C,OAAQqG,EAAK6B,EAAM7B,IAAM,CAC5D,IAAI0f,EAAWqvB,EAAiBh4B,IAAIm8B,EAAalzC,IAC7C0f,GACF2xB,EAAiB3xB,EAErB,CACA,IAAK6uB,EACH,IAAK,IAAIqE,EAAM,EAAGC,EAAQI,EAAWt5C,OAAQi5C,EAAMC,EAAOD,IAMxD,IALA,IAAIO,EAAO5yC,SAAS6yC,mBAAmBH,EAAWL,GAAMS,WAAWC,cAAc,SAAU1iC,GACzF,OAAOA,EAAKuoB,YAAcvoB,EAAKuoB,WAAWr2B,mBAAmBnJ,OAAS,EAAI05C,WAAWE,cAAgBF,WAAWG,aAClH,GACA,MAAM,GACF5iC,OAAO,EACJA,EAAOuiC,EAAKM,YACjBpC,EAAiBzgC,EAAKuoB,WAI9B,CACF,CACA,SAAS9W,EAAe3C,GACtB,IAAInI,EAAW,IAAIC,iBAAiBu7B,GAChCW,EAAe,CACjBh8B,QAAS,WACPH,EAASG,QAAQgI,EAAU,CACzB/H,WAAW,EACXC,SAAS,GAEb,EACAC,WAAY,WACVN,EAASM,YACX,GAEFm3B,EAAiB/4B,IAAIyJ,EAAUg0B,GAC/BA,EAAah8B,SACf,CAEA,SAASm6B,IACP,IAAI8B,EAASpzC,SAASwJ,cAAc,UACpC4pC,EAAOC,QAAS,EAChBrzC,SAASgG,KAAKpC,YAAYwvC,GAC1BxE,EAAM5oC,KAAOotC,EAAOE,cAActzC,SAASgG,KAC3C4oC,EAAMl4C,cAAgB08C,EAAOE,cAAc58C,cAC3Cw5C,EAAgBkD,EAAOE,cAAc58C,cAAcyH,WACnD2jB,EAAe9hB,SAASgG,MACxBgJ,EAAM2/B,QAAS,EAEf,IADA,IAAI4E,EAAWvzC,SAAS+7B,yBACfzlC,EAAI,EAAG6G,EAAMgxC,EAAoB/0C,OAAQ9C,EAAI6G,EAAK7G,IACzD63C,EAAoB73C,GAAG64C,UAAW,EAClCoE,EAAS3vC,YAAYuqC,EAAoB73C,IAE3Cs4C,EAAM5oC,KAAKpC,YAAY2vC,GACvB,IAAK,IAAI9zC,EAAK,EAAG6B,EAAO8sC,EAA8Bh1C,OAAQqG,EAAK6B,EAAM7B,IACvE8zC,EAAS3vC,YAAYwqC,EAA8B3uC,IAErDO,SAASgG,KAAK+O,aAAaw+B,EAAUvzC,SAASgG,KAAK81B,YACnDqS,EAAoB/0C,OAAS,EAC7Bg1C,EAA8Bh1C,OAAS,CACzC,CA0CF,CA9TA,E,uBCMAhD,EAAOo9C,QAAU,SAAUC,GACzB,IAAIv8B,EAAO,GA4EX,OAzEAA,EAAKhX,SAAW,WACd,OAAOjB,KAAK3B,KAAI,SAAUwlB,GACxB,IAAI1a,EAAU,GACVsrC,OAA+B,IAAZ5wB,EAAK,GAoB5B,OAnBIA,EAAK,KACP1a,GAAW,cAAcvP,OAAOiqB,EAAK,GAAI,QAEvCA,EAAK,KACP1a,GAAW,UAAUvP,OAAOiqB,EAAK,GAAI,OAEnC4wB,IACFtrC,GAAW,SAASvP,OAAOiqB,EAAK,GAAG1pB,OAAS,EAAI,IAAIP,OAAOiqB,EAAK,IAAM,GAAI,OAE5E1a,GAAWqrC,EAAuB3wB,GAC9B4wB,IACFtrC,GAAW,KAET0a,EAAK,KACP1a,GAAW,KAET0a,EAAK,KACP1a,GAAW,KAENA,CACT,IAAGtI,KAAK,GACV,EAGAoX,EAAK5gB,EAAI,SAAWq9C,EAASjhC,EAAOkhC,EAAQC,EAAUC,GAC7B,iBAAZH,IACTA,EAAU,CAAC,CAAC,KAAMA,OAAS1zC,KAE7B,IAAI8zC,EAAyB,CAAC,EAC9B,GAAIH,EACF,IAAK,IAAI33C,EAAI,EAAGA,EAAIgD,KAAK7F,OAAQ6C,IAAK,CACpC,IAAI5F,EAAK4I,KAAKhD,GAAG,GACP,MAAN5F,IACF09C,EAAuB19C,IAAM,EAEjC,CAEF,IAAK,IAAI29C,EAAK,EAAGA,EAAKL,EAAQv6C,OAAQ46C,IAAM,CAC1C,IAAIlxB,EAAO,GAAGjqB,OAAO86C,EAAQK,IACzBJ,GAAUG,EAAuBjxB,EAAK,WAGrB,IAAVgxB,SACc,IAAZhxB,EAAK,KAGdA,EAAK,GAAK,SAASjqB,OAAOiqB,EAAK,GAAG1pB,OAAS,EAAI,IAAIP,OAAOiqB,EAAK,IAAM,GAAI,MAAMjqB,OAAOiqB,EAAK,GAAI,MAF/FA,EAAK,GAAKgxB,GAMVphC,IACGoQ,EAAK,IAGRA,EAAK,GAAK,UAAUjqB,OAAOiqB,EAAK,GAAI,MAAMjqB,OAAOiqB,EAAK,GAAI,KAC1DA,EAAK,GAAKpQ,GAHVoQ,EAAK,GAAKpQ,GAMVmhC,IACG/wB,EAAK,IAGRA,EAAK,GAAK,cAAcjqB,OAAOiqB,EAAK,GAAI,OAAOjqB,OAAOiqB,EAAK,GAAI,KAC/DA,EAAK,GAAK+wB,GAHV/wB,EAAK,GAAK,GAAGjqB,OAAOg7C,IAMxB38B,EAAK/gB,KAAK2sB,GACZ,CACF,EACO5L,CACT,C,uBClFA9gB,EAAOo9C,QAAU,SAAU1wB,GACzB,IAAI1a,EAAU0a,EAAK,GACfmxB,EAAanxB,EAAK,GACtB,IAAKmxB,EACH,OAAO7rC,EAET,GAAoB,mBAATmtB,KAAqB,CAC9B,IAAI2e,EAAS3e,KAAKC,SAASC,mBAAmBJ,KAAKC,UAAU2e,MACzD3pB,EAAO,+DAA+DzxB,OAAOq7C,GAC7EC,EAAgB,OAAOt7C,OAAOyxB,EAAM,OACxC,MAAO,CAACliB,GAASvP,OAAO,CAACs7C,IAAgBr0C,KAAK,KAChD,CACA,MAAO,CAACsI,GAAStI,KAAK,KACxB,C,GCdIs0C,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBr0C,IAAjBs0C,EACH,OAAOA,EAAaf,QAGrB,IAAIp9C,EAASg+C,EAAyBE,GAAY,CACjDj+C,GAAIi+C,EAEJd,QAAS,CAAC,GAOX,OAHAgB,EAAoBF,GAAUl+C,EAAQA,EAAOo9C,QAASa,GAG/Cj+C,EAAOo9C,OACf,CCrBAa,EAAoB1X,EAAKvmC,IACxB,IAAIq+C,EAASr+C,GAAUA,EAAOs+C,WAC7B,IAAOt+C,EAAiB,QACxB,IAAM,EAEP,OADAi+C,EAAoB1oC,EAAE8oC,EAAQ,CAAE70C,EAAG60C,IAC5BA,CAAM,ECLdJ,EAAoB1oC,EAAI,CAAC6nC,EAASmB,KACjC,IAAI,IAAI17C,KAAO07C,EACXN,EAAoBO,EAAED,EAAY17C,KAASo7C,EAAoBO,EAAEpB,EAASv6C,IAC5EiF,OAAO2xC,eAAe2D,EAASv6C,EAAK,CAAE47C,YAAY,EAAMr+B,IAAKm+B,EAAW17C,IAE1E,ECNDo7C,EAAoBO,EAAI,CAACE,EAAK5hC,IAAUhV,OAAOC,UAAUC,eAAeC,KAAKy2C,EAAK5hC,GCClFmhC,EAAoBjX,EAAKoW,IACH,oBAAX1D,QAA0BA,OAAOiF,aAC1C72C,OAAO2xC,eAAe2D,EAAS1D,OAAOiF,YAAa,CAAEr6B,MAAO,WAE7Dxc,OAAO2xC,eAAe2D,EAAS,aAAc,CAAE94B,OAAO,GAAO,E,mBCL9D,eACA,SAEI,iBAAkB1a,SAASuG,kBAC7BvG,SAASg1C,eAAe,eAAgB/wC,MAAMmF,QAAU,IAE1C,SAAZ,EAAAtN,SACF,IAAIkE,SAASuH,iBAAiB,QAC3BvK,SAAQqT,IACPA,EAAKnI,YAAcmI,EAAKnI,YAAa3O,QAAQ,MAAM,QACnD8W,EAAKnI,YAAcmI,EAAKnI,YAAa3O,QAAQ,MAAM,MAAM,IAG/DyG,SAASgG,KAAK6d,QAAQ,EAAAmQ,kBACP,EAAAA,gB","sources":["webpack://uh-web-editor/./app/components/_variables.css","webpack://uh-web-editor/./app/components/_variables_dark.css","webpack://uh-web-editor/./app/components/_variables_light.css","webpack://uh-web-editor/./app/components/hotkey-map/base.element.css","webpack://uh-web-editor/./app/components/hotkey-map/base.element_dark.css","webpack://uh-web-editor/./app/components/hotkey-map/base.element_light.css","webpack://uh-web-editor/./app/components/metatip/metatip.element.css","webpack://uh-web-editor/./app/components/metatip/metatip.element_dark.css","webpack://uh-web-editor/./app/components/metatip/metatip.element_light.css","webpack://uh-web-editor/./app/components/selection/box-model.element.css","webpack://uh-web-editor/./app/components/selection/corners.element.css","webpack://uh-web-editor/./app/components/selection/distance.element.css","webpack://uh-web-editor/./app/components/selection/gridlines.element.css","webpack://uh-web-editor/./app/components/selection/grip.element.css","webpack://uh-web-editor/./app/components/selection/handle.element.css","webpack://uh-web-editor/./app/components/selection/handles.element.css","webpack://uh-web-editor/./app/components/selection/hover.element.css","webpack://uh-web-editor/./app/components/selection/label.element.css","webpack://uh-web-editor/./app/components/selection/offscreenLabel.element.css","webpack://uh-web-editor/./app/components/selection/overlay.element.css","webpack://uh-web-editor/./app/components/uh-web-editor/uh-web-editor.element.css","webpack://uh-web-editor/./app/components/uh-web-editor/uh-web-editor.element_dark.css","webpack://uh-web-editor/./app/components/uh-web-editor/uh-web-editor.element_light.css","webpack://uh-web-editor/./app/components/styles.store.js","webpack://uh-web-editor/./node_modules/hotkeys-js/dist/hotkeys.esm.js","webpack://uh-web-editor/./app/components/selection/handles.element.js","webpack://uh-web-editor/./app/components/selection/handle.element.js","webpack://uh-web-editor/./app/components/selection/hover.element.js","webpack://uh-web-editor/./app/components/selection/offscreenLabel.element.js","webpack://uh-web-editor/./app/components/selection/label.element.js","webpack://uh-web-editor/./app/components/selection/gridlines.element.js","webpack://uh-web-editor/./app/components/selection/distance.element.js","webpack://uh-web-editor/./app/components/selection/overlay.element.js","webpack://uh-web-editor/./app/components/selection/box-model.element.js","webpack://uh-web-editor/./app/components/selection/corners.element.js","webpack://uh-web-editor/./app/components/selection/grip.element.js","webpack://uh-web-editor/./app/features/margin.js","webpack://uh-web-editor/./app/features/imageswap.js","webpack://uh-web-editor/./app/features/move.js","webpack://uh-web-editor/./app/features/search.js","webpack://uh-web-editor/./app/features/measurements.js","webpack://uh-web-editor/./app/features/padding.js","webpack://uh-web-editor/./app/features/color.js","webpack://uh-web-editor/./app/features/metatip.js","webpack://uh-web-editor/./app/features/accessibility.js","webpack://uh-web-editor/./app/features/selectable.js","webpack://uh-web-editor/./app/features/text.js","webpack://uh-web-editor/./app/features/font.js","webpack://uh-web-editor/./app/features/flex.js","webpack://uh-web-editor/./app/features/boxshadow.js","webpack://uh-web-editor/./app/features/hueshift.js","webpack://uh-web-editor/./app/features/guides.js","webpack://uh-web-editor/./app/features/position.js","webpack://uh-web-editor/./app/components/metatip/metatip.element.js","webpack://uh-web-editor/./app/components/metatip/ally.element.js","webpack://uh-web-editor/./app/components/uh-web-editor/uh-web-editor.icons.js","webpack://uh-web-editor/./app/components/hotkey-map/base.element.js","webpack://uh-web-editor/./app/components/hotkey-map/guides.element.js","webpack://uh-web-editor/./app/components/hotkey-map/inspector.element.js","webpack://uh-web-editor/./app/components/hotkey-map/accessibility.element.js","webpack://uh-web-editor/./app/components/hotkey-map/move.element.js","webpack://uh-web-editor/./app/components/hotkey-map/margin.element.js","webpack://uh-web-editor/./app/components/hotkey-map/padding.element.js","webpack://uh-web-editor/./app/components/hotkey-map/align.element.js","webpack://uh-web-editor/./app/components/hotkey-map/hueshift.element.js","webpack://uh-web-editor/./app/components/hotkey-map/boxshadow.element.js","webpack://uh-web-editor/./app/components/hotkey-map/position.element.js","webpack://uh-web-editor/./app/components/hotkey-map/font.element.js","webpack://uh-web-editor/./app/components/hotkey-map/text.element.js","webpack://uh-web-editor/./app/components/hotkey-map/search.element.js","webpack://uh-web-editor/./app/components/hotkey-map/hotkeys.element.js","webpack://uh-web-editor/./app/components/uh-web-editor/model.js","webpack://uh-web-editor/./app/components/uh-web-editor/uh-web-editor.element.js","webpack://uh-web-editor/./app/features/screenshot.js","webpack://uh-web-editor/./app/utilities/cross-browser.js","webpack://uh-web-editor/./app/utilities/history.js","webpack://uh-web-editor/./app/utilities/design-properties.js","webpack://uh-web-editor/./app/utilities/styles.js","webpack://uh-web-editor/./app/utilities/accessibility.js","webpack://uh-web-editor/./app/utilities/strings.js","webpack://uh-web-editor/./app/utilities/common.js","webpack://uh-web-editor/./app/utilities/window.js","webpack://uh-web-editor/./app/utilities/isFixed.js","webpack://uh-web-editor/./app/utilities/scheme.js","webpack://uh-web-editor/./app/utilities/colors.js","webpack://uh-web-editor/./app/utilities/numbers.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/util.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/conversion.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/format-input.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/index.js","webpack://uh-web-editor/./node_modules/@ctrl/tinycolor/dist/module/readability.js","webpack://uh-web-editor/./node_modules/blingblingjs/src/index.js","webpack://uh-web-editor/./node_modules/construct-style-sheets-polyfill/dist/adoptedStyleSheets.js","webpack://uh-web-editor/./node_modules/css-loader/dist/runtime/api.js","webpack://uh-web-editor/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://uh-web-editor/webpack/bootstrap","webpack://uh-web-editor/webpack/runtime/compat get default export","webpack://uh-web-editor/webpack/runtime/define property getters","webpack://uh-web-editor/webpack/runtime/hasOwnProperty shorthand","webpack://uh-web-editor/webpack/runtime/make namespace object","webpack://uh-web-editor/./app/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --theme-bg: hsl(0 0% 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-bd-opacity: 1;\n  --theme-bd-2-opacity: 1;\n  --theme-color: hotpink;\n  --theme-blue: hsl(188 90% 45%);\n  --theme-purple: hsl(267 100% 58%);\n\n  --theme-text_color: hsl(0 0% 10%);\n  --theme-icon_color: hsl(0 0% 20%);\n  --theme-icon_hover-bg: hsl(0 0% 95%);\n  --theme-icon_active-bg: hsl(0 0% 90%);\n\n  --layer-top: 2147483647;\n  --layer-1: 2147483646;\n  --layer-2: 2147483645;\n  --layer-3: 2147483644;\n  --layer-4: 2147483643;\n  --layer-5: 2147483642;\n\n  --text-shadow: 0 1px hsl(0 0% 0% / 40%);\n\n  @media (-webkit-min-device-pixel-ratio: 2) {\n    --text-shadow: 0 .5px hsl(0 0% 0% / 50%);\n  }\n\n  @media (prefers-color-scheme: dark) {\n    --theme-bg: hsl(0 0% 10%);\n    --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n    --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n    --theme-color: hsl(330deg 65% 75%);\n    --theme-text_color: hsl(0 0% 90%);\n    --theme-icon_color: hsl(0 0% 80%);\n    --theme-icon_hover-bg: hsl(0 0% 15%);\n    --theme-icon_active-bg: hsl(0 0% 20%);\n  }\n\n  @supports (backdrop-filter: blur(5px)) {\n    --theme-bd-opacity: .8;\n    --theme-bd-2-opacity: .9;\n  }\n\n  @supports (-webkit-backdrop-filter: blur(5px)) {\n    --theme-bd-opacity: .8;\n    --theme-bd-2-opacity: .9;\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/_variables.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,0BAA0B;EAC1B,oDAAoD;EACpD,wDAAwD;EACxD,qBAAqB;EACrB,uBAAuB;EACvB,sBAAsB;EACtB,8BAA8B;EAC9B,iCAAiC;;EAEjC,iCAAiC;EACjC,iCAAiC;EACjC,oCAAoC;EACpC,qCAAqC;;EAErC,uBAAuB;EACvB,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;EACrB,qBAAqB;;EAErB,uCAAuC;;EAEvC;IACE,wCAAwC;EAC1C;;EAEA;IACE,yBAAyB;IACzB,mDAAmD;IACnD,uDAAuD;IACvD,kCAAkC;IAClC,iCAAiC;IACjC,iCAAiC;IACjC,oCAAoC;IACpC,qCAAqC;EACvC;;EAEA;IACE,sBAAsB;IACtB,wBAAwB;EAC1B;;EAEA;IACE,sBAAsB;IACtB,wBAAwB;EAC1B;AACF\",\"sourcesContent\":[\":host {\\n  --theme-bg: hsl(0 0% 100%);\\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\\n  --theme-bd-opacity: 1;\\n  --theme-bd-2-opacity: 1;\\n  --theme-color: hotpink;\\n  --theme-blue: hsl(188 90% 45%);\\n  --theme-purple: hsl(267 100% 58%);\\n\\n  --theme-text_color: hsl(0 0% 10%);\\n  --theme-icon_color: hsl(0 0% 20%);\\n  --theme-icon_hover-bg: hsl(0 0% 95%);\\n  --theme-icon_active-bg: hsl(0 0% 90%);\\n\\n  --layer-top: 2147483647;\\n  --layer-1: 2147483646;\\n  --layer-2: 2147483645;\\n  --layer-3: 2147483644;\\n  --layer-4: 2147483643;\\n  --layer-5: 2147483642;\\n\\n  --text-shadow: 0 1px hsl(0 0% 0% / 40%);\\n\\n  @media (-webkit-min-device-pixel-ratio: 2) {\\n    --text-shadow: 0 .5px hsl(0 0% 0% / 50%);\\n  }\\n\\n  @media (prefers-color-scheme: dark) {\\n    --theme-bg: hsl(0 0% 10%);\\n    --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\\n    --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\\n    --theme-color: hsl(330deg 65% 75%);\\n    --theme-text_color: hsl(0 0% 90%);\\n    --theme-icon_color: hsl(0 0% 80%);\\n    --theme-icon_hover-bg: hsl(0 0% 15%);\\n    --theme-icon_active-bg: hsl(0 0% 20%);\\n  }\\n\\n  @supports (backdrop-filter: blur(5px)) {\\n    --theme-bd-opacity: .8;\\n    --theme-bd-2-opacity: .9;\\n  }\\n\\n  @supports (-webkit-backdrop-filter: blur(5px)) {\\n    --theme-bd-opacity: .8;\\n    --theme-bd-2-opacity: .9;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --theme-bg: hsl(0 0% 10%);\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\n  --theme-color: hsl(330deg 65% 75%);\n  --theme-text_color: hsl(0 0% 90%);\n  --theme-icon_color: hsl(0 0% 80%);\n  --theme-icon_hover-bg: hsl(0 0% 15%);\n  --theme-icon_active-bg: hsl(0 0% 20%);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/_variables_dark.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,yBAAyB;EACzB,mDAAmD;EACnD,uDAAuD;EACvD,kCAAkC;EAClC,iCAAiC;EACjC,iCAAiC;EACjC,oCAAoC;EACpC,qCAAqC;AACvC\",\"sourcesContent\":[\":host {\\n  --theme-bg: hsl(0 0% 10%);\\n  --theme-bd: hsl(0 0% 10% / var(--theme-bd-opacity));\\n  --theme-bd-2: hsl(0 0% 10% / var(--theme-bd-2-opacity));\\n  --theme-color: hsl(330deg 65% 75%);\\n  --theme-text_color: hsl(0 0% 90%);\\n  --theme-icon_color: hsl(0 0% 80%);\\n  --theme-icon_hover-bg: hsl(0 0% 15%);\\n  --theme-icon_active-bg: hsl(0 0% 20%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --theme-bg: hsl(0 0% 100%);\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\n  --theme-color: hotpink;\n  --theme-text_color: hsl(0 0% 10%);\n  --theme-icon_color: hsl(0 0% 20%);\n  --theme-icon_hover-bg: hsl(0 0% 95%);\n  --theme-icon_active-bg: hsl(0 0% 90%);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/_variables_light.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,0BAA0B;EAC1B,oDAAoD;EACpD,wDAAwD;EACxD,sBAAsB;EACtB,iCAAiC;EACjC,iCAAiC;EACjC,oCAAoC;EACpC,qCAAqC;AACvC\",\"sourcesContent\":[\":host {\\n  --theme-bg: hsl(0 0% 100%);\\n  --theme-bd: hsl(0 0% 100% / var(--theme-bd-opacity));\\n  --theme-bd-2: hsl(0 0% 100% / var(--theme-bd-2-opacity));\\n  --theme-color: hotpink;\\n  --theme-text_color: hsl(0 0% 10%);\\n  --theme-icon_color: hsl(0 0% 20%);\\n  --theme-icon_hover-bg: hsl(0 0% 95%);\\n  --theme-icon_active-bg: hsl(0 0% 90%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: var(--layer-top);\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  height: 100vh;\n  background: var(--theme-bd-2);\n  backdrop-filter: blur(5px);\n  font-size: 16px;\n  font-family: system-ui;\n  cursor: initial;\n\n  --light-grey: hsl(0 0% 90%);\n  --grey: hsl(0 0% 60%);\n  --dark-grey: hsl(0 0% 40%);\n\n  @media (prefers-color-scheme: dark) {\n    --light-grey: hsl(0 0% 20%);\n    --grey: hsl(0 0% 60%);\n    --dark-grey: hsl(0 0% 80%);\n  }\n}\n\n:host [command] {\n  padding: 1em;\n  text-align: center;\n  font-size: 3vw;\n  font-weight: lighter;\n  letter-spacing: 0.1em;\n  color: var(--dark-grey);\n\n  & > [light] {\n    color: var(--grey);\n  }\n\n  & > [tool] {\n    text-decoration: underline;\n    text-decoration-color: var(--theme-color);\n  }\n\n  & > :matches([negative],[side],[amount]) {\n    font-weight: normal;\n  }\n}\n\n:host [card] {\n  padding: 1em;\n  background: var(--theme-bg);\n  border-radius: 0.5em;\n  color: var(--dark-grey);\n  display: flex;\n  justify-content: space-evenly;\n\n  & > div:not([keyboard]) {\n    display: flex;\n    align-items: flex-end;\n    margin-left: 1em;\n  }\n}\n\n:host [tool-icon] {\n  position: absolute;\n  top: 1em;\n  left: 0;\n  width: 100%;\n  padding: 0 1rem;\n  display: flex;\n  justify-content: center;\n\n  & > span {\n    color: var(--dark-grey);\n    display: grid;\n    grid-template-columns: 5vmax auto;\n    grid-gap: 0.5em;\n    align-items: center;\n    text-transform: capitalize;\n    font-size: 4vmax;\n    font-weight: lighter;\n  }\n\n  & svg {\n    width: 100%;\n    fill: var(--theme-color);\n  }\n}\n\n:host section {\n  display: flex;\n  justify-content: center;\n}\n\n:host section > span, \n:host [arrows] > span {\n  border: 1px solid transparent;\n  border-radius: 0.5em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin: 2px;\n  padding: 1.5vw;\n  font-size: 0.75em;\n  white-space: nowrap;\n}\n\n:host section > span:not([pressed=\"true\"]), \n:host [arrows] > span:not([pressed=\"true\"]) {\n  border: 1px solid var(--light-grey);\n\n  &:hover {\n    border-color: var(--grey);\n  }\n}\n\n:host span[pressed=\"true\"] {\n  background: var(--theme-color);\n  color: var(--theme-bg);\n}\n\n:host span:not([pressed=\"true\"]):matches([used]) {\n  background: var(--light-grey);\n  cursor: pointer;\n}\n\n:host span[hotkey] {\n  color: var(--theme-color);\n  font-weight: bold;\n  cursor: pointer;\n}\n\n:host section > span[hotkey]:not([pressed=\"true\"]) {\n  border-color: var(--theme-color);\n}\n\n:host [arrows] {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n\n  & > span:nth-child(1) {\n    grid-row: 1;\n    grid-column: 2;\n  }\n\n  & > span:nth-child(2) {\n    grid-row: 2;\n    grid-column: 2;\n  }\n\n  & > span:nth-child(3) {\n    grid-row: 2;\n    grid-column: 1;\n  }\n\n  & > span:nth-child(4) {\n    grid-row: 2;\n    grid-column: 3;\n  }\n}\n\n:host [caps] > span:nth-child(1),\n:host [shift] > span:nth-child(1)  { justify-content: flex-start; }\n:host [shift] > span:nth-child(12) { justify-content: flex-end; }`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/hotkey-map/base.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,aAAa;EACb,eAAe;EACf,MAAM;EACN,OAAO;EACP,yBAAyB;EACzB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,aAAa;EACb,6BAA6B;EAC7B,0BAA0B;EAC1B,eAAe;EACf,sBAAsB;EACtB,eAAe;;EAEf,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;;EAE1B;IACE,2BAA2B;IAC3B,qBAAqB;IACrB,0BAA0B;EAC5B;AACF;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,cAAc;EACd,oBAAoB;EACpB,qBAAqB;EACrB,uBAAuB;;EAEvB;IACE,kBAAkB;EACpB;;EAEA;IACE,0BAA0B;IAC1B,yCAAyC;EAC3C;;EAEA;IACE,mBAAmB;EACrB;AACF;;AAEA;EACE,YAAY;EACZ,2BAA2B;EAC3B,oBAAoB;EACpB,uBAAuB;EACvB,aAAa;EACb,6BAA6B;;EAE7B;IACE,aAAa;IACb,qBAAqB;IACrB,gBAAgB;EAClB;AACF;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,OAAO;EACP,WAAW;EACX,eAAe;EACf,aAAa;EACb,uBAAuB;;EAEvB;IACE,uBAAuB;IACvB,aAAa;IACb,iCAAiC;IACjC,eAAe;IACf,mBAAmB;IACnB,0BAA0B;IAC1B,gBAAgB;IAChB,oBAAoB;EACtB;;EAEA;IACE,WAAW;IACX,wBAAwB;EAC1B;AACF;;AAEA;EACE,aAAa;EACb,uBAAuB;AACzB;;AAEA;;EAEE,6BAA6B;EAC7B,oBAAoB;EACpB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,cAAc;EACd,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;;EAEE,mCAAmC;;EAEnC;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,8BAA8B;EAC9B,sBAAsB;AACxB;;AAEA;EACE,6BAA6B;EAC7B,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,gCAAgC;AAClC;;AAEA;EACE,aAAa;EACb,kCAAkC;EAClC,2BAA2B;;EAE3B;IACE,WAAW;IACX,cAAc;EAChB;;EAEA;IACE,WAAW;IACX,cAAc;EAChB;;EAEA;IACE,WAAW;IACX,cAAc;EAChB;;EAEA;IACE,WAAW;IACX,cAAc;EAChB;AACF;;AAEA;qCACqC,2BAA2B,EAAE;AAClE,qCAAqC,yBAAyB,EAAE\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  display: none;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: var(--layer-top);\\n  align-items: center;\\n  justify-content: center;\\n  width: 100vw;\\n  height: 100vh;\\n  background: var(--theme-bd-2);\\n  backdrop-filter: blur(5px);\\n  font-size: 16px;\\n  font-family: system-ui;\\n  cursor: initial;\\n\\n  --light-grey: hsl(0 0% 90%);\\n  --grey: hsl(0 0% 60%);\\n  --dark-grey: hsl(0 0% 40%);\\n\\n  @media (prefers-color-scheme: dark) {\\n    --light-grey: hsl(0 0% 20%);\\n    --grey: hsl(0 0% 60%);\\n    --dark-grey: hsl(0 0% 80%);\\n  }\\n}\\n\\n:host [command] {\\n  padding: 1em;\\n  text-align: center;\\n  font-size: 3vw;\\n  font-weight: lighter;\\n  letter-spacing: 0.1em;\\n  color: var(--dark-grey);\\n\\n  & > [light] {\\n    color: var(--grey);\\n  }\\n\\n  & > [tool] {\\n    text-decoration: underline;\\n    text-decoration-color: var(--theme-color);\\n  }\\n\\n  & > :matches([negative],[side],[amount]) {\\n    font-weight: normal;\\n  }\\n}\\n\\n:host [card] {\\n  padding: 1em;\\n  background: var(--theme-bg);\\n  border-radius: 0.5em;\\n  color: var(--dark-grey);\\n  display: flex;\\n  justify-content: space-evenly;\\n\\n  & > div:not([keyboard]) {\\n    display: flex;\\n    align-items: flex-end;\\n    margin-left: 1em;\\n  }\\n}\\n\\n:host [tool-icon] {\\n  position: absolute;\\n  top: 1em;\\n  left: 0;\\n  width: 100%;\\n  padding: 0 1rem;\\n  display: flex;\\n  justify-content: center;\\n\\n  & > span {\\n    color: var(--dark-grey);\\n    display: grid;\\n    grid-template-columns: 5vmax auto;\\n    grid-gap: 0.5em;\\n    align-items: center;\\n    text-transform: capitalize;\\n    font-size: 4vmax;\\n    font-weight: lighter;\\n  }\\n\\n  & svg {\\n    width: 100%;\\n    fill: var(--theme-color);\\n  }\\n}\\n\\n:host section {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n:host section > span, \\n:host [arrows] > span {\\n  border: 1px solid transparent;\\n  border-radius: 0.5em;\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 2px;\\n  padding: 1.5vw;\\n  font-size: 0.75em;\\n  white-space: nowrap;\\n}\\n\\n:host section > span:not([pressed=\\\"true\\\"]), \\n:host [arrows] > span:not([pressed=\\\"true\\\"]) {\\n  border: 1px solid var(--light-grey);\\n\\n  &:hover {\\n    border-color: var(--grey);\\n  }\\n}\\n\\n:host span[pressed=\\\"true\\\"] {\\n  background: var(--theme-color);\\n  color: var(--theme-bg);\\n}\\n\\n:host span:not([pressed=\\\"true\\\"]):matches([used]) {\\n  background: var(--light-grey);\\n  cursor: pointer;\\n}\\n\\n:host span[hotkey] {\\n  color: var(--theme-color);\\n  font-weight: bold;\\n  cursor: pointer;\\n}\\n\\n:host section > span[hotkey]:not([pressed=\\\"true\\\"]) {\\n  border-color: var(--theme-color);\\n}\\n\\n:host [arrows] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr;\\n  grid-template-rows: 1fr 1fr;\\n\\n  & > span:nth-child(1) {\\n    grid-row: 1;\\n    grid-column: 2;\\n  }\\n\\n  & > span:nth-child(2) {\\n    grid-row: 2;\\n    grid-column: 2;\\n  }\\n\\n  & > span:nth-child(3) {\\n    grid-row: 2;\\n    grid-column: 1;\\n  }\\n\\n  & > span:nth-child(4) {\\n    grid-row: 2;\\n    grid-column: 3;\\n  }\\n}\\n\\n:host [caps] > span:nth-child(1),\\n:host [shift] > span:nth-child(1)  { justify-content: flex-start; }\\n:host [shift] > span:nth-child(12) { justify-content: flex-end; }\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --light-grey: hsl(0 0% 20%);\n  --grey: hsl(0 0% 60%);\n  --dark-grey: hsl(0 0% 80%);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/hotkey-map/base.element_dark.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;AAC5B\",\"sourcesContent\":[\":host {\\n  --light-grey: hsl(0 0% 20%);\\n  --grey: hsl(0 0% 60%);\\n  --dark-grey: hsl(0 0% 80%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --light-grey: hsl(0 0% 90%);\n  --grey: hsl(0 0% 60%);\n  --dark-grey: hsl(0 0% 40%);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/hotkey-map/base.element_light.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;AAC5B\",\"sourcesContent\":[\":host {\\n  --light-grey: hsl(0 0% 90%);\\n  --grey: hsl(0 0% 60%);\\n  --dark-grey: hsl(0 0% 40%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: absolute;\n  z-index: var(--layer-top);\n\n  --arrow-width: 15px;\n  --arrow-height: 8px;\n\n  --shadow-up: 5px;\n  --shadow-down: -5px;\n  --shadow-direction: var(--shadow-up);\n\n  --arrow-up: polygon(0 0, 100% 0, 50% 100%);\n  --arrow-down: polygon(50% 0, 0 100%, 100% 100%);\n  --arrow: var(--arrow-up);\n\n  --border-radius: .75em;\n\n  --copy-message-left-color: white;\n  --copy-message-right-color: white;\n}\n\n:host figure {\n  all: initial;\n  direction: ltr;\n  font-size: 16px;\n  font-family: system-ui;\n  max-width: 90vw;\n  background: var(--theme-bd);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n  color: var(--theme-text_color);\n  line-height: initial;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  border-radius: var(--border-radius);\n  line-height: initial;\n\n  border: 1px solid var(--theme-bg);\n  box-shadow:\n    0 3.6px 3.7px rgba(0, 0, 0, 0.101),\n    0 12.1px 12.3px rgba(0, 0, 0, 0.149),\n    0 -2px 4px rgba(0, 0, 0, 0.101),\n    0 -12.1px 24px rgba(0, 0, 0, 0.149),\n    0 54px 55px rgba(0, 0, 0, 0.25);\n\n\n  @media (min-width: 540px) {\n    max-width: max(40ch, 50vw);\n  }\n\n  &:after {\n    content: \"\";\n    background: var(--theme-bg);\n    width: var(--arrow-width);\n    height: var(--arrow-height);\n    clip-path: var(--arrow);\n    position: absolute;\n    top: var(--arrow-top);\n    left: var(--arrow-left);\n  }\n\n  & a {\n    text-decoration: none;\n    color: inherit;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    cursor: pointer;\n\n    &:hover {\n      color: var(--theme-color);\n      text-decoration: underline;\n    }\n\n    &:empty {\n      display: none;\n    }\n\n    &[node]:before {\n      content: \"\\\\003c\";\n    }\n\n    &[node]:after {\n      content: \"\\\\003e\";\n    }\n  }\n}\n\n:host h5 {\n  display: flex;\n  font-size: 1em;\n  font-weight: bolder;\n  margin: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: max-content;\n}\n\n:host small {\n  font-size: 0.7em;\n  color: var(--theme-icon_color);\n\n  & > span {\n    color: hsl(0,0%,20%);\n  }\n}\n\n:host a:not(:hover) {\n  text-decoration: none;\n}\n\n:host [brand] {\n  color: var(--theme-color);\n}\n\n:host [divider] {\n  color: var(--theme-blue);\n}\n\n:host header {\n  padding: 5px 10px;\n  user-select: none;\n  text-shadow: var(--text-shadow);\n}\n\n:host code {\n  display: grid;\n  grid-template-columns: max-content auto;\n  gap: .25em .5em;\n  border-radius: var(--border-radius);\n  list-style-type: none;\n  color: var(--light-grey);\n  background-color: var(--theme-bd-2);\n  border-top: 1px solid var(--theme-bg);\n  font-size: 1em;\n  font-family: 'Dank Mono', 'Operator Mono', 'Inconsolata', 'Fira Mono', 'SF Mono', 'Monaco', 'Droid Sans Mono', 'Source Code Pro', monospace;\n\n  &[accessibility] > [prop]:first-of-type {\n    color: var(--theme-text_color);\n  }\n}\n\n:host details > :is(summary,code),\n:host > figure > code {\n  padding: 10px;\n  border-radius: var(--border-radius);\n}\n\n:host summary {\n  outline-offset: -2px;\n  outline-color: var(--theme-color);\n  max-inline-size: max-content;\n\n  &::marker {\n    color: var(--theme-color);\n  }\n}\n\n:host [value],\n:host [local-change] {\n  color: var(--theme-text_color);\n  display: inline-grid;\n  grid-auto-flow: column;\n  gap: .5em;\n  align-items: center;\n  justify-content: flex-end;\n  text-align: right;\n  /* white-space: pre; */\n}\n\n:host [text] {\n  white-space: normal;\n}\n\n:host [longform] {\n  background: var(--theme-icon_hover-bg);\n  padding: 0.5em 0.75em;\n  border-radius: .25em;\n  font-family: sans-serif;\n  text-align: left;\n  line-height: 1.5;\n  max-inline-size: 40ch;\n}\n\n:host [prop] {\n  color: var(--theme-color);\n}\n\n:host [color] {\n  position: relative;\n  top: 1px;\n  display: inline-block;\n  width: 1em;\n  min-width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  box-shadow: inset 0 0 1px 0 hsl(0 0% 0% / 50%);\n}\n\n:host [color-value] {\n  white-space: nowrap;\n}\n\n:host [local-modifications] {\n  margin-top: 1em;\n  margin-inline: 10px;\n  color: var(--theme-purple);\n  font-weight: bold;\n\n  & + div {\n    margin-bottom: 1em;\n  }\n}\n\n:host [contrast-compliance] {\n  display: grid;\n  grid-template-columns: max-content max-content;\n  gap: 3ch;\n  padding: 10px 10px 5px;\n}\n\n:host [contrast] {\n  display: grid;\n  justify-items: start;\n\n  & > [value] {\n    font-size: 1.5em;\n  }\n}\n\n:host [compliance] {\n  display: grid;\n\n  & > div {\n    display: flex;\n    align-items: center;\n    gap: 2ch;\n  }\n\n  & > div > span {\n    display: flex;\n    align-items: center;\n    gap: .5ch;\n  }\n\n  & svg {\n    block-size: .75em;\n  }\n}\n\n:host :is([contrast],[compliance]) [title] {\n  font-size: .7em;\n  opacity: .8;\n}\n\n:host [color-swatches] {\n  display: flex;\n  width: 100%;\n  height: 7em;\n  flex-direction: row;\n  padding: 0;\n\n  @media (max-width: 700px) {\n    flex-direction: column;\n    height: 14em;\n  }\n}\n\n:host [color-swatch] {\n  min-width: 20ch;\n  height: 7em;\n  display: grid;\n  position: relative;\n  align-content: end;\n  box-sizing: border-box;\n  padding: 10px;\n  margin: 0;\n  cursor: copy;\n\n  @media (max-width: 700px) {\n    width: 100%;\n  }\n}\n\n:host [color-swatch] > small,\n:host [color-swatch] > span,\n:host [color-swatch]:after {\n  cursor: copy;\n}\n\n:host [color-swatch] > small {\n  opacity: .8;\n}\n\n:host [color-swatch]:after {\n  content: \" \\\\00a0 copy\";\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  transition: opacity 0.3s;\n  opacity: 0;\n}\n\n:host [color-swatch]:nth-child(1):after {\n  color: var(--copy-message-left-color);\n}\n\n:host [color-swatch]:nth-child(2):after {\n  color: var(--copy-message-right-color);\n}\n\n:host [color-swatch]:hover:after {\n  opacity: 1;\n}\n\n:host [color-swatch]:focus:after {\n  content: \" \\\\00a0 copied\";\n}\n\n:host [accessibility] {\n  display: flex;\n  flex-direction: column;\n\n  & > :not([contrast-compliance]) {\n    display: grid;\n    align-items: center;\n    grid-template-columns: max-content 1fr;\n\n    & [value] {\n      display: grid;\n      justify-content: flex-start;\n      padding-left: 1em;\n      text-align: left;\n    }\n  }\n\n  & > [contrast-compliance] {\n    justify-content: space-between;\n\n    & [value] {\n      justify-content: flex-start;\n      margin-right: 7px;\n    }\n  }\n}\n\n:host [score] {\n  font-size: 1.5em;\n  line-height: .75;\n\n  &[pass=\"true\"] { color: green; }\n  &[pass=\"false\"] { color: red; }\n\n  @media (prefers-color-scheme: dark) {\n    &[pass=\"true\"] { color: hsl(120deg 50% 75%); }\n    &[pass=\"false\"] { color: hsl(0deg 50% 65%); }\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/metatip/metatip.element.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  position: absolute;\\n  z-index: var(--layer-top);\\n\\n  --arrow-width: 15px;\\n  --arrow-height: 8px;\\n\\n  --shadow-up: 5px;\\n  --shadow-down: -5px;\\n  --shadow-direction: var(--shadow-up);\\n\\n  --arrow-up: polygon(0 0, 100% 0, 50% 100%);\\n  --arrow-down: polygon(50% 0, 0 100%, 100% 100%);\\n  --arrow: var(--arrow-up);\\n\\n  --border-radius: .75em;\\n\\n  --copy-message-left-color: white;\\n  --copy-message-right-color: white;\\n}\\n\\n:host figure {\\n  all: initial;\\n  direction: ltr;\\n  font-size: 16px;\\n  font-family: system-ui;\\n  max-width: 90vw;\\n  background: var(--theme-bd);\\n  backdrop-filter: blur(5px);\\n  -webkit-backdrop-filter: blur(5px);\\n  color: var(--theme-text_color);\\n  line-height: initial;\\n  margin: 0;\\n  display: flex;\\n  flex-direction: column;\\n  flex-wrap: nowrap;\\n  border-radius: var(--border-radius);\\n  line-height: initial;\\n\\n  border: 1px solid var(--theme-bg);\\n  box-shadow:\\n    0 3.6px 3.7px rgba(0, 0, 0, 0.101),\\n    0 12.1px 12.3px rgba(0, 0, 0, 0.149),\\n    0 -2px 4px rgba(0, 0, 0, 0.101),\\n    0 -12.1px 24px rgba(0, 0, 0, 0.149),\\n    0 54px 55px rgba(0, 0, 0, 0.25);\\n\\n\\n  @media (min-width: 540px) {\\n    max-width: max(40ch, 50vw);\\n  }\\n\\n  &:after {\\n    content: \\\"\\\";\\n    background: var(--theme-bg);\\n    width: var(--arrow-width);\\n    height: var(--arrow-height);\\n    clip-path: var(--arrow);\\n    position: absolute;\\n    top: var(--arrow-top);\\n    left: var(--arrow-left);\\n  }\\n\\n  & a {\\n    text-decoration: none;\\n    color: inherit;\\n    text-overflow: ellipsis;\\n    overflow: hidden;\\n    cursor: pointer;\\n\\n    &:hover {\\n      color: var(--theme-color);\\n      text-decoration: underline;\\n    }\\n\\n    &:empty {\\n      display: none;\\n    }\\n\\n    &[node]:before {\\n      content: \\\"\\\\003c\\\";\\n    }\\n\\n    &[node]:after {\\n      content: \\\"\\\\003e\\\";\\n    }\\n  }\\n}\\n\\n:host h5 {\\n  display: flex;\\n  font-size: 1em;\\n  font-weight: bolder;\\n  margin: 0;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  max-width: max-content;\\n}\\n\\n:host small {\\n  font-size: 0.7em;\\n  color: var(--theme-icon_color);\\n\\n  & > span {\\n    color: hsl(0,0%,20%);\\n  }\\n}\\n\\n:host a:not(:hover) {\\n  text-decoration: none;\\n}\\n\\n:host [brand] {\\n  color: var(--theme-color);\\n}\\n\\n:host [divider] {\\n  color: var(--theme-blue);\\n}\\n\\n:host header {\\n  padding: 5px 10px;\\n  user-select: none;\\n  text-shadow: var(--text-shadow);\\n}\\n\\n:host code {\\n  display: grid;\\n  grid-template-columns: max-content auto;\\n  gap: .25em .5em;\\n  border-radius: var(--border-radius);\\n  list-style-type: none;\\n  color: var(--light-grey);\\n  background-color: var(--theme-bd-2);\\n  border-top: 1px solid var(--theme-bg);\\n  font-size: 1em;\\n  font-family: 'Dank Mono', 'Operator Mono', 'Inconsolata', 'Fira Mono', 'SF Mono', 'Monaco', 'Droid Sans Mono', 'Source Code Pro', monospace;\\n\\n  &[accessibility] > [prop]:first-of-type {\\n    color: var(--theme-text_color);\\n  }\\n}\\n\\n:host details > :is(summary,code),\\n:host > figure > code {\\n  padding: 10px;\\n  border-radius: var(--border-radius);\\n}\\n\\n:host summary {\\n  outline-offset: -2px;\\n  outline-color: var(--theme-color);\\n  max-inline-size: max-content;\\n\\n  &::marker {\\n    color: var(--theme-color);\\n  }\\n}\\n\\n:host [value],\\n:host [local-change] {\\n  color: var(--theme-text_color);\\n  display: inline-grid;\\n  grid-auto-flow: column;\\n  gap: .5em;\\n  align-items: center;\\n  justify-content: flex-end;\\n  text-align: right;\\n  /* white-space: pre; */\\n}\\n\\n:host [text] {\\n  white-space: normal;\\n}\\n\\n:host [longform] {\\n  background: var(--theme-icon_hover-bg);\\n  padding: 0.5em 0.75em;\\n  border-radius: .25em;\\n  font-family: sans-serif;\\n  text-align: left;\\n  line-height: 1.5;\\n  max-inline-size: 40ch;\\n}\\n\\n:host [prop] {\\n  color: var(--theme-color);\\n}\\n\\n:host [color] {\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  width: 1em;\\n  min-width: 1em;\\n  height: 1em;\\n  border-radius: 50%;\\n  box-shadow: inset 0 0 1px 0 hsl(0 0% 0% / 50%);\\n}\\n\\n:host [color-value] {\\n  white-space: nowrap;\\n}\\n\\n:host [local-modifications] {\\n  margin-top: 1em;\\n  margin-inline: 10px;\\n  color: var(--theme-purple);\\n  font-weight: bold;\\n\\n  & + div {\\n    margin-bottom: 1em;\\n  }\\n}\\n\\n:host [contrast-compliance] {\\n  display: grid;\\n  grid-template-columns: max-content max-content;\\n  gap: 3ch;\\n  padding: 10px 10px 5px;\\n}\\n\\n:host [contrast] {\\n  display: grid;\\n  justify-items: start;\\n\\n  & > [value] {\\n    font-size: 1.5em;\\n  }\\n}\\n\\n:host [compliance] {\\n  display: grid;\\n\\n  & > div {\\n    display: flex;\\n    align-items: center;\\n    gap: 2ch;\\n  }\\n\\n  & > div > span {\\n    display: flex;\\n    align-items: center;\\n    gap: .5ch;\\n  }\\n\\n  & svg {\\n    block-size: .75em;\\n  }\\n}\\n\\n:host :is([contrast],[compliance]) [title] {\\n  font-size: .7em;\\n  opacity: .8;\\n}\\n\\n:host [color-swatches] {\\n  display: flex;\\n  width: 100%;\\n  height: 7em;\\n  flex-direction: row;\\n  padding: 0;\\n\\n  @media (max-width: 700px) {\\n    flex-direction: column;\\n    height: 14em;\\n  }\\n}\\n\\n:host [color-swatch] {\\n  min-width: 20ch;\\n  height: 7em;\\n  display: grid;\\n  position: relative;\\n  align-content: end;\\n  box-sizing: border-box;\\n  padding: 10px;\\n  margin: 0;\\n  cursor: copy;\\n\\n  @media (max-width: 700px) {\\n    width: 100%;\\n  }\\n}\\n\\n:host [color-swatch] > small,\\n:host [color-swatch] > span,\\n:host [color-swatch]:after {\\n  cursor: copy;\\n}\\n\\n:host [color-swatch] > small {\\n  opacity: .8;\\n}\\n\\n:host [color-swatch]:after {\\n  content: \\\" \\\\00a0 copy\\\";\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n  transition: opacity 0.3s;\\n  opacity: 0;\\n}\\n\\n:host [color-swatch]:nth-child(1):after {\\n  color: var(--copy-message-left-color);\\n}\\n\\n:host [color-swatch]:nth-child(2):after {\\n  color: var(--copy-message-right-color);\\n}\\n\\n:host [color-swatch]:hover:after {\\n  opacity: 1;\\n}\\n\\n:host [color-swatch]:focus:after {\\n  content: \\\" \\\\00a0 copied\\\";\\n}\\n\\n:host [accessibility] {\\n  display: flex;\\n  flex-direction: column;\\n\\n  & > :not([contrast-compliance]) {\\n    display: grid;\\n    align-items: center;\\n    grid-template-columns: max-content 1fr;\\n\\n    & [value] {\\n      display: grid;\\n      justify-content: flex-start;\\n      padding-left: 1em;\\n      text-align: left;\\n    }\\n  }\\n\\n  & > [contrast-compliance] {\\n    justify-content: space-between;\\n\\n    & [value] {\\n      justify-content: flex-start;\\n      margin-right: 7px;\\n    }\\n  }\\n}\\n\\n:host [score] {\\n  font-size: 1.5em;\\n  line-height: .75;\\n\\n  &[pass=\\\"true\\\"] { color: green; }\\n  &[pass=\\\"false\\\"] { color: red; }\\n\\n  @media (prefers-color-scheme: dark) {\\n    &[pass=\\\"true\\\"] { color: hsl(120deg 50% 75%); }\\n    &[pass=\\\"false\\\"] { color: hsl(0deg 50% 65%); }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host [score] {\n  &[pass=\"true\"] { color: hsl(120deg 50% 75%); }\n  &[pass=\"false\"] { color: hsl(0deg 50% 65%); }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/metatip/metatip.element_dark.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAiB,0BAA0B,EAAE;EAC7C,kBAAkB,wBAAwB,EAAE;AAC9C\",\"sourcesContent\":[\":host [score] {\\n  &[pass=\\\"true\\\"] { color: hsl(120deg 50% 75%); }\\n  &[pass=\\\"false\\\"] { color: hsl(0deg 50% 65%); }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host [score] {\n  &[pass=\"true\"] { color: green; }\n  &[pass=\"false\"] { color: red; }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/metatip/metatip.element_light.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAiB,YAAY,EAAE;EAC/B,kBAAkB,UAAU,EAAE;AAChC\",\"sourcesContent\":[\":host [score] {\\n  &[pass=\\\"true\\\"] { color: green; }\\n  &[pass=\\\"false\\\"] { color: red; }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host [mask] {\n  pointer-events: none;\n  position: absolute;\n  z-index: var(--layer-5);\n  width: var(--width);\n  height: var(--height);\n  top: var(--top);\n  left: var(--left);\n  background-color: var(--bg);\n  clip-path: polygon(\n    0% 0%, 0% 100%, var(--target-left) 100%,\n    var(--target-left) var(--target-top),\n    var(--offset-right) var(--target-top),\n    var(--offset-right) var(--offset-bottom),\n    0 var(--offset-bottom), 0 100%,\n    100% 100%, 100% 0%\n  );\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/box-model.element.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,oBAAoB;EACpB,kBAAkB;EAClB,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,eAAe;EACf,iBAAiB;EACjB,2BAA2B;EAC3B;;;;;;;GAOC;AACH\",\"sourcesContent\":[\":host [mask] {\\n  pointer-events: none;\\n  position: absolute;\\n  z-index: var(--layer-5);\\n  width: var(--width);\\n  height: var(--height);\\n  top: var(--top);\\n  left: var(--left);\\n  background-color: var(--bg);\\n  clip-path: polygon(\\n    0% 0%, 0% 100%, var(--target-left) 100%,\\n    var(--target-left) var(--target-top),\\n    var(--offset-right) var(--target-top),\\n    var(--offset-right) var(--offset-bottom),\\n    0 var(--offset-bottom), 0 100%,\\n    100% 100%, 100% 0%\\n  );\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host rect {\n  width: 5px;\n  height: 5px;\n  vector-effect: non-scaling-stroke;\n  stroke: var(--theme-purple);\n  stroke-width: 1px;\n  fill: none;\n  stroke-linecap: round;\n  stroke-dasharray: 10px;\n  stroke-dashoffset: 5px;\n  x: 1px;\n  y: 1px;\n\n  &:nth-child(2) {\n    x: calc(100% - 6px);\n    y: 1px;\n    stroke-dashoffset: 0;\n  }\n\n  &:nth-child(3) {\n    x: calc(100% - 6px);\n    y: calc(100% - 6px);\n    stroke-dashoffset: 15px;\n  }\n\n  &:nth-child(4) {\n    x: 1px;\n    y: calc(100% - 6px);\n    stroke-dashoffset: 10px;\n  }\n}\n\n:host > svg {\n  z-index: var(--layer-5);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/corners.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,UAAU;EACV,WAAW;EACX,iCAAiC;EACjC,2BAA2B;EAC3B,iBAAiB;EACjB,UAAU;EACV,qBAAqB;EACrB,sBAAsB;EACtB,sBAAsB;EACtB,MAAM;EACN,MAAM;;EAEN;IACE,mBAAmB;IACnB,MAAM;IACN,oBAAoB;EACtB;;EAEA;IACE,mBAAmB;IACnB,mBAAmB;IACnB,uBAAuB;EACzB;;EAEA;IACE,MAAM;IACN,mBAAmB;IACnB,uBAAuB;EACzB;AACF;;AAEA;EACE,uBAAuB;AACzB\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host rect {\\n  width: 5px;\\n  height: 5px;\\n  vector-effect: non-scaling-stroke;\\n  stroke: var(--theme-purple);\\n  stroke-width: 1px;\\n  fill: none;\\n  stroke-linecap: round;\\n  stroke-dasharray: 10px;\\n  stroke-dashoffset: 5px;\\n  x: 1px;\\n  y: 1px;\\n\\n  &:nth-child(2) {\\n    x: calc(100% - 6px);\\n    y: 1px;\\n    stroke-dashoffset: 0;\\n  }\\n\\n  &:nth-child(3) {\\n    x: calc(100% - 6px);\\n    y: calc(100% - 6px);\\n    stroke-dashoffset: 15px;\\n  }\\n\\n  &:nth-child(4) {\\n    x: 1px;\\n    y: calc(100% - 6px);\\n    stroke-dashoffset: 10px;\\n  }\\n}\\n\\n:host > svg {\\n  z-index: var(--layer-5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --line-color: var(--theme-purple);\n  --line-base: var(--theme-color);\n  --line-width: 1px;\n  --distance-h: 5px;\n  --distance-w: 5px;\n  --line-w: 1px;\n  --line-h: 1px;\n  font-size: 16px;\n}\n\n:host > figure {\n  margin: 0;\n  position: absolute;\n  height: var(--distance-h);\n  width: var(--distance-w);\n  top: var(--top);\n  left: var(--left);\n  right: var(--right);\n  overflow: visible;\n  pointer-events: none;\n  z-index: var(--layer-3);\n  display: flex;\n  align-items: center;\n  justify-content: var(--justify, 'flex-start');\n  flex-direction: var(--direction);\n}\n\n:host > figure figcaption {\n  min-height: 3ex;\n  width: max-content;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  text-shadow: var(--text-shadow);\n  box-shadow: var(--text-shadow);\n  background: hsl(var(--line-color) / 75%);\n  border: 1px solid hsl(var(--line-color));\n  border-radius: 1em;\n  font-size: 0.7em;\n  font-weight: bold;\n  line-height: 1.1;\n  font-family: system-ui;\n  padding: 0 1ex;\n}\n\n:host > figure span {\n  background: hsl(var(--line-color));\n  height: var(--line-h);\n  width: var(--line-w);\n}\n\n:host > figure div {\n  flex: 2;\n  background: hsl(var(--line-color));\n  width: var(--line-w);\n  height: var(--line-h);\n}\n\n:host figure:matches([quadrant=\"bottom\"], [quadrant=\"right\"]) > div:first-of-type,\n:host figure:matches([quadrant=\"top\"], [quadrant=\"left\"]) > div:last-of-type {\n  background: linear-gradient(to var(--quadrant), hotpink 0%, hsl(var(--line-color)) 100%);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/distance.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,iCAAiC;EACjC,+BAA+B;EAC/B,iBAAiB;EACjB,iBAAiB;EACjB,iBAAiB;EACjB,aAAa;EACb,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,SAAS;EACT,kBAAkB;EAClB,yBAAyB;EACzB,wBAAwB;EACxB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,iBAAiB;EACjB,oBAAoB;EACpB,uBAAuB;EACvB,aAAa;EACb,mBAAmB;EACnB,6CAA6C;EAC7C,gCAAgC;AAClC;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,oBAAoB;EACpB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,+BAA+B;EAC/B,8BAA8B;EAC9B,wCAAwC;EACxC,wCAAwC;EACxC,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,gBAAgB;EAChB,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,kCAAkC;EAClC,qBAAqB;EACrB,oBAAoB;AACtB;;AAEA;EACE,OAAO;EACP,kCAAkC;EAClC,oBAAoB;EACpB,qBAAqB;AACvB;;AAEA;;EAEE,wFAAwF;AAC1F\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  --line-color: var(--theme-purple);\\n  --line-base: var(--theme-color);\\n  --line-width: 1px;\\n  --distance-h: 5px;\\n  --distance-w: 5px;\\n  --line-w: 1px;\\n  --line-h: 1px;\\n  font-size: 16px;\\n}\\n\\n:host > figure {\\n  margin: 0;\\n  position: absolute;\\n  height: var(--distance-h);\\n  width: var(--distance-w);\\n  top: var(--top);\\n  left: var(--left);\\n  right: var(--right);\\n  overflow: visible;\\n  pointer-events: none;\\n  z-index: var(--layer-3);\\n  display: flex;\\n  align-items: center;\\n  justify-content: var(--justify, 'flex-start');\\n  flex-direction: var(--direction);\\n}\\n\\n:host > figure figcaption {\\n  min-height: 3ex;\\n  width: max-content;\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: white;\\n  text-shadow: var(--text-shadow);\\n  box-shadow: var(--text-shadow);\\n  background: hsl(var(--line-color) / 75%);\\n  border: 1px solid hsl(var(--line-color));\\n  border-radius: 1em;\\n  font-size: 0.7em;\\n  font-weight: bold;\\n  line-height: 1.1;\\n  font-family: system-ui;\\n  padding: 0 1ex;\\n}\\n\\n:host > figure span {\\n  background: hsl(var(--line-color));\\n  height: var(--line-h);\\n  width: var(--line-w);\\n}\\n\\n:host > figure div {\\n  flex: 2;\\n  background: hsl(var(--line-color));\\n  width: var(--line-w);\\n  height: var(--line-h);\\n}\\n\\n:host figure:matches([quadrant=\\\"bottom\\\"], [quadrant=\\\"right\\\"]) > div:first-of-type,\\n:host figure:matches([quadrant=\\\"top\\\"], [quadrant=\\\"left\\\"]) > div:last-of-type {\\n  background: linear-gradient(to var(--quadrant), hotpink 0%, hsl(var(--line-color)) 100%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --color: var(--theme-color);\n}\n\n:host > svg {\n  position:absolute;\n  top:0;\n  left:0;\n  overflow:visible;\n  pointer-events:none;\n  z-index:var(--layer-5);\n}\n\n:host rect, \n:host line {\n  stroke: var(--color);\n}\n\n:host line {\n  stroke-dasharray: 2;\n  stroke-dasharray-offset: 3;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/gridlines.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,iBAAiB;EACjB,KAAK;EACL,MAAM;EACN,gBAAgB;EAChB,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,mBAAmB;EACnB,0BAA0B;AAC5B\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  --color: var(--theme-color);\\n}\\n\\n:host > svg {\\n  position:absolute;\\n  top:0;\\n  left:0;\\n  overflow:visible;\\n  pointer-events:none;\\n  z-index:var(--layer-5);\\n}\\n\\n:host rect, \\n:host line {\\n  stroke: var(--color);\\n}\\n\\n:host line {\\n  stroke-dasharray: 2;\\n  stroke-dasharray-offset: 3;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host g {\n  transform: translate(calc(50% - 10%), calc(50% - .25em));\n}\n\n:host rect {\n  vector-effect: non-scaling-stroke;\n  height: .5em;\n  width: 20%;\n  max-width: 10vmax;\n  stroke: var(--theme-color);\n  stroke-width: 1px;\n  stroke-linecap: round;\n  rx: 4;\n}\n\n:host > svg {\n  z-index: var(--layer-5);\n\n  &[hovering] rect {\n    fill: var(--theme-color);\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/grip.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,wDAAwD;AAC1D;;AAEA;EACE,iCAAiC;EACjC,YAAY;EACZ,UAAU;EACV,iBAAiB;EACjB,0BAA0B;EAC1B,iBAAiB;EACjB,qBAAqB;EACrB,KAAK;AACP;;AAEA;EACE,uBAAuB;;EAEvB;IACE,wBAAwB;EAC1B;AACF\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host g {\\n  transform: translate(calc(50% - 10%), calc(50% - .25em));\\n}\\n\\n:host rect {\\n  vector-effect: non-scaling-stroke;\\n  height: .5em;\\n  width: 20%;\\n  max-width: 10vmax;\\n  stroke: var(--theme-color);\\n  stroke-width: 1px;\\n  stroke-linecap: round;\\n  rx: 4;\\n}\\n\\n:host > svg {\\n  z-index: var(--layer-5);\\n\\n  &[hovering] rect {\\n    fill: var(--theme-color);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  display: grid;\n  grid-area: 1 / -1;\n  place-self: var(--align-self, center) var(--justify-self, center);\n  transform: translate(var(--translate-x, 0), var(--translate-y, 0));\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host > button {\n  pointer-events: auto;\n  background-color: white;\n  border: 1px solid hotpink;\n  padding: 0;\n  width: 0.5rem;\n  height: 0.5rem;\n  border-radius: 50%;\n  position: relative;\n  cursor: var(--cursor);\n\n  /* increase tap target size */\n  &::before {\n    content: '';\n    position: absolute;\n    inset: -0.5rem;\n  }\n}\n\n:host([placement^=\"top\"]) {\n  --align-self: start;\n  --translate-y: -50%;\n}\n\n:host([placement^=\"bottom\"]) {\n  --align-self: end;\n  --translate-y: 50%;\n}\n\n:host([placement\\$=\"start\"]) {\n  --justify-self: start;\n  --translate-x: -50%;\n}\n\n:host([placement\\$=\"end\"]) {\n  --justify-self: end;\n  --translate-x: 50%;\n}\n\n:host([placement^=\"top\"]),\n:host([placement^=\"bottom\"]) {\n  --cursor: ns-resize;\n}\n\n:host([placement\\$=\"start\"]),\n:host([placement\\$=\"end\"]) {\n  --cursor: ew-resize;\n}\n\n:host([placement=\"top-start\"]) {\n  --cursor: nw-resize;\n}\n\n:host([placement=\"top-end\"]) {\n  --cursor: ne-resize;\n}\n\n:host([placement=\"bottom-start\"]) {\n  --cursor: sw-resize;\n}\n\n:host([placement=\"bottom-end\"]) {\n  --cursor: se-resize;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/handle.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,iEAAiE;EACjE,kEAAkE;AACpE;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,yBAAyB;EACzB,UAAU;EACV,aAAa;EACb,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,qBAAqB;;EAErB,6BAA6B;EAC7B;IACE,WAAW;IACX,kBAAkB;IAClB,cAAc;EAChB;AACF;;AAEA;EACE,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;AACrB\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  display: grid;\\n  grid-area: 1 / -1;\\n  place-self: var(--align-self, center) var(--justify-self, center);\\n  transform: translate(var(--translate-x, 0), var(--translate-y, 0));\\n}\\n\\n:host([hidden]) {\\n  display: none;\\n}\\n\\n:host > button {\\n  pointer-events: auto;\\n  background-color: white;\\n  border: 1px solid hotpink;\\n  padding: 0;\\n  width: 0.5rem;\\n  height: 0.5rem;\\n  border-radius: 50%;\\n  position: relative;\\n  cursor: var(--cursor);\\n\\n  /* increase tap target size */\\n  &::before {\\n    content: '';\\n    position: absolute;\\n    inset: -0.5rem;\\n  }\\n}\\n\\n:host([placement^=\\\"top\\\"]) {\\n  --align-self: start;\\n  --translate-y: -50%;\\n}\\n\\n:host([placement^=\\\"bottom\\\"]) {\\n  --align-self: end;\\n  --translate-y: 50%;\\n}\\n\\n:host([placement$=\\\"start\\\"]) {\\n  --justify-self: start;\\n  --translate-x: -50%;\\n}\\n\\n:host([placement$=\\\"end\\\"]) {\\n  --justify-self: end;\\n  --translate-x: 50%;\\n}\\n\\n:host([placement^=\\\"top\\\"]),\\n:host([placement^=\\\"bottom\\\"]) {\\n  --cursor: ns-resize;\\n}\\n\\n:host([placement$=\\\"start\\\"]),\\n:host([placement$=\\\"end\\\"]) {\\n  --cursor: ew-resize;\\n}\\n\\n:host([placement=\\\"top-start\\\"]) {\\n  --cursor: nw-resize;\\n}\\n\\n:host([placement=\\\"top-end\\\"]) {\\n  --cursor: ne-resize;\\n}\\n\\n:host([placement=\\\"bottom-start\\\"]) {\\n  --cursor: sw-resize;\\n}\\n\\n:host([placement=\\\"bottom-end\\\"]) {\\n  --cursor: se-resize;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: var(--position, 'absolute');\n  top: var(--top);\n  left: var(--left);\n  overflow: visible;\n  pointer-events: none;\n  z-index: var(--layer-3);\n  width: var(--width);\n  height: var(--height);\n  display: grid;\n  grid-template-rows: 1fr;\n  isolation: isolate;\n}\n\n:host > svg {\n  position: absolute;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/handles.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,qCAAqC;EACrC,eAAe;EACf,iBAAiB;EACjB,iBAAiB;EACjB,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,qBAAqB;EACrB,aAAa;EACb,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  position: var(--position, 'absolute');\\n  top: var(--top);\\n  left: var(--left);\\n  overflow: visible;\\n  pointer-events: none;\\n  z-index: var(--layer-3);\\n  width: var(--width);\\n  height: var(--height);\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  isolation: isolate;\\n}\\n\\n:host > svg {\\n  position: absolute;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host rect {\n  width: 100%;\n  height: 100%;\n  vector-effect: non-scaling-stroke;\n  stroke: var(--hover-stroke, var(--theme-purple, hsl(267 100% 58%)));\n  stroke-width: 1px;\n  fill: none;\n}\n\n:host > svg {\n  z-index: var(--layer-5);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/hover.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,WAAW;EACX,YAAY;EACZ,iCAAiC;EACjC,mEAAmE;EACnE,iBAAiB;EACjB,UAAU;AACZ;;AAEA;EACE,uBAAuB;AACzB\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host rect {\\n  width: 100%;\\n  height: 100%;\\n  vector-effect: non-scaling-stroke;\\n  stroke: var(--hover-stroke, var(--theme-purple, hsl(267 100% 58%)));\\n  stroke-width: 1px;\\n  fill: none;\\n}\\n\\n:host > svg {\\n  z-index: var(--layer-5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  font-size: 16px;\n  --position: absolute;\n  --top: 0;\n  --left: 0;\n  --max-width: 0;\n}\n\n:host > span {\n  position: var(--position);\n  top: var(--top);\n  left: var(--left);\n  max-width: var(--max-width);\n  z-index: var(--layer-4);\n  transform: translateY(-100%);\n  background: var(--label-bg, hotpink);\n  border-radius: 0.2em 0.2em 0 0;\n  text-shadow: var(--text-shadow);\n  color: white;\n  display: inline-flex;\n  justify-content: center;\n  font-size: 0.8em;\n  font-weight: normal;\n  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;\n  white-space: nowrap;\n  padding: 0.25em 0.4em 0.15em;\n  line-height: 1.1;\n}\n\n:host a {\n  text-decoration: none;\n  color: inherit;\n  cursor: pointer;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:hover {\n    text-decoration: underline;\n    color: white;\n  }\n\n  &[node]:before {\n    content: \"\\\\003c\";\n  }\n\n  &[node]:after {\n    content: \"\\\\003e\";\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/label.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,eAAe;EACf,oBAAoB;EACpB,QAAQ;EACR,SAAS;EACT,cAAc;AAChB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,iBAAiB;EACjB,2BAA2B;EAC3B,uBAAuB;EACvB,4BAA4B;EAC5B,oCAAoC;EACpC,8BAA8B;EAC9B,+BAA+B;EAC/B,YAAY;EACZ,oBAAoB;EACpB,uBAAuB;EACvB,gBAAgB;EAChB,mBAAmB;EACnB,iGAAiG;EACjG,mBAAmB;EACnB,4BAA4B;EAC5B,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,cAAc;EACd,eAAe;EACf,uBAAuB;EACvB,gBAAgB;;EAEhB;IACE,0BAA0B;IAC1B,YAAY;EACd;;EAEA;IACE,gBAAgB;EAClB;;EAEA;IACE,gBAAgB;EAClB;AACF\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  font-size: 16px;\\n  --position: absolute;\\n  --top: 0;\\n  --left: 0;\\n  --max-width: 0;\\n}\\n\\n:host > span {\\n  position: var(--position);\\n  top: var(--top);\\n  left: var(--left);\\n  max-width: var(--max-width);\\n  z-index: var(--layer-4);\\n  transform: translateY(-100%);\\n  background: var(--label-bg, hotpink);\\n  border-radius: 0.2em 0.2em 0 0;\\n  text-shadow: var(--text-shadow);\\n  color: white;\\n  display: inline-flex;\\n  justify-content: center;\\n  font-size: 0.8em;\\n  font-weight: normal;\\n  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;\\n  white-space: nowrap;\\n  padding: 0.25em 0.4em 0.15em;\\n  line-height: 1.1;\\n}\\n\\n:host a {\\n  text-decoration: none;\\n  color: inherit;\\n  cursor: pointer;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n\\n  &:hover {\\n    text-decoration: underline;\\n    color: white;\\n  }\\n\\n  &[node]:before {\\n    content: \\\"\\\\003c\\\";\\n  }\\n\\n  &[node]:after {\\n    content: \\\"\\\\003e\\\";\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_1___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./label.element.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  --count: \"\\\\00a0 0\";\n  --hover-text: \"\";\n}\n\n:host > [offscreen-label] {\n  cursor: none;\n}\n\n:host > [offscreen-label]:after {\n  content: var(--count);\n}\n\n:host > [offscreen-label]:hover:after {\n  content: var(--hover-text);\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/offscreenLabel.element.css\"],\"names\":[],\"mappings\":\"AAIA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,0BAA0B;AAC5B\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n@import \\\"./label.element.css\\\";\\n\\n:host {\\n  --count: \\\"\\\\00a0 0\\\";\\n  --hover-text: \\\"\\\";\\n}\\n\\n:host > [offscreen-label] {\\n  cursor: none;\\n}\\n\\n:host > [offscreen-label]:after {\\n  content: var(--count);\\n}\\n\\n:host > [offscreen-label]:hover:after {\\n  content: var(--hover-text);\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host svg {\n  display: none;\n  position: absolute;\n  top: var(--top);\n  left: var(--left);\n  overflow: visible;\n  pointer-events: none;\n  z-index: var(--layer-5);\n\n  & > rect {\n    fill: hsla(330, 100%, 71%, 0.5);\n    width: 100%;\n    height: 100%;\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/selection/overlay.element.css\"],\"names\":[],\"mappings\":\"AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,iBAAiB;EACjB,oBAAoB;EACpB,uBAAuB;;EAEvB;IACE,+BAA+B;IAC/B,WAAW;IACX,YAAY;EACd;AACF\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host svg {\\n  display: none;\\n  position: absolute;\\n  top: var(--top);\\n  left: var(--left);\\n  overflow: visible;\\n  pointer-events: none;\\n  z-index: var(--layer-5);\\n\\n  & > rect {\\n    fill: hsla(330, 100%, 71%, 0.5);\\n    width: 100%;\\n    height: 100%;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!../_variables.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: var(--layer-1);\n  max-width: min-content;\n\n  opacity: 0;\n  animation: present-yourself .3s ease forwards;\n\n  @media (prefers-reduced-motion: no-preference) {\n    transform: translateX(-200%);\n  }\n\n  & [constructible-support=\"true\"] aside {\n    transition: opacity 0.3s ease, transform 0.2s ease;\n  }\n}\n\n:host > ol {\n  all: initial;\n  cursor: inherit;\n  font-size: 16px;\n  font-family: system-ui;\n  display: flex;\n  flex-direction: column;\n  margin: 1em 0 0.5em 1em;\n  padding: 0;\n  list-style-type: none;\n  border-radius: 2em;\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n\n  &:first-of-type {\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\n    backdrop-filter: blur(5px);\n    -webkit-backdrop-filter: blur(5px);\n    background-color: var(--theme-bd-2);\n\n    &:active {\n      cursor: grabbing !important;\n    }\n\n    @media (prefers-color-scheme: dark) {\n      box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%);\n    }\n  }\n}\n\n:host li {\n  height: 2.25em;\n  width: 2.25em;\n  margin: 0.05em 0.25em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-radius: 50%;\n\n  &:first-child { margin-top: 0.25em; }\n  &:last-child { margin-bottom: 0.25em; }\n\n  &[data-tool] {\n    &:hover {\n      cursor: pointer;\n      background-color: var(--theme-icon_hover-bg);\n    }\n    &:active {\n      background-color: var(--theme-icon_active-bg);\n    }\n  }\n\n  &[data-active=true] {\n    background-color: var(--theme-bg);\n\n    & > .icon-cursor {\n      stroke: var(--theme-color);\n    }\n\n    & > svg:not(.icon-cursor) {\n      fill: var(--theme-color);\n    }\n  }\n\n  @media (max-height: 768px) {\n    &:is(:nth-of-type(7),:nth-of-type(8), :nth-of-type(9), :nth-of-type(10), :nth-of-type(11), :nth-of-type(12), :nth-of-type(13)) > aside {\n      top: auto;\n    }\n  }\n\n  & > aside {\n    overflow: hidden;\n    position: absolute;\n    direction: ltr;\n    text-align: left;\n    left: 3em;\n    top: 0;\n    z-index: -2;\n    pointer-events: none;\n    background: var(--theme-bg);\n    color: var(--theme-text_color);\n    box-shadow: 0 0.1em 4.5em hsla(0,0%,0%,15%);\n    border-radius: 1em;\n\n    opacity: 0;\n    transform: translateX(-1em);\n    will-change: transform, opacity;\n\n    @media (prefers-reduced-motion: reduce) {\n      transition-duration: 0s;\n    }\n\n    & > figure {\n      margin: 0;\n      display: grid;\n    }\n\n    & figcaption {\n      padding: 1em;\n      display: grid;\n      gap: 1em;\n\n      & > :is(h2,p) {\n        margin: 0;\n      }\n\n      & > h2 {\n        font-size: 1.5em;\n        line-height: 1.1;\n        display: grid;\n        grid-auto-flow: column;\n        justify-content: space-between;\n        align-items: center;\n\n        & u {\n          text-decoration-color: var(--theme-color);\n        }\n      }\n\n      & > p {\n        font-size: 1em;\n        line-height: 1.5;\n        color: var(--theme-icon_color);\n      }\n\n      & [table] {\n        display: grid;\n        gap: 0.5em;\n\n        & > div {\n          display: grid;\n          grid-auto-flow: column;\n          grid-template-columns: 1fr auto;\n          justify-content: space-between;\n        }\n      }\n    }\n\n    & [hotkey] {\n      border-radius: .25em;\n      height: 1.5em;\n      width: 1.5em;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      border: 1px solid var(--theme-color);\n      color: var(--theme-color);\n      font-weight: 300;\n      font-size: 0.5em;\n      text-transform: uppercase;\n      box-shadow: 0 2px 2px hsla(0 0% 0% / .25)\n    }\n  }\n\n  &:hover:not([data-tool=\"search\"]) > aside,\n  &[data-tool=\"search\"] > svg:hover + aside {\n    opacity: 1;\n    transform: translateX(0);\n    transition-delay: 1s;\n  }\n\n  & input::-webkit-calendar-picker-indicator {\n    background: inherit;\n    color: var(--theme-color);\n  }\n}\n\n:host [colors] {\n  margin-top: .5em;\n}\n\n:host [colors] > li {\n  overflow: hidden;\n  border-radius: 50%;\n  box-shadow: 0 0 0 2px var(--theme-bg), 0 0.25em 0.5em hsla(0,0%,0%,25%);\n  background: var(--contextual_color);\n  margin-bottom: 0.5em;\n\n  &:first-child {\n    margin-top: 0;\n  }\n}\n\n:host [colors] li:hover:after {\n  top: 0;\n}\n\n:host li > svg {\n  width: 50%;\n  fill: var(--theme-icon_color);\n}\n\n:host li > svg.icon-cursor {\n  width: 35%;\n  fill: white;\n  stroke: var(--theme-icon_color);\n  stroke-width: 2px;\n}\n\n:host li[data-tool=\"search\"] {\n  &:before {\n    transform: translateX(-1em);\n    opacity: 0;\n  }\n}\n\n:host li[data-tool=\"search\"] > .search {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: -1;\n  box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\n  border-radius: 2em;\n  overflow: hidden;\n}\n\n:host li[data-tool=\"search\"] > .search > input {\n  direction: ltr;\n  border: none;\n  font-size: 1em;\n  padding: 0.4em 0.4em 0.4em 3em;\n  outline: none;\n  height: 100%;\n  width: 250px;\n  box-sizing: border-box;\n  caret-color: hotpink;\n  background-color: var(--theme-bg);\n  color: var(--theme-text_color);\n  cursor: initial;\n  -webkit-appearance: none;\n\n  &::placeholder {\n    font-weight: lighter;\n    font-size: 0.8em;\n    color: var(--theme-icon_color);\n  }\n}\n\n:host [colors] > li > svg {\n  fill: var(--icon_color);\n}\n\n:host [colors] > li > svg > rect:last-child {\n  stroke: hsla(0,0%,0%,20%);\n  stroke-width: 0.5px;\n}\n\n:host input[type='color'] {\n  opacity: 0.01;\n  position: absolute;\n  top: 0; left: 0;\n  width: 100%; height: 100%;\n  z-index: 1;\n  box-sizing: border-box;\n  border: white;\n  padding: 0;\n  cursor: pointer;\n}\n\n:host input[type='color']:focus {\n  outline: none;\n}\n\n:host input[type='color']::-webkit-color-swatch-wrapper {\n  padding: 0;\n}\n\n:host input[type='color']::-webkit-color-swatch {\n  border: none;\n}\n\n:host input[type='color'][value='']::-webkit-color-swatch {\n  background-color: transparent !important;\n  background-image: linear-gradient(155deg, #ffffff 0%,#ffffff 46%,#ff0000 46%,#ff0000 54%,#ffffff 55%,#ffffff 100%);\n}\n\n@keyframes present-yourself {\n  to {\n    opacity: 1;\n    transform: translate3d(0,0,0);\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/uh-web-editor/uh-web-editor.element.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"@import \\\"../_variables.css\\\";\\n\\n:host {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: var(--layer-1);\\n  max-width: min-content;\\n\\n  opacity: 0;\\n  animation: present-yourself .3s ease forwards;\\n\\n  @media (prefers-reduced-motion: no-preference) {\\n    transform: translateX(-200%);\\n  }\\n\\n  & [constructible-support=\\\"true\\\"] aside {\\n    transition: opacity 0.3s ease, transform 0.2s ease;\\n  }\\n}\\n\\n:host > ol {\\n  all: initial;\\n  cursor: inherit;\\n  font-size: 16px;\\n  font-family: system-ui;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 1em 0 0.5em 1em;\\n  padding: 0;\\n  list-style-type: none;\\n  border-radius: 2em;\\n  backdrop-filter: blur(5px);\\n  -webkit-backdrop-filter: blur(5px);\\n\\n  &:first-of-type {\\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\\n    backdrop-filter: blur(5px);\\n    -webkit-backdrop-filter: blur(5px);\\n    background-color: var(--theme-bd-2);\\n\\n    &:active {\\n      cursor: grabbing !important;\\n    }\\n\\n    @media (prefers-color-scheme: dark) {\\n      box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%);\\n    }\\n  }\\n}\\n\\n:host li {\\n  height: 2.25em;\\n  width: 2.25em;\\n  margin: 0.05em 0.25em;\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: relative;\\n  border-radius: 50%;\\n\\n  &:first-child { margin-top: 0.25em; }\\n  &:last-child { margin-bottom: 0.25em; }\\n\\n  &[data-tool] {\\n    &:hover {\\n      cursor: pointer;\\n      background-color: var(--theme-icon_hover-bg);\\n    }\\n    &:active {\\n      background-color: var(--theme-icon_active-bg);\\n    }\\n  }\\n\\n  &[data-active=true] {\\n    background-color: var(--theme-bg);\\n\\n    & > .icon-cursor {\\n      stroke: var(--theme-color);\\n    }\\n\\n    & > svg:not(.icon-cursor) {\\n      fill: var(--theme-color);\\n    }\\n  }\\n\\n  @media (max-height: 768px) {\\n    &:is(:nth-of-type(7),:nth-of-type(8), :nth-of-type(9), :nth-of-type(10), :nth-of-type(11), :nth-of-type(12), :nth-of-type(13)) > aside {\\n      top: auto;\\n    }\\n  }\\n\\n  & > aside {\\n    overflow: hidden;\\n    position: absolute;\\n    direction: ltr;\\n    text-align: left;\\n    left: 3em;\\n    top: 0;\\n    z-index: -2;\\n    pointer-events: none;\\n    background: var(--theme-bg);\\n    color: var(--theme-text_color);\\n    box-shadow: 0 0.1em 4.5em hsla(0,0%,0%,15%);\\n    border-radius: 1em;\\n\\n    opacity: 0;\\n    transform: translateX(-1em);\\n    will-change: transform, opacity;\\n\\n    @media (prefers-reduced-motion: reduce) {\\n      transition-duration: 0s;\\n    }\\n\\n    & > figure {\\n      margin: 0;\\n      display: grid;\\n    }\\n\\n    & figcaption {\\n      padding: 1em;\\n      display: grid;\\n      gap: 1em;\\n\\n      & > :is(h2,p) {\\n        margin: 0;\\n      }\\n\\n      & > h2 {\\n        font-size: 1.5em;\\n        line-height: 1.1;\\n        display: grid;\\n        grid-auto-flow: column;\\n        justify-content: space-between;\\n        align-items: center;\\n\\n        & u {\\n          text-decoration-color: var(--theme-color);\\n        }\\n      }\\n\\n      & > p {\\n        font-size: 1em;\\n        line-height: 1.5;\\n        color: var(--theme-icon_color);\\n      }\\n\\n      & [table] {\\n        display: grid;\\n        gap: 0.5em;\\n\\n        & > div {\\n          display: grid;\\n          grid-auto-flow: column;\\n          grid-template-columns: 1fr auto;\\n          justify-content: space-between;\\n        }\\n      }\\n    }\\n\\n    & [hotkey] {\\n      border-radius: .25em;\\n      height: 1.5em;\\n      width: 1.5em;\\n      display: inline-flex;\\n      align-items: center;\\n      justify-content: center;\\n      border: 1px solid var(--theme-color);\\n      color: var(--theme-color);\\n      font-weight: 300;\\n      font-size: 0.5em;\\n      text-transform: uppercase;\\n      box-shadow: 0 2px 2px hsla(0 0% 0% / .25)\\n    }\\n  }\\n\\n  &:hover:not([data-tool=\\\"search\\\"]) > aside,\\n  &[data-tool=\\\"search\\\"] > svg:hover + aside {\\n    opacity: 1;\\n    transform: translateX(0);\\n    transition-delay: 1s;\\n  }\\n\\n  & input::-webkit-calendar-picker-indicator {\\n    background: inherit;\\n    color: var(--theme-color);\\n  }\\n}\\n\\n:host [colors] {\\n  margin-top: .5em;\\n}\\n\\n:host [colors] > li {\\n  overflow: hidden;\\n  border-radius: 50%;\\n  box-shadow: 0 0 0 2px var(--theme-bg), 0 0.25em 0.5em hsla(0,0%,0%,25%);\\n  background: var(--contextual_color);\\n  margin-bottom: 0.5em;\\n\\n  &:first-child {\\n    margin-top: 0;\\n  }\\n}\\n\\n:host [colors] li:hover:after {\\n  top: 0;\\n}\\n\\n:host li > svg {\\n  width: 50%;\\n  fill: var(--theme-icon_color);\\n}\\n\\n:host li > svg.icon-cursor {\\n  width: 35%;\\n  fill: white;\\n  stroke: var(--theme-icon_color);\\n  stroke-width: 2px;\\n}\\n\\n:host li[data-tool=\\\"search\\\"] {\\n  &:before {\\n    transform: translateX(-1em);\\n    opacity: 0;\\n  }\\n}\\n\\n:host li[data-tool=\\\"search\\\"] > .search {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  height: 100%;\\n  z-index: -1;\\n  box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\\n  border-radius: 2em;\\n  overflow: hidden;\\n}\\n\\n:host li[data-tool=\\\"search\\\"] > .search > input {\\n  direction: ltr;\\n  border: none;\\n  font-size: 1em;\\n  padding: 0.4em 0.4em 0.4em 3em;\\n  outline: none;\\n  height: 100%;\\n  width: 250px;\\n  box-sizing: border-box;\\n  caret-color: hotpink;\\n  background-color: var(--theme-bg);\\n  color: var(--theme-text_color);\\n  cursor: initial;\\n  -webkit-appearance: none;\\n\\n  &::placeholder {\\n    font-weight: lighter;\\n    font-size: 0.8em;\\n    color: var(--theme-icon_color);\\n  }\\n}\\n\\n:host [colors] > li > svg {\\n  fill: var(--icon_color);\\n}\\n\\n:host [colors] > li > svg > rect:last-child {\\n  stroke: hsla(0,0%,0%,20%);\\n  stroke-width: 0.5px;\\n}\\n\\n:host input[type='color'] {\\n  opacity: 0.01;\\n  position: absolute;\\n  top: 0; left: 0;\\n  width: 100%; height: 100%;\\n  z-index: 1;\\n  box-sizing: border-box;\\n  border: white;\\n  padding: 0;\\n  cursor: pointer;\\n}\\n\\n:host input[type='color']:focus {\\n  outline: none;\\n}\\n\\n:host input[type='color']::-webkit-color-swatch-wrapper {\\n  padding: 0;\\n}\\n\\n:host input[type='color']::-webkit-color-swatch {\\n  border: none;\\n}\\n\\n:host input[type='color'][value='']::-webkit-color-swatch {\\n  background-color: transparent !important;\\n  background-image: linear-gradient(155deg, #ffffff 0%,#ffffff 46%,#ff0000 46%,#ff0000 54%,#ffffff 55%,#ffffff 100%);\\n}\\n\\n@keyframes present-yourself {\\n  to {\\n    opacity: 1;\\n    transform: translate3d(0,0,0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host > ol {\n  &:first-of-type {\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%);\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/uh-web-editor/uh-web-editor.element_dark.css\"],\"names\":[],\"mappings\":\"AAAA;EACE;IACE,4CAA4C;EAC9C;AACF\",\"sourcesContent\":[\":host > ol {\\n  &:first-of-type {\\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,50%);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host > ol {\n  &:first-of-type {\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./app/components/uh-web-editor/uh-web-editor.element_light.css\"],\"names\":[],\"mappings\":\"AAAA;EACE;IACE,4CAA4C;EAC9C;AACF\",\"sourcesContent\":[\":host > ol {\\n  &:first-of-type {\\n    box-shadow: 0 0.25em 0.5em hsla(0,0%,0%,10%);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import 'construct-style-sheets-polyfill'\n\nimport { default as uhWebEditor_css }     from './uh-web-editor/uh-web-editor.element.css'\nimport { default as handles_css }    from './selection/handles.element.css'\nimport { default as handle_css }     from './selection/handle.element.css'\nimport { default as hover_css }      from './selection/hover.element.css'\nimport { default as corners_css }    from './selection/corners.element.css'\nimport { default as distance_css }   from './selection/distance.element.css'\nimport { default as gridline_css }   from './selection/gridlines.element.css'\nimport { default as label_css }      from './selection/label.element.css'\nimport { default as offscreenLabel_css }      from './selection/offscreenLabel.element.css'\nimport { default as overlay_css }    from './selection/overlay.element.css'\nimport { default as boxmodel_css }   from './selection/box-model.element.css'\nimport { default as metatip_css }    from './metatip/metatip.element.css'\nimport { default as hotkeymap_css }  from './hotkey-map/base.element.css'\nimport { default as grip_css }       from './selection/grip.element.css'\n\nimport { default as light_css }            from './_variables_light.css'\nimport { default as uhWebEditor_light_css }     from './uh-web-editor/uh-web-editor.element_light.css'\nimport { default as metatip_light_css }    from './metatip/metatip.element_light.css'\nimport { default as hotkeymap_light_css }  from './hotkey-map/base.element_light.css'\n\nimport { default as dark_css }             from './_variables_dark.css'\nimport { default as uhWebEditor_dark_css }      from './uh-web-editor/uh-web-editor.element_dark.css'\nimport { default as metatip_dark_css }     from './metatip/metatip.element_dark.css'\nimport { default as hotkeymap_dark_css }   from \"./hotkey-map/base.element_dark.css\"\n\nconst constructStylesheet = (styles, stylesheet = new CSSStyleSheet()) => {\n  stylesheet.replaceSync(styles)\n  return stylesheet\n}\n\nexport const WebEditorStyles         = constructStylesheet(uhWebEditor_css)\nexport const HandlesStyles        = constructStylesheet(handles_css)\nexport const HandleStyles         = constructStylesheet(handle_css)\nexport const HoverStyles          = constructStylesheet(hover_css)\nexport const CornerStyles         = constructStylesheet(corners_css)\nexport const MetatipStyles        = constructStylesheet(metatip_css)\nexport const DistanceStyles       = constructStylesheet(distance_css)\nexport const GridlineStyles       = constructStylesheet(gridline_css)\nexport const LabelStyles          = constructStylesheet(label_css)\nexport const OffscreenLabelStyles  = constructStylesheet(offscreenLabel_css)\nexport const OverlayStyles        = constructStylesheet(overlay_css)\nexport const BoxModelStyles       = constructStylesheet(boxmodel_css)\nexport const HotkeymapStyles      = constructStylesheet(hotkeymap_css)\nexport const GripStyles           = constructStylesheet(grip_css)\n\nexport const LightTheme           = constructStylesheet(light_css)\nexport const WebEditorLightStyles    = constructStylesheet(uhWebEditor_light_css)\nexport const MetatipLightStyles   = constructStylesheet(metatip_light_css)\nexport const HotkeymapLightStyles = constructStylesheet(hotkeymap_light_css)\n\nexport const DarkTheme            = constructStylesheet(dark_css)\nexport const WebEditorDarkStyles     = constructStylesheet(uhWebEditor_dark_css)\nexport const MetatipDarkStyles    = constructStylesheet(metatip_dark_css)\nexport const HotkeymapDarkStyles  = constructStylesheet(hotkeymap_dark_css)\n","/*!\n * hotkeys-js v3.8.1\n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.\n * \n * Copyright (c) 2020 kenny wong <wowohoo@qq.com>\n * http://jaywcjlove.github.io/hotkeys\n * \n * Licensed under the MIT license.\n */\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // \n\nfunction addEvent(object, event, method) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, false);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // \n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // key\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // ,\n\n  var keys = key.split(','); // ','\n\n  var index = keys.lastIndexOf(''); // ','\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // \n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '': 16,\n  shift: 16,\n  // altKey\n  '': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // \n\nvar _scope = 'all'; // \n\nvar elementHasBindEvent = []; // \n// \n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n}; // ''\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // \n\n\nfunction getScope() {\n  return _scope || 'all';\n} // \n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n} //   Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // truefalse\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // \n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // handlers scope()\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // scopescope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // scopescopeall\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // \n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // \n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } //  cmmand  cmmand  keyup \n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } //  shiftKey altKey ctrlKey (command||metaKey) \n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // false\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (!keysInfo) {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // \n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // \n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].map(function (record) {\n      // \n      var isMatchingMethod = method ? record.method === method : true;\n\n      if (isMatchingMethod && record.scope === scope && compareArray(record.mods, mods)) {\n        return {};\n      }\n\n      return record;\n    });\n  });\n}; // \n\n\nfunction eventHandler(event, handler, scope) {\n  var modifiersMatch; // \n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // true\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // \n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // keydown\n\n\nfunction dispatch(event) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; //  \n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)command224Webkit(Chrome)\n  // Webkit command \n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // key hotkeys \n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } //  modifierMap  event \n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type .\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n\n\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n\n    _mods[17] = true;\n    _mods[18] = true;\n  } //   `all`\n\n\n  var scope = getScope(); // \n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope);\n      }\n    }\n  } // key  _handlers \n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // \n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // \n          eventHandler(event, record, scope);\n        }\n      }\n    }\n  }\n} //  element \n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // \n\n  var mods = [];\n  var scope = 'all'; // scopeall\n\n  var element = document; // \n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+'; // \n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // \n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // \n\n    mods = []; // \n\n    if (key.length > 1) mods = getMods(_modifier, key); // \n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *\n    // key_handlers\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey\n    });\n  } // document\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e);\n    });\n    addEvent(window, 'focus', function () {\n      _downKeys = [];\n    });\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e);\n      clearModifier(e);\n    });\n  }\n}\n\nvar _api = {\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  unbind: unbind\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport default hotkeys;\n","import $ from 'blingblingjs'\nimport { HandlesStyles } from '../styles.store'\nimport { isFixed } from '../../utilities/';\n\nexport class Handles extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.styles = [HandlesStyles]\n    this.on_window_resize = this.on_window_resize.bind(this)\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = this.styles\n    window.addEventListener('resize', this.on_window_resize)\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener('resize', this.on_window_resize)\n  }\n\n  on_window_resize() {\n    window.requestAnimationFrame(() => {\n      const node_label_id = this.$shadow.host.getAttribute('data-label-id')\n      const [source_el] = $(`[data-label-id=\"${node_label_id}\"]`)\n\n      if (!source_el) return\n\n      this.position = {\n        node_label_id,\n        el: source_el,\n        isFixed: isFixed(source_el),\n      }\n    })\n  }\n\n  set position({el, node_label_id}) {\n    this.$shadow.innerHTML = this.render(el.getBoundingClientRect(), node_label_id, isFixed(el))\n\n    if (this._backdrop) {\n      this.backdrop = {\n        element: this._backdrop.update(el),\n        update:  this._backdrop.update,\n      }\n    }\n  }\n\n  set backdrop(bd) {\n    this._backdrop = bd\n\n    const cur_child = this.$shadow.querySelector('uh-web-editor-boxmodel')\n\n    cur_child\n      ? this.$shadow.replaceChild(bd.element, cur_child)\n      : this.$shadow.appendChild(bd.element)\n  }\n\n  render({ x, y, width, height, top, left }, node_label_id, isFixed) {\n    this.$shadow.host.setAttribute('data-label-id', node_label_id)\n\n    this.style.setProperty('--top', `${top + (isFixed ? 0 : window.scrollY)}px`)\n    this.style.setProperty('--left', `${left}px`)\n    this.style.setProperty('--position', isFixed ? 'fixed' : 'absolute')\n    this.style.setProperty('--width', `${width}px`)\n    this.style.setProperty('--height', `${height}px`)\n\n    return `\n      <svg\n        class=\"uh-web-editor-handles\"\n        width=\"${width}\" height=\"${height}\"\n        viewBox=\"0 0 ${width} ${height}\"\n        version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect stroke=\"hotpink\" fill=\"none\" width=\"100%\" height=\"100%\"></rect>\n      </svg>\n      <uh-web-editor-handle placement=\"top-start\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"top-center\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"top-end\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"middle-start\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"middle-end\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"bottom-start\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"bottom-center\"></uh-web-editor-handle>\n      <uh-web-editor-handle placement=\"bottom-end\"></uh-web-editor-handle>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-handles', Handles)\n","import $ from 'blingblingjs'\nimport { HandleStyles } from '../styles.store'\nimport { clamp } from '../../utilities/numbers'\n\nexport class Handle extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.styles = [HandleStyles]\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = this.styles\n    this.$shadow.innerHTML = this.render()\n    \n    this.button = this.$shadow.querySelector('button')\n    this.button.addEventListener('pointerdown', this.on_element_resize_start.bind(this))\n\n    this.placement = this.getAttribute('placement')\n  }\n\n  static get observedAttributes() {\n    return ['placement']\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'placement') {\n      this.placement = newValue\n    }\n  }\n\n  on_element_resize_start(e) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    if (e.button !== 0) return\n\n    const placement = this.placement\n    const handlesEl = e.composedPath().find(el => el.tagName === 'WEBEDITOR-HANDLES')\n    const nodeLabelId = handlesEl.getAttribute('data-label-id')\n    const [sourceEl] = $(`[data-label-id=\"${nodeLabelId}\"]`)\n\n    if (!sourceEl) return\n\n    const { x: initialX, y: initialY } = e\n    const initialStyle = getComputedStyle(sourceEl)\n    const initialWidth = parseFloat(initialStyle.width)\n    const initialHeight = parseFloat(initialStyle.height)\n    const initialTransform = new DOMMatrix(initialStyle.transform)\n\n    const originalElTransition = sourceEl.style.transition\n    const originalDocumentCursor = document.body.style.cursor\n    const originalDocumentUserSelect = document.body.style.userSelect\n    sourceEl.style.transition = 'none'\n    document.body.style.cursor = getComputedStyle(this).getPropertyValue('--cursor')\n    document.body.style.userSelect = 'none'\n\n    document.addEventListener('pointermove', on_element_resize_move)\n\n    function on_element_resize_move(e) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      const newX = clamp(0, e.clientX, document.documentElement.clientWidth)\n      const newY = clamp(0, e.clientY, document.documentElement.clientHeight)\n    \n      const diffX = newX - initialX\n      const diffY = newY - initialY\n\n      switch (placement) {\n        case 'top-start': {\n          const newWidth = initialWidth - diffX\n          const newHeight = initialHeight - diffY\n          const newTranslate = initialTransform.translate(diffX, diffY).transformPoint()\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n            sourceEl.style.height = `${newHeight}px`\n            sourceEl.style.transform = `translate(${newTranslate.x}px, ${newTranslate.y}px)`\n          })\n          break\n        }\n        case 'top-center': {\n          const newHeight = initialHeight - diffY\n          const newTranslate = initialTransform.translate(0, diffY).transformPoint()\n\n          requestAnimationFrame(() => {\n            sourceEl.style.height = `${newHeight}px`\n            sourceEl.style.transform = `translate(${newTranslate.x}px, ${newTranslate.y}px)`\n          })\n          break\n        }\n        case 'top-end': {\n          const newWidth = initialWidth + diffX\n          const newHeight = initialHeight - diffY\n          const newTranslate = initialTransform.translate(0, diffY).transformPoint()\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n            sourceEl.style.height = `${newHeight}px`\n            sourceEl.style.transform = `translate(${newTranslate.x}px, ${newTranslate.y}px)`\n          })\n          break\n        }\n        case 'middle-start': {\n          const newWidth = initialWidth - diffX\n          const newTranslate = initialTransform.translate(diffX).transformPoint()\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n            sourceEl.style.transform = `translate(${newTranslate.x}px, ${newTranslate.y}px)`\n          })\n          break\n        }\n        case 'middle-end': {\n          const newWidth = initialWidth + diffX\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n          })\n          break\n        }\n        case 'bottom-start': {\n          const newWidth = initialWidth - diffX\n          const newHeight = initialHeight + diffY\n          const newTranslate = initialTransform.translate(diffX, 0).transformPoint()\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n            sourceEl.style.height = `${newHeight}px`\n            sourceEl.style.transform = `translate(${newTranslate.x}px, ${newTranslate.y}px)`\n          })\n          break\n        }\n        case 'bottom-center': {\n          const newHeight = initialHeight + diffY\n\n          requestAnimationFrame(() => {\n            sourceEl.style.height = `${newHeight}px`\n          })\n          break\n        }\n        case 'bottom-end': {\n          const newWidth = initialWidth + diffX\n          const newHeight = initialHeight + diffY\n\n          requestAnimationFrame(() => {\n            sourceEl.style.width = `${newWidth}px`\n            sourceEl.style.height = `${newHeight}px`\n          })\n          break\n        }\n      }\n    }\n\n    document.addEventListener('pointerup', on_element_resize_end, { once: true })\n    document.addEventListener('mouseleave', on_element_resize_end, { once: true })\n\n    function on_element_resize_end() {\n      document.removeEventListener('pointermove', on_element_resize_move)\n      document.body.style.cursor = originalDocumentCursor\n      document.body.style.userSelect = originalDocumentUserSelect\n      sourceEl.style.transition = originalElTransition\n    }\n  }\n\n  disconnectedCallback() {\n    this.button.removeEventListener('pointerdown', this.on_element_resize_start.bind(this))\n  }\n\n  render() {\n    return `\n      <button type=\"button\" aria-label=\"Resize\"></button>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-handle', Handle)\n","import { Handles } from './handles.element'\nimport { HandlesStyles, HoverStyles } from '../styles.store'\n\nexport class Hover extends Handles {\n\n  constructor() {\n    super()\n    this.styles = [HandlesStyles, HoverStyles]\n  }\n\n  render({ width, height, top, left }, node_label_id, isFixed) {\n    this.style.setProperty('--top', `${top + (isFixed ? 0 : window.scrollY)}px`)\n    this.style.setProperty('--left', `${left}px`)\n    this.style.setProperty('--position', isFixed ? 'fixed' : 'absolute')\n\n    return `\n      <svg\n        width=\"${width}\" height=\"${height}\"\n        viewBox=\"0 0 ${width} ${height}\"\n      >\n        <rect fill=\"none\" width=\"100%\" height=\"100%\"></rect>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-hover', Hover)\n","import $ from 'blingblingjs'\nimport { OffscreenLabelStyles } from '../styles.store'\n\nwindow.addEventListener('scroll', positionFlags)\n\n// hide offscreen label indicators if you click anywhere:\ndocument.body.addEventListener('click', () => {\n  removeOffscreenLabelIndicators()\n}, true)\n\nfunction positionFlags() {\n  removeOffscreenLabelIndicators()\n  document.querySelectorAll('uh-web-editor-label').forEach((el) => {\n    el.detectOutsideViewport()\n  })\n}\n\nexport class OffscreenLabel extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.dispatchQuery = this.dispatchQuery.bind(this)\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [OffscreenLabelStyles]\n    $('a', this.$shadow).on('click mouseenter', this.dispatchQuery)\n  }\n\n  disconnectedCallback() {\n    $('a', this.$shadow).off('click mouseenter', this.dispatchQuery)\n  }\n\n  dispatchQuery(e) {\n    this.$shadow.host.dispatchEvent(new CustomEvent('query', {\n      bubbles: true,\n      detail:   {\n        text:       e.target.textContent,\n        activator:  e.type,\n      }\n    }))\n  }\n\n  set text(content) {\n    this.$shadow.childElementCount\n      ? this.$shadow.firstElementChild.textContent = content\n      : this._text = content\n  }\n\n  set position({boundingRect, node_label_id, isFixed}) {\n    this.$shadow.innerHTML = this.render(node_label_id)\n    this.update = {boundingRect, isFixed}\n  }\n\n  set update({boundingRect, isFixed}) {\n    this.style.setProperty('--top', `${boundingRect.y + (isFixed ? 0 : window.scrollY)}px`)\n    this.style.setProperty('--left', `${boundingRect.x - 1}px`)\n    this.style.setProperty('--max-width', `${boundingRect.width + (window.innerWidth - boundingRect.x - boundingRect.width - 20)}px`)\n    this.style.setProperty('--position', 'fixed');\n  }\n\n  set count(count) {\n    this.$shadow.childElementCount\n      ? this.$shadow.firstElementChild.count = count\n      : this._count = count\n  }\n\n  get count() {\n    return this.$shadow.childElementCount\n      ? this.$shadow.firstElementChild.count\n      : this._count\n  }\n\n  render(node_label_id) {\n    this.$shadow.host.setAttribute('data-label-id', node_label_id || ('label_' + Number(new Date())))\n\n    return `<span offscreen-label>${this._text}</span>`\n  }\n}\n\ncustomElements.define('uh-web-editor-offscreen-label', OffscreenLabel)\n\nexport function createOffscreenLabelIndicator(node_label_id, text, hoverText, left, top, color, adjustRightSideToCount) {\n  const existing = document.querySelectorAll(`uh-web-editor-offscreen-label[id=${text}]`)\n\n  if (existing.length) {\n    const instance = existing[0];\n    instance.style.display = ''\n    instance.style.setProperty('--left', left)\n    instance.style.setProperty('--top', top)\n    instance.style.setProperty('--position', 'fixed');\n    if (color) instance.style.setProperty('--label-bg', color)\n    instance.seen[node_label_id] = true;\n    instance.count = Object.keys(instance.seen).length\n    instance.text = text\n    instance.style.setProperty('--count', `\"\\\\00a0 ${instance.count}\"`);\n    instance.style.setProperty('--hover-text', `\"\\\\00a0 ${hoverText ? 'offscreen label: ' + hoverText : instance.count}\"`);\n    if (adjustRightSideToCount) {\n      left = left.includes('calc(') ? left.replace(')', ` - ${instance.count.toString().length}ch)`) : `${instance.count.toString().length}ch`\n      instance.style.setProperty('--left', left)\n    }\n\n    return\n  }\n\n  const label = document.createElement('uh-web-editor-offscreen-label')\n\n  label.id = text\n  label.position = {\n    boundingRect: document.body.getBoundingClientRect(),\n    isFixed: true,\n  }\n  label.seen = {} // reset\n  label.seen[node_label_id] = true\n  label.count = 1\n  label.text = text\n  label.style.display = ''\n  label.style.setProperty('--left', left)\n  label.style.setProperty('--top', top)\n  label.style.setProperty('--count', `\"\\\\00a0 ${label.count}\"`)\n  label.style.setProperty('--hover-text', `\"\\\\00a0 ${hoverText ? 'offscreen label: ' + hoverText : label.count}\"`)\n  if (color) label.style.setProperty('--label-bg', color)\n\n  if (adjustRightSideToCount) {\n    left = left.includes('calc(') ? left.replace(')', ` - 1ch)`) : `1ch`\n    label.style.setProperty('--left', left)\n  }\n\n  document.body.appendChild(label)\n}\n\nexport function removeOffscreenLabelIndicators() {\n  document.querySelectorAll('uh-web-editor-offscreen-label')\n    .forEach(e => {\n      e.seen = {}\n      e.count = 0\n      e.text = ''\n      e.style.display = 'none'\n    })\n}","import $ from 'blingblingjs'\nimport { LabelStyles } from '../styles.store'\nimport { isFixed } from '../../utilities/';\nimport { createOffscreenLabelIndicator } from './offscreenLabel.element'\n\nexport class Label extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.on_resize = this.on_resize.bind(this)\n    this.dispatchQuery = this.dispatchQuery.bind(this)\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [LabelStyles]\n    $('a', this.$shadow).on('click mouseenter', this.dispatchQuery)\n    window.addEventListener('resize', this.on_resize)\n  }\n\n  disconnectedCallback() {\n    $('a', this.$shadow).off('click mouseenter', this.dispatchQuery)\n    window.removeEventListener('resize', this.on_resize)\n  }\n\n  on_resize() {\n    window.requestAnimationFrame(() => {\n      const node_label_id = this.$shadow.host.getAttribute('data-label-id')\n      const [source_el]   = $(`[data-label-id=\"${node_label_id}\"]`)\n\n      if (!source_el) return\n\n      this.position = {\n        node_label_id,\n        boundingRect: source_el.getBoundingClientRect(),\n        isFixed: isFixed(source_el),\n      }\n    })\n  }\n\n  dispatchQuery(e) {\n    this.$shadow.host.dispatchEvent(new CustomEvent('query', {\n      bubbles: true,\n      detail:   {\n        text:       e.target.textContent,\n        activator:  e.type,\n      }\n    }))\n  }\n\n  set text(content) {\n    this.$shadow.childElementCount\n      ? this.$shadow.firstElementChild.innerHTML = content\n      : this._text = content\n  }\n\n  set position({boundingRect, node_label_id, isFixed}) {\n    this.$shadow.innerHTML = this.render(node_label_id)\n    this.update = {boundingRect, isFixed}\n  }\n\n  set update({boundingRect, isFixed}) {\n    const top = boundingRect.y + (isFixed ? 0 : window.scrollY)\n    const left = boundingRect.x\n    const position = isFixed ? 'fixed' : 'absolute'\n    this.style.setProperty('--top', `${top}px`)\n    this.style.setProperty('--left', `${left}px`)\n    this.style.setProperty('--max-width', `${boundingRect.width + (window.innerWidth - boundingRect.x - boundingRect.width - 20)}px`)\n    this.style.setProperty('--position', position)\n    this.setAttribute('data-original-top', top)\n    this.setAttribute('data-original-left', left)\n    this.setAttribute('data-original-position', position)\n\n    this.detectOutsideViewport()\n  }\n\n  render(node_label_id) {\n    this.$shadow.host.setAttribute('data-label-id', node_label_id || ('label_' + Number(new Date())))\n\n    return `<span>${this._text}</span>`\n  }\n\n  detectOutsideViewport() {\n    const hoverText = this.$shadow.firstElementChild.innerText.replace(/\\s+/g, ' ')\n    if (hoverText === 'body') return;\n    \n    const boundingBox = this.$shadow.firstElementChild.getBoundingClientRect()\n    \n    const currentStyle = window.getComputedStyle(this);\n    const currentPosition = {\n      top: currentStyle.getPropertyValue('--top').replace('px', ''),\n      left: currentStyle.getPropertyValue('--left').replace('px', ''),\n    }\n    \n    const originalPosition = {\n      top: this.getAttribute('data-original-top'),\n      left: this.getAttribute('data-original-left'),\n      position: this.getAttribute('data-original-position'),\n    }\n\n    const scrollX = document.body.scrollX || window.pageXOffset\n    const scrollY = document.body.scrollY || window.pageYOffset\n\n    const outsideTop = originalPosition.top - boundingBox.height - scrollY < 0\n    const outsideBottom = originalPosition.top - scrollY > window.innerHeight\n    const outsideLeft = originalPosition.left - scrollX < 0\n    const outsideRight = originalPosition.left - scrollX > window.innerWidth\n\n    const isOutsideViewport =\n      outsideTop || outsideBottom || outsideLeft || outsideRight\n\n    if (!isOutsideViewport) {\n      this.style.setProperty('--position', originalPosition.position)\n      this.style.setProperty('--left', `${originalPosition.left}px`)\n      this.style.setProperty('--top', `${originalPosition.top}px`)\n      return;\n    }\n\n    const adjustRightSideToCount = true\n    const node_label_id = this.getAttribute('data-label-id')\n    const style = {\n      position: 'fixed',\n      color: 'var(--theme-purple)',\n      left: currentPosition.left,\n      top: currentPosition.top,\n      offscreenText: '',\n      hoverText: hoverText,\n    }\n\n    if (outsideTop && !outsideLeft && !outsideRight) {\n      style.left = Math.max(boundingBox.width, currentPosition.left)\n      style.top = boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, 'calc(50vw - 0.5rem)', '1rem', style.color)\n    } else if (outsideTop && outsideLeft) {\n      style.left = boundingBox.width\n      style.top = boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, '0', '1rem', style.color)\n    } else if (outsideTop && outsideRight) {\n      style.left = Math.max(boundingBox.width, currentPosition.left)\n      style.top = boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, `calc(100vw - 1.5rem)`, '1rem', style.color, adjustRightSideToCount)\n    } else if (outsideLeft && !outsideTop && !outsideBottom) {\n      style.left = boundingBox.width\n      style.top = Math.max(boundingBox.height, currentPosition.top)\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, 0, 'calc(50vh - 0.5rem)', style.color)\n    } else if (outsideRight && !outsideTop && !outsideBottom) {\n      style.left = window.innerWidth - boundingBox.width\n      style.top = Math.max(boundingBox.height, currentPosition.top)\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, `calc(100vw - 1.5rem)`, 'calc(50vh - 0.5rem)', style.color, adjustRightSideToCount)\n    } else if (outsideBottom && !outsideLeft && !outsideRight) {\n      style.left = Math.max(boundingBox.width, currentPosition.left)\n      style.top = window.innerHeight - boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, 'calc(50vw - 0.5rem)', '100vh', style.color)\n    } else if (outsideBottom && outsideLeft) {\n      style.left = boundingBox.width\n      style.top = window.innerHeight - boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, 0, '100vh', style.color)\n    } else if (outsideBottom && outsideRight) {\n      style.left = Math.max(boundingBox.width, currentPosition.left)\n      style.top = window.innerHeight - boundingBox.height\n      style.offscreenText = ''\n      createOffscreenLabelIndicator(node_label_id, style.offscreenText, style.hoverText, `calc(100vw - 1.5rem)`, '100vh', style.color, adjustRightSideToCount)\n    }\n  }\n}\n\ncustomElements.define('uh-web-editor-label', Label)\n","import { windowBounds } from '../../utilities/'\nimport { GridlineStyles } from '../styles.store'\n\nexport class Gridlines extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [GridlineStyles]\n  }\n  \n  disconnectedCallback() {}\n\n  set position(boundingRect) {\n    this.$shadow.innerHTML  = this.render(boundingRect)\n  }\n\n  set update({ width, height, top, left }) {\n    const { winHeight, winWidth } = windowBounds()\n    const svg = this.$shadow.querySelector('svg')\n    const [rect,line1,line2,line3,line4] = svg.children\n\n    this.$shadow.host.style.display = 'block'\n\n    svg.setAttribute('viewBox', `0 0 ${winWidth} ${winHeight}`)\n    rect.setAttribute('width', width + 'px')\n    rect.setAttribute('x', left)\n    rect.setAttribute('y', top)\n    line1.setAttribute('x1', left)\n    line1.setAttribute('x2', left)\n    line2.setAttribute('x1', left + width)\n    line2.setAttribute('x2', left + width)\n    line3.setAttribute('y1', top + window.scrollY)\n    line3.setAttribute('y2', top + window.scrollY)\n    line3.setAttribute('x2', winWidth)\n    line4.setAttribute('y1', top + window.scrollY + height)\n    line4.setAttribute('y2', top + window.scrollY + height)\n    line4.setAttribute('x2', winWidth)\n  }\n\n  render({ x, y, width, height, top, left }) {\n    const { winWidth, winHeight } = windowBounds()\n    const { offsetHeight } = document.body\n    const calced_y = y + window.scrollY\n\n    return `\n      <svg\n        width=\"100%\"\n        viewBox=\"0 0 ${winWidth} ${winHeight}\"\n        version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect\n          fill=\"none\"\n          width=\"${width}\" height=\"${height}\"\n          x=\"${x}\" y=\"${y}\"\n          style=\"display:none;\"\n        ></rect>\n        <line x1=\"${x}\" y1=\"0\" x2=\"${x}\" y2=\"${offsetHeight}\"></line>\n        <line x1=\"${x + width}\" y1=\"0\" x2=\"${x + width}\" y2=\"${offsetHeight}\"></line>\n        <line x1=\"0\" y1=\"${calced_y}\" x2=\"${winWidth}\" y2=\"${calced_y}\"></line>\n        <line x1=\"0\" y1=\"${calced_y + height}\" x2=\"${winWidth}\" y2=\"${calced_y + height}\"></line>\n      </svg>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-gridlines', Gridlines)\n","import { DistanceStyles } from '../styles.store'\n\nexport class Distance extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'open'})\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [DistanceStyles]\n  }\n  \n  disconnectedCallback() {}\n\n  set position({line_model, node_label_id}) {\n    this.styleProps = line_model\n    this.$shadow.innerHTML  = this.render(line_model, node_label_id)\n  }\n\n  set styleProps({y,x,d,q,v = false, color}) {\n    this.style.setProperty('--top', `${y + window.scrollY}px`)\n    this.style.setProperty('--right', q === 'left' ? `${x}px` : 'auto')\n    this.style.setProperty('--left', q !== 'left' ? `${x}px` : '')\n    this.style.setProperty('--direction', v ? 'column' : 'row')\n    this.style.setProperty('--quadrant', q)\n\n    if (q === 'left')\n      this.style.setProperty('--justify', 'flex-end')\n\n    v\n      ? this.style.setProperty('--distance-h', `${d}px`)\n      : this.style.setProperty('--distance-w', `${d}px`)\n\n     v\n      ? this.style.setProperty('--line-h', `var(--line-w)`)\n      : this.style.setProperty('--line-w', `var(--line-w)`)\n\n    this.style.setProperty('--line-color', color === 'pink'\n      ? '330 100% 71%'\n      : '267 100% 58%')\n    this.style.setProperty('--line-base', color === 'pink'\n      ? '330 100% 71%'\n      : '267 100% 58%')\n  }\n\n  render({q,d}, node_label_id) {\n    this.$shadow.host.setAttribute('data-label-id', node_label_id)\n\n    return `\n      <figure quadrant=\"${q}\">\n        <div></div>\n        <figcaption>${Math.round(d)}</figcaption>\n        <div></div>\n      </figure>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-distance', Distance)\n","import { OverlayStyles } from '../styles.store'\n\nexport class Overlay extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [OverlayStyles]\n  }\n  \n  disconnectedCallback() {}\n\n  set position(boundingRect) {\n    this.$shadow.innerHTML = this.render(boundingRect)\n  }\n\n  set update({ top, left, width, height }) {\n    const [svg] = this.$shadow.children\n\n    this.$shadow.host.style.display = 'block'\n    svg.style.display = 'block'\n\n    this.style.setProperty('--top', `${top + window.scrollY}px`)\n    this.style.setProperty('--left', `${left - 1}px`)\n\n    svg.setAttribute('width', width + 'px')\n    svg.setAttribute('height', height + 'px')\n  }\n\n  render({height, width}) {\n    return `\n      <svg class=\"uh-web-editor-overlay\"\n        width=\"${width}px\" height=\"${height}px\"\n        viewBox=\"0 0 ${width} ${height}\"\n      >\n        <rect></rect>\n      </svg>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-overlay', Overlay)\n","import { BoxModelStyles } from '../styles.store'\n\nexport class BoxModel extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.drawable = {}\n  }\n\n  connectedCallback() {\n    this.$shadow.adoptedStyleSheets = [BoxModelStyles]\n  }\n\n  disconnectedCallback() {}\n\n  set position(payload) {\n    this.$shadow.innerHTML = this.render(payload)\n    if (!this.drawable.measurements) // && payload.color === 'pink'\n      this.createMeasurements(payload)\n  }\n\n  render({mode, bounds, sides, color = 'pink'}) {\n    const total_height  = bounds.height + sides.bottom + sides.top\n    const total_width   = bounds.width + sides.right + sides.left\n\n    if (mode === 'padding') {\n      this.drawable = {\n        height:   bounds.height,\n        width:    bounds.width,\n        top:      0,\n        left:     0,\n        rotation: 'rotate(-45)',\n      }\n    }\n    else if (mode === 'margin') {\n      this.drawable = {\n        height:   total_height,\n        width:    total_width,\n        top:      0 - sides.top,\n        left:     0 - sides.left,\n        rotation: 'rotate(45)',\n      }\n    }\n\n    if (color === 'pink') {\n      this.drawable.bg = 'hsla(330, 100%, 71%, 15%)'\n      this.drawable.stripe = 'hsla(330, 100%, 71%, 80%)'\n    }\n    else {\n      this.drawable.bg = 'hsla(267, 100%, 58%, 15%)'\n      this.drawable.stripe = 'hsla(267, 100%, 58%, 80%)'\n    }\n\n    this.styles({sides})\n\n    return `\n      <div mask>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\">\n          <defs>\n            <pattern id=\"pinstripe\" patternUnits=\"userSpaceOnUse\" width=\"10\" height=\"10\" patternTransform=\"${this.drawable.rotation}\" class=\"pattern\">\n              <line x1=\"0\" y=\"0\" x2=\"0\" y2=\"10\" stroke=\"${this.drawable.stripe}\" stroke-width=\"1\"></line>\n            </pattern>\n          </defs>\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#pinstripe)\"></rect>\n        </svg>\n      </div>\n    `\n  }\n\n  styles({sides}) {\n    this.style.setProperty('--width', `${this.drawable.width}px`)\n    this.style.setProperty('--height', `${this.drawable.height}px`)\n    this.style.setProperty('--top', `${this.drawable.top}px`)\n    this.style.setProperty('--left', `${this.drawable.left}px`)\n    this.style.setProperty('--bg', `${this.drawable.bg}`)\n\n    this.style.setProperty('--target-left', `${sides.left}px`)\n    this.style.setProperty('--target-top', `${sides.top}px`)\n    this.style.setProperty('--target-right', `${sides.right}px`)\n    this.style.setProperty('--target-bottom', `${sides.bottom}px`)\n\n    this.style.setProperty('--offset-right', `${this.drawable.width - sides.right}px`)\n    this.style.setProperty('--offset-bottom', `${this.drawable.height - sides.bottom}px`)\n  }\n\n  createMeasurements({mode, bounds, sides, color}) {\n    const win_width   = window.innerWidth\n    const pill_height = 18\n    const offset      = 3\n\n    if (mode === 'margin') {\n      if (sides.top) {\n        this.createMeasurement({\n          x: (bounds.width / 2) - offset,\n          y: (window.scrollY * -1) - sides.top,\n          d: sides.top,\n          q: 'top',\n          v: true,\n          color,\n        })\n      }\n      if (sides.bottom) {\n        this.createMeasurement({\n          x: (bounds.width / 2) - offset,\n          y: (window.scrollY * -1) + bounds.height,\n          d: sides.bottom,\n          q: 'bottom',\n          v: true,\n          color,\n        })\n      }\n      if (sides.right) {\n        this.createMeasurement({\n          x: bounds.width,\n          y: (window.scrollY * -1) + (bounds.height / 2) - offset,\n          d: sides.right,\n          q: 'right',\n          v: false,\n          color,\n        })\n      }\n      if (sides.left) {\n        this.createMeasurement({\n          x: bounds.width,\n          y: (window.scrollY * -1) + (bounds.height / 2) - offset,\n          d: sides.left,\n          q: 'left',\n          v: false,\n          color,\n        })\n      }\n    }\n    else if (mode === 'padding') {\n      if (sides.top) {\n        this.createMeasurement({\n          x: (bounds.width / 2) - offset,\n          y: (window.scrollY * -1),\n          d: sides.top,\n          q: 'top',\n          v: true,\n          color,\n        })\n      }\n       if (sides.bottom) {\n         this.createMeasurement({\n           x: (bounds.width / 2) - offset,\n           y: (window.scrollY * -1) + (bounds.height - sides.bottom),\n           d: sides.bottom,\n           q: 'bottom',\n           v: true,\n           color,\n         })\n       }\n       if (sides.right) {\n         this.createMeasurement({\n           x: bounds.width - sides.right,\n           y: (window.scrollY * -1) + (bounds.height / 2) - offset,\n           d: sides.right,\n           q: 'right',\n           v: false,\n           color,\n         })\n       }\n       if (sides.left) {\n         this.createMeasurement({\n           x: bounds.width - sides.left,\n           y: (window.scrollY * -1) + (bounds.height / 2) - offset,\n           d: sides.left,\n           q: 'left',\n           v: false,\n           color,\n         })\n       }\n    }\n  }\n\n  createMeasurement(line_model, node_label_id=0) {\n    const measurement = document.createElement('uh-web-editor-distance')\n    measurement.position = { line_model, node_label_id }\n    this.$shadow.appendChild(measurement)\n  }\n}\n\ncustomElements.define('uh-web-editor-boxmodel', BoxModel)\n","import { Handles } from './handles.element'\nimport { HandlesStyles, CornerStyles } from '../styles.store'\n\nexport class Corners extends Handles {\n\n  constructor() {\n    super()\n    this.styles = [HandlesStyles, CornerStyles]\n  }\n\n  render({ width, height, top, left }) {\n    this.style.setProperty('--top', `${top + window.scrollY}px`)\n    this.style.setProperty('--left', `${left}px`)\n\n    return `\n      <svg width=\"${width}\" height=\"${height}\">\n        <rect></rect>\n        <rect></rect>\n        <rect></rect>\n        <rect></rect>\n      </svg>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-corners', Corners)\n","import { Handles } from './handles.element'\nimport { HandlesStyles, GripStyles } from '../styles.store'\nimport { isFixed } from '../../utilities/';\n\nexport class Grip extends Handles {\n\n  constructor() {\n    super()\n    this.styles = [HandlesStyles, GripStyles]\n  }\n\n  toggleHovering({hovering}) {\n    hovering\n      ? this.$shadow.children[0].setAttribute('hovering', true)\n      : this.$shadow.children[0].removeAttribute('hovering')\n  }\n\n  render({ width, height, top, left }) {\n    this.style.setProperty('--position', isFixed(this.$shadow.host) ? 'fixed' : 'absolute')\n    this.style.setProperty('--top', `${top + window.scrollY}px`)\n    this.style.setProperty('--left', `${left}px`)\n\n    return `\n      <svg width=\"${width}\" height=\"${height}\">\n        <pattern id=\"stripes\" patternUnits=\"userSpaceOnUse\" width=\"4\" height=\"4\">\n          <line x=\"0\" y1=\"0\" x2=\"0\" y2=\"4\" style=\"stroke:hsla(330, 100%, 71%, 50%); stroke-width: 3;\" />\n        </pattern>\n        <g>\n          <rect fill=\"url(#stripes)\" />\n        </g>\n      </svg>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-grip', Grip)\n","import hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle, getSide, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},alt+${event},shift+${event},shift+alt+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+shift+up,${metaKey}+down,${metaKey}+shift+down`\n\nexport function Margin(uhWebEditor) {\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n    pushElement(uhWebEditor.selection(), handler.key)\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n    pushAllElementSides(uhWebEditor.selection(), handler.key)\n  })\n\n  uhWebEditor.onSelectedUpdate(paintBackgrounds)\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('up,down,left,right') // bug in lib?\n    uhWebEditor.removeSelectedCallback(paintBackgrounds)\n    removeBackgrounds(uhWebEditor.selection())\n  }\n}\n\nexport function pushElement(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'margin' + getSide(direction),\n      current:  parseInt(getStyle(el, 'margin' + getSide(direction)), 10),\n      amount:   direction.split('+').includes('shift') ? 10 : 1,\n      negative: direction.split('+').includes('alt'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        margin: payload.negative\n          ? payload.current - payload.amount\n          : payload.current + payload.amount\n      }))\n    .forEach(({el, style, margin}) =>\n      el.style[style] = `${margin < 0 ? 0 : margin}px`)\n}\n\nexport function pushAllElementSides(els, keycommand) {\n  const combo = keycommand.split('+')\n  let spoof = ''\n\n  if (combo.includes('shift'))  spoof = 'shift+' + spoof\n  if (combo.includes('down'))   spoof = 'alt+' + spoof\n\n  'up,down,left,right'.split(',')\n    .forEach(side => pushElement(els, spoof + side))\n}\n\nfunction paintBackgrounds(els) {\n  els.forEach(el => {\n    const label_id = el.getAttribute('data-label-id')\n\n    document\n      .querySelector(`uh-web-editor-handles[data-label-id=\"${label_id}\"]`)\n      .backdrop = {\n        element:  createMarginVisual(el),\n        update:   createMarginVisual,\n      }\n  })\n}\n\nfunction removeBackgrounds(els) {\n  els.forEach(el => {\n    const label_id = el.getAttribute('data-label-id')\n    const boxmodel = document.querySelector(`uh-web-editor-handles[data-label-id=\"${label_id}\"]`)\n      .$shadow.querySelector('uh-web-editor-boxmodel')\n\n    if (boxmodel) boxmodel.remove()\n  })\n}\n\nexport function createMarginVisual(el, hover = false) {\n  const bounds            = el.getBoundingClientRect()\n  const calculatedStyle   = getStyle(el, 'margin')\n  const boxdisplay        = document.createElement('uh-web-editor-boxmodel')\n\n  if (calculatedStyle !== '0px') {\n    const sides = {\n      top:    getStyle(el, 'marginTop'),\n      right:  getStyle(el, 'marginRight'),\n      bottom: getStyle(el, 'marginBottom'),\n      left:   getStyle(el, 'marginLeft'),\n    }\n\n    Object.entries(sides).forEach(([side, val]) => {\n      if (typeof val !== 'number')\n        val = parseInt(getStyle(el, 'margin'+'-'+side).slice(0, -2))\n\n      sides[side] = Math.round(val.toFixed(1) * 100) / 100\n    })\n\n    boxdisplay.position = { \n      mode: 'margin',\n      color: hover ? 'purple' : 'pink',\n      bounds, \n      sides,\n    }\n  }\n\n  return boxdisplay\n}\n","import $ from 'blingblingjs'\nimport { getStyle } from '../utilities/'\n\nlet imgs      = []\n  , overlays  = []\n  , dragItem\n\nconst state = {\n  watching: true,\n}\n\nexport function watchImagesForUpload() {\n  imgs = $([\n    ...document.images,\n    ...$('picture'),\n    ...findBackgroundImages(document),\n  ])\n\n  clearWatchers(imgs)\n  initWatchers(imgs)\n}\n\nexport function toggleWatching({watch}) {\n  state.watching = watch\n}\n\nconst initWatchers = imgs => {\n  imgs.on('dragover', onDragOver)\n  imgs.on('dragleave', onDragLeave)\n  imgs.on('drop', onDrop)\n  $(document.body).on('dragover', onDragOver)\n  $(document.body).on('dragleave', onDragLeave)\n  $(document.body).on('drop', onDrop)\n  $(document.body).on('dragstart', onDragStart)\n  $(document.body).on('dragend', onDragEnd)\n}\n\nconst clearWatchers = imgs => {\n  imgs.off('dragover', onDragOver)\n  imgs.off('dragleave', onDragLeave)\n  imgs.off('drop', onDrop)\n  $(document.body).off('dragover', onDragOver)\n  $(document.body).off('dragleave', onDragLeave)\n  $(document.body).off('drop', onDrop)\n  $(document.body).off('dragstart', onDragStart)\n  $(document.body).off('dragend', onDragEnd)\n  imgs = []\n}\n\nconst previewFile = file => {\n  return new Promise((resolve, reject) => {\n    let reader = new FileReader()\n    reader.readAsDataURL(file)\n    reader.onloadend = () => resolve(reader.result)\n  })\n}\n\n// only fired for in-page drag events, track what the user picked up\nconst onDragStart = ({target}) =>\n  dragItem = target\n\nconst onDragEnd = e =>\n  dragItem = undefined\n\nconst onDragOver = async e => {\n  e.preventDefault()\n  e.stopPropagation()\n\n  const pre_selected = $('img[data-selected=true], [data-selected=true] > img')\n\n  if (imgs.some(img => img === e.target)) {\n    if (!pre_selected.length) {\n      if (!isFileEvent(e))\n        previewDrop(e.target)\n\n      showOverlay(e.currentTarget, 0)\n    }\n    else {\n      if (pre_selected.some(node => node == e.target) && !isFileEvent(e))\n        pre_selected.forEach(node =>\n          previewDrop(node))\n\n      pre_selected.forEach((img, i) =>\n        showOverlay(img, i))\n    }\n  }\n}\n\nconst onDragLeave = e => {\n  e.stopPropagation()\n  const pre_selected = $('img[data-selected=true], [data-selected=true] > img')\n\n  if (!pre_selected.some(node => node === e.target))\n    resetPreviewed(e.target)\n  else\n    pre_selected.forEach(node => resetPreviewed(node))\n\n  hideOverlays()\n}\n\nconst onDrop = async e => {\n  e.stopPropagation()\n  e.preventDefault()\n\n  const srcs = await getTransferData(dragItem, e)\n\n  if (srcs.length) {\n    const selectedImages = $('img[data-selected=true], [data-selected=true] > img')\n    const targetImages   = getTargetContentImages(selectedImages, e)\n\n    if (targetImages.length) {\n      updateContentImages(targetImages, srcs)\n    }\n    else {\n      const bgImages = getTargetBackgroundImages(imgs, e)\n      updateBackgroundImages(bgImages, srcs[0])\n    }\n  }\n\n  hideOverlays()\n}\n\nconst getTransferData = async (dragItem, e) => {\n  if (dragItem)\n    return [dragItem.currentSrc]\n\n  return e.dataTransfer.files.length\n  ? await Promise.all([...e.dataTransfer.files]\n    .filter(file => file.type.includes('image'))\n    .map(previewFile))\n    : []\n}\n\nconst getTargetContentImages = (selected, e) =>\n  selected.length ? selected\n    : e.target.nodeName === 'IMG' && !selected.length ? [e.target]\n    : []\n\nconst updateContentImages = (images, srcs) => {\n  let i = 0\n  images.forEach(img => {\n    clearDragHistory(img)\n    updateContentImage(img, srcs[i])\n    i = ++i % srcs.length\n  })\n}\n\nconst updateContentImage = (img, src) => {\n  img.src = src\n  if (img.srcset !== '')\n    img.srcset = src\n\n  const sources = getPictureSourcesToUpdate(img)\n\n  if (sources.length)\n    sources.forEach(source =>\n      source.srcset = src)\n}\n\nconst getTargetBackgroundImages = (images, e) =>\n  images.filter(img =>\n    img.contains(e.target))\n\nconst updateBackgroundImages = (images, src) =>\n  images.forEach(img => {\n    clearDragHistory(img)\n    if (window.getComputedStyle(img).backgroundImage != 'none')\n      img.style.backgroundImage = `url(${src})`\n  })\n\nconst getPictureSourcesToUpdate = img =>\n  Array.from(img.parentElement.children)\n    .filter(sibling =>\n      sibling.nodeName === 'SOURCE')\n    .filter(source =>\n      !source.media || window.matchMedia(source.media).matches)\n\nconst showOverlay = (node, i) => {\n  if (!state.watching) return\n\n  const rect    = node.getBoundingClientRect()\n  const overlay = overlays[i]\n\n  if (overlay) {\n    overlay.update = rect\n  }\n  else {\n    overlays[i] = document.createElement('uh-web-editor-overlay')\n    overlays[i].position = rect\n    document.body.appendChild(overlays[i])\n  }\n}\n\nconst hideOverlays = () => {\n  overlays.forEach(overlay =>\n    overlay.remove())\n  overlays = []\n}\n\nconst findBackgroundImages = el => {\n  const src_regex = /url\\(\\s*?['\"]?\\s*?(\\S+?)\\s*?[\"']?\\s*?\\)/i\n\n  return $('*').reduce((collection, node) => {\n    const prop = getStyle(node, 'background-image')\n    const match = src_regex.exec(prop)\n\n    // if (match) collection.push(match[1])\n    if (match) collection.push(node)\n\n    return collection\n  }, [])\n}\n\nconst previewDrop = async (node) => {\n  if (!['lastSrc','lastSrcset','lastSiblings','lastBackgroundImage'].some(prop => node[prop])){\n    const setSrc = dragItem.currentSrc\n    if (window.getComputedStyle(node).backgroundImage !== 'none'){\n      node.lastBackgroundImage = window.getComputedStyle(node).backgroundImage\n      node.style.backgroundImage = `url(${setSrc})`\n    }else{\n      cacheImageState(node)\n      updateContentImage(node, setSrc)\n    }\n  }\n}\n\nconst cacheImageState = image => {\n  image.lastSrc    = image.src\n  image.lastSrcset = image.srcset\n\n  const sibSource  = getPictureSourcesToUpdate(image)\n\n  if (sibSource.length) {\n    sibSource.forEach(sib => {\n      sib.lastSrcset = sib.srcset\n      sib.lastSrc = sib.src\n    })\n  }\n}\n\nconst resetPreviewed = node => {\n  if (node.lastSrc)\n    node.src = node.lastSrc\n\n  if (node.lastSrcset)\n    node.srcset = node.lastSrcset\n\n  const sources = getPictureSourcesToUpdate(node)\n  if (sources.length)\n    sources.forEach(source => {\n      if (source.lastSrcset)\n        source.srcset = source.lastSrcset\n      if (source.lastSrc)\n        source.src = source.lastSrc\n    })\n\n  if (node.lastBackgroundImage)\n    node.style.backgroundImage = node.lastBackgroundImage\n\n  clearDragHistory(node)\n}\n\nconst clearDragHistory = node => {\n  ['lastSrc','lastSrcset','lastBackgroundImage'].forEach(prop =>\n    node[prop] = null)\n\n  const sources = getPictureSourcesToUpdate(node)\n\n  if (sources){\n    sources.forEach(source => {\n      source.lastSrcset = null\n      source.lastSrc = null\n    })\n  }\n}\n\nconst isFileEvent = e =>\n  e.dataTransfer.types.some(type => type === 'Files')\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { getNodeIndex, showEdge, swapElements, notList } from '../utilities/'\nimport { toggleWatching } from './imageswap'\n\nconst key_events = 'up,down,left,right'\nconst state = {\n  drag: {\n    src:        null,\n    parent:     null,\n    parent_ui:  [],\n    siblings:   new Map(),\n    swapping:   new Map(),\n  },\n  hover: {\n    dropzones: [],\n    observers: [],\n  },\n}\n// todo: indicator for when node can descend\n// todo: have it work with shadowDOM\nexport function Moveable(uhWebEditor) {\n  hotkeys(key_events, (e, {key}) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    uhWebEditor.selection().forEach(el => {\n      moveElement(el, key)\n      updateFeedback(el)\n    })\n  })\n\n  uhWebEditor.onSelectedUpdate(dragNDrop)\n  toggleWatching({watch: false})\n\n  return () => {\n    toggleWatching({watch: true})\n    uhWebEditor.removeSelectedCallback(dragNDrop)\n    clearListeners()\n    hotkeys.unbind(key_events)\n  }\n}\n\nexport function moveElement(el, direction) {\n  if (!el) return\n\n  switch(direction) {\n    case 'left':\n      if (canMoveLeft(el))\n        el.parentNode.insertBefore(el, el.previousElementSibling)\n      else\n        showEdge(el.parentNode)\n      break\n\n    case 'right':\n      if (canMoveRight(el) && el.nextElementSibling.nextSibling)\n        el.parentNode.insertBefore(el, el.nextElementSibling.nextSibling)\n      else if (canMoveRight(el))\n        el.parentNode.appendChild(el)\n      else\n        showEdge(el.parentNode)\n      break\n\n    case 'up':\n      if (canMoveUp(el))\n        popOut({el})\n      break\n\n    case 'down':\n      if (canMoveUnder(el))\n        popOut({el, under: true})\n      else if (canMoveDown(el))\n        el.nextElementSibling.prepend(el)\n      break\n  }\n}\n\nexport const canMoveLeft    = el => el.previousElementSibling\nexport const canMoveRight   = el => el.nextElementSibling\nexport const canMoveDown    = el => el.nextElementSibling && el.nextElementSibling.children.length\nexport const canMoveUnder   = el => !el.nextElementSibling && el.parentNode && el.parentNode.parentNode\nexport const canMoveUp      = el => el.parentNode && el.parentNode.parentNode\n\nexport const popOut = ({el, under = false}) =>\n  el.parentNode.parentNode.insertBefore(el,\n    el.parentNode.parentNode.children[\n      under\n        ? getNodeIndex(el) + 1\n        : getNodeIndex(el)])\n\nexport function dragNDrop(selection) {\n  if (!selection.length)\n    return\n\n  clearListeners()\n\n  const [src]         = selection\n  const {parentNode}  = src\n\n  const validMoveableChildren = [...parentNode.querySelectorAll(':scope > *' + notList)]\n\n  const tooManySelected       = selection.length !== 1\n  const hasNoSiblingsToDrag   = validMoveableChildren.length <= 1\n  const isAnSVG               = src instanceof SVGElement\n\n  if (tooManySelected || hasNoSiblingsToDrag || isAnSVG) \n    return \n\n  validMoveableChildren.forEach(sibling =>\n    state.drag.siblings.set(sibling, createGripUI(sibling)))\n\n  state.drag.parent     = parentNode\n  state.drag.parent_ui  = createParentUI(parentNode)\n\n  moveWatch(state.drag.parent)\n}\n\nconst moveWatch = node => {\n  const $node = $(node)\n\n  $node.on('mouseleave', dragDrop)\n  $node.on('dragstart', dragStart)\n  $node.on('drop', dragDrop)\n\n  state.drag.siblings.forEach((grip, sibling) => {\n    sibling.setAttribute('draggable', true)\n    $(sibling).on('dragover', dragOver)\n    $(sibling).on('mouseenter', siblingHoverIn)\n    $(sibling).on('mouseleave', siblingHoverOut)\n  })\n}\n\nconst moveUnwatch = node => {\n  const $node = $(node)\n\n  $node.off('mouseleave', dragDrop)\n  $node.off('dragstart', dragStart)\n  $node.off('drop', dragDrop)\n\n  state.drag.siblings.forEach((grip, sibling) => {\n    sibling.removeAttribute('draggable')\n    $(sibling).off('dragover', dragOver)\n    $(sibling).off('mouseenter', siblingHoverIn)\n    $(sibling).off('mouseleave', siblingHoverOut)\n  })\n}\n\nconst dragStart = ({target}) => {\n  if (!state.drag.siblings.has(target))\n    return\n\n  state.drag.src = target\n  state.hover.dropzones.push(createDropzoneUI(target))\n  state.drag.siblings.get(target).style.opacity = 0.01\n\n  target.setAttribute('uh-web-editor-drag-src', true)\n  ghostNode(target)\n\n  $('uh-web-editor-hover').forEach(el =>\n    !el.hasAttribute('uh-web-editor-drag-container') && el.remove())\n}\n\nconst dragOver = e => {\n  if (\n    !state.drag.src || \n    state.drag.swapping.get(e.target) || \n    e.target.hasAttribute('uh-web-editor-drag-src') || \n    !state.drag.siblings.has(e.currentTarget) ||\n    e.currentTarget !== e.target\n  ) return\n\n  state.drag.swapping.set(e.target, true)\n  swapElements(state.drag.src, e.target)\n\n  setTimeout(() => \n    state.drag.swapping.delete(e.target)\n  , 250)\n}\n\nconst dragDrop = e => {\n  if (!state.drag.src) return\n\n  state.drag.src.removeAttribute('uh-web-editor-drag-src')\n  ghostBuster(state.drag.src)\n\n  if (state.drag.siblings.has(state.drag.src))\n    state.drag.siblings.get(state.drag.src).style.opacity = null\n\n  state.hover.dropzones.forEach(zone =>\n    zone.remove())\n\n  state.drag.src = null\n}\n\nconst siblingHoverIn = ({target}) => {\n  if (!state.drag.siblings.has(target))\n    return\n\n  state.drag.siblings.get(target)\n    .toggleHovering({hovering:true})\n}\n\nconst siblingHoverOut = ({target}) => {\n  if (!state.drag.siblings.has(target))\n    return\n\n  state.drag.siblings.get(target)\n    .toggleHovering({hovering:false})\n}\n\nconst ghostNode = ({style}) => {\n  style.transition  = 'opacity .25s ease-out'\n  style.opacity     = 0.01\n}\n\nconst ghostBuster = ({style}) => {\n  style.transition  = null\n  style.opacity     = null\n}\n\nconst createDropzoneUI = el => {\n  const zone = document.createElement('uh-web-editor-corners')\n\n  zone.position = {el}\n  document.body.appendChild(zone)\n\n  const observer = new MutationObserver(list =>\n    zone.position = {el})\n\n  observer.observe(el.parentNode, { \n    childList: true, \n    subtree: true, \n  })\n\n  state.hover.observers.push(observer)\n\n  return zone\n}\n\nconst createGripUI = el => {\n  const grip = document.createElement('uh-web-editor-grip')\n\n  grip.position = {el}\n  document.body.appendChild(grip)\n\n  const observer = new MutationObserver(list =>\n    grip.position = {el})\n\n  observer.observe(el.parentNode, { \n    childList: true, \n    subtree: true, \n  })\n\n  state.hover.observers.push(observer)\n\n  return grip\n}\n\nconst createParentUI = parent => {\n  const hover = document.createElement('uh-web-editor-hover')\n  const label = document.createElement('uh-web-editor-label')\n\n  hover.position = {el:parent}\n  hover.setAttribute('uh-web-editor-drag-container', true)\n\n  label.text = 'Drag Bounds'\n  label.position = {boundingRect: parent.getBoundingClientRect()}\n  label.style.setProperty('--label-bg', 'var(--theme-purple)')\n\n  document.body.appendChild(hover)\n  document.body.appendChild(label)\n\n  const observer = new MutationObserver(list => {\n    hover.position = {el:parent}\n    label.position = {boundingRect: parent.getBoundingClientRect()}\n  })\n\n  observer.observe(parent, { \n    childList: true, \n    subtree: true, \n  })\n\n  state.hover.observers.push(observer)\n\n  return [hover,label]\n}\n\nexport function clearListeners() {\n  moveUnwatch(state.drag.parent)\n\n  state.hover.observers.forEach(observer => \n    observer.disconnect())\n\n  state.hover.dropzones.forEach(zone => \n    zone.remove())\n\n  state.drag.siblings.forEach((grip, sibling) => \n    grip.remove())\n\n  state.drag.parent_ui.forEach(ui => \n    ui.remove())\n\n  state.hover.observers = []\n  state.hover.dropzones = []\n  state.drag.parent_ui  = []\n  state.drag.siblings.clear()\n}\n\nconst updateFeedback = el => {\n  let options = ''\n  // get current elements offset/size\n  if (canMoveLeft(el))  options += ''\n  if (canMoveRight(el)) options += ''\n  if (canMoveDown(el))  options += ''\n  if (canMoveUp(el))    options += ''\n  // create/move arrows in absolute/fixed to overlay element\n  options && console.info('%c'+options, \"font-size: 2rem;\")\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { querySelectorAllDeep } from 'query-selector-shadow-dom'\n// import { PluginRegistry, PluginHints } from '../plugins/_registry'\nimport { notList } from '../utilities'\nimport { isFirefox } from '../utilities/cross-browser.js'\n\nlet SelectorEngine\n\n// create input\nconst search_base = document.createElement('div')\nsearch_base.classList.add('search')\nsearch_base.innerHTML = `\n  <input list=\"uh-web-editor-plugins\" type=\"search\" placeholder=\"ex: images, .btn, button, text, ...\"/>\n  <datalist id=\"uh-web-editor-plugins\">\n    ${isFirefox > 0\n      ?  `<option value=\"h1, h2, h3, .get-multiple\">\n          <option value=\"nav > a:first-child\">\n          <option value=\"#get-by-id\">\n          <option value=\".get-by.class-names\">\n          <option value=\"images\">\n          <option value=\"text\">`\n\n      :  `<option value=\"h1, h2, h3, .get-multiple\">example</option>\n          <option value=\"nav > a:first-child\">example</option>\n          <option value=\"#get-by-id\">example</option>\n          <option value=\".get-by.class-names\">example</option>\n          <option value=\"images\">alias</option>\n          <option value=\"text\">alias</option>`}\n\n    \n  </datalist>\n`\n\n// ${PluginHints.reduce((options, hint) =>\n//   options += isFirefox > 0\n//     ? `<option value=\"${hint.command}\">`\n//     : `<option value=\"${hint.command}\">${hint.description}`\n// , '')}\n\nconst search        = $(search_base)\nconst searchInput   = $('input', search_base)\n\nconst showSearchBar = () => search.attr('style', 'display:block')\nconst hideSearchBar = () => search.attr('style', 'display:none')\nconst stopBubbling  = e => e.key != 'Escape' && e.stopPropagation()\n\nexport function Search(node) {\n  if (node) node[0].appendChild(search[0])\n\n  const onQuery = e => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const query = e.target.value\n\n    window.requestIdleCallback(_ =>\n      queryPage(query))\n  }\n\n  const focus = e =>\n    searchInput[0].focus()\n\n  searchInput.on('click', focus)\n  searchInput.on('input', onQuery)\n  searchInput.on('keydown', stopBubbling)\n  // searchInput.on('blur', hideSearchBar)\n\n  showSearchBar()\n  focus()\n\n  // hotkeys('escape,esc', (e, handler) => {\n  //   hideSearchBar()\n  //   hotkeys.unbind('escape,esc')\n  // })\n\n  return () => {\n    hideSearchBar()\n    searchInput.off('oninput', onQuery)\n    searchInput.off('keydown', stopBubbling)\n    searchInput.off('blur', hideSearchBar)\n  }\n}\n\nexport function provideSelectorEngine(Engine) {\n  SelectorEngine = Engine\n}\n\nexport function queryPage(query, fn) {\n  // todo: should stash a cleanup method to be called when query doesnt match\n  // if (PluginRegistry.has(query))\n  //   return PluginRegistry.get(query)({\n  //     selected: SelectorEngine.selection(),\n  //     query\n  //   })\n\n  // if (query == 'links')     query = 'a'\n  // if (query == 'buttons')   query = 'button'\n  // if (query == 'images')    query = 'img'\n  // if (query == 'text')      query = 'p,caption,a,h1,h2,h3,h4,h5,h6,small,date,time,li,dt,dd'\n\n  // if (!query) return SelectorEngine.unselect_all()\n  // if (query == '.' || query == '#' || query.trim().endsWith(',')) return\n\n  // try {\n  //   let matches = querySelectorAllDeep(query + notList)\n  //   if (!matches.length) matches = querySelectorAllDeep(query)\n  //   if (matches.length) {\n  //     matches.forEach(el =>\n  //       fn\n  //         ? fn(el)\n  //         : SelectorEngine.select(el))\n  //   }\n  // }\n  // catch (err) {}\n}\n","import $ from 'blingblingjs'\n\nconst state = {\n  distances:  [],\n  target:     null,\n}\n\nexport function createMeasurements({$anchor, $target}) {\n  if (state.target == $target && state.distances.length) return\n  else state.target = $target\n\n  if (state.distances.length) clearMeasurements()\n\n  const anchorBounds = $anchor.getBoundingClientRect()\n  const targetBounds = $target.getBoundingClientRect()\n\n  const measurements = []\n\n  // right\n  if (anchorBounds.right < targetBounds.left) {\n    measurements.push({\n      x: anchorBounds.right,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: targetBounds.left - anchorBounds.right,\n      q: 'right',\n    })\n  }\n  if (anchorBounds.right < targetBounds.right && anchorBounds.right > targetBounds.left) {\n    measurements.push({\n      x: anchorBounds.right,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: targetBounds.right - anchorBounds.right,\n      q: 'right',\n    })\n  }\n\n  // left\n  if (anchorBounds.left > targetBounds.right) {\n    measurements.push({\n      x: window.innerWidth - anchorBounds.left,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: anchorBounds.left - targetBounds.right,\n      q: 'left',\n    })\n  }\n  if (anchorBounds.left > targetBounds.left && anchorBounds.left < targetBounds.right) {\n    measurements.push({\n      x: window.innerWidth - anchorBounds.left,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: anchorBounds.left - targetBounds.left,\n      q: 'left',\n    })\n  }\n\n  // top\n  if (anchorBounds.top > targetBounds.bottom) {\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: targetBounds.bottom,\n      d: anchorBounds.top - targetBounds.bottom,\n      q: 'top',\n      v: true,\n    })\n  }\n  if (anchorBounds.top > targetBounds.top && anchorBounds.top < targetBounds.bottom) {\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: targetBounds.top,\n      d: anchorBounds.top - targetBounds.top,\n      q: 'top',\n      v: true,\n    })\n  }\n\n  // bottom\n  if (anchorBounds.bottom < targetBounds.top) {\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: anchorBounds.bottom,\n      d: targetBounds.top - anchorBounds.bottom,\n      q: 'bottom',\n      v: true,\n    })\n  }\n  if (anchorBounds.bottom < targetBounds.bottom && anchorBounds.bottom > targetBounds.top) {\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: anchorBounds.bottom,\n      d: targetBounds.bottom - anchorBounds.bottom,\n      q: 'bottom',\n      v: true,\n    })\n  }\n\n  // inside left/right\n  if (anchorBounds.right > targetBounds.right && anchorBounds.left < targetBounds.left) {\n    measurements.push({\n      x: window.innerWidth - anchorBounds.right,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: anchorBounds.right - targetBounds.right,\n      q: 'left',\n    })\n    measurements.push({\n      x: anchorBounds.left,\n      y: anchorBounds.top + (anchorBounds.height / 2) - 3,\n      d: targetBounds.left - anchorBounds.left,\n      q: 'right',\n    })\n  }\n\n  // inside top/right\n  if (anchorBounds.top < targetBounds.top && anchorBounds.bottom > targetBounds.bottom) {\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: anchorBounds.top,\n      d: targetBounds.top - anchorBounds.top,\n      q: 'bottom',\n      v: true,\n    })\n    measurements.push({\n      x: anchorBounds.left + (anchorBounds.width / 2) - 3,\n      y: targetBounds.bottom,\n      d: anchorBounds.bottom - targetBounds.bottom,\n      q: 'top',\n      v: true,\n    })\n  }\n\n  // create custom elements for all created measurements\n  measurements\n    .map(measurement => Object.assign(measurement, {\n      d: Math.round(measurement.d.toFixed(1) * 100) / 100\n    }))\n    .forEach(measurement => {\n      const $measurement = document.createElement('uh-web-editor-distance')\n\n      $measurement.position = {\n        line_model:     measurement,\n        node_label_id:  state.distances.length,\n      }\n\n      document.body.appendChild($measurement)\n      state.distances[state.distances.length] = $measurement\n    })\n}\n\nexport function clearMeasurements() {\n  if (!state.distances) return\n\n  $('[data-measuring]').forEach(el =>\n    el.removeAttribute('data-measuring'))\n\n  state.distances.forEach(node => node.remove())\n  state.distances = []\n}\n\nexport function takeMeasurementOwnership() {\n  const distances = [...state.distances]\n  state.distances = []\n  return distances\n}\n","import hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle, getSide, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},alt+${event},shift+${event},shift+alt+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+shift+up,${metaKey}+down,${metaKey}+shift+down`\n\nexport function Padding(uhWebEditor) {\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n    padElement(uhWebEditor.selection(), handler.key)\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n    padAllElementSides(uhWebEditor.selection(), handler.key)\n  })\n\n  uhWebEditor.onSelectedUpdate(paintBackgrounds)\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('up,down,left,right') // bug in lib?\n    uhWebEditor.removeSelectedCallback(paintBackgrounds)\n    removeBackgrounds(uhWebEditor.selection())\n  }\n}\n\nexport function padElement(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'padding' + getSide(direction),\n      current:  parseInt(getStyle(el, 'padding' + getSide(direction)), 10),\n      amount:   direction.split('+').includes('shift') ? 10 : 1,\n      negative: direction.split('+').includes('alt'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        padding: payload.negative\n          ? payload.current - payload.amount\n          : payload.current + payload.amount\n      }))\n    .forEach(({el, style, padding}) =>\n      el.style[style] = `${padding < 0 ? 0 : padding}px`)\n}\n\nexport function padAllElementSides(els, keycommand) {\n  const combo = keycommand.split('+')\n  let spoof = ''\n\n  if (combo.includes('shift'))  spoof = 'shift+' + spoof\n  if (combo.includes('down'))   spoof = 'alt+' + spoof\n\n  'up,down,left,right'.split(',')\n    .forEach(side => padElement(els, spoof + side))\n}\n\nfunction paintBackgrounds(els) {\n  els.forEach(el => {\n    const label_id = el.getAttribute('data-label-id')\n\n    document\n      .querySelector(`uh-web-editor-handles[data-label-id=\"${label_id}\"]`)\n      .backdrop = {\n        element:  createPaddingVisual(el),\n        update:   createPaddingVisual,\n      }\n  })\n}\n\nfunction removeBackgrounds(els) {\n  els.forEach(el => {\n    const label_id = el.getAttribute('data-label-id')\n    const boxmodel = document.querySelector(`uh-web-editor-handles[data-label-id=\"${label_id}\"]`)\n      .$shadow.querySelector('uh-web-editor-boxmodel')\n\n    if (boxmodel) boxmodel.remove()\n  })\n}\n\nexport function createPaddingVisual(el, hover = false) {\n  const bounds            = el.getBoundingClientRect()\n  const calculatedStyle   = getStyle(el, 'padding')\n  const boxdisplay        = document.createElement('uh-web-editor-boxmodel')\n\n  if (calculatedStyle !== '0px') {\n    const sides = {\n      top:    getStyle(el, 'paddingTop'),\n      right:  getStyle(el, 'paddingRight'),\n      bottom: getStyle(el, 'paddingBottom'),\n      left:   getStyle(el, 'paddingLeft'),\n    }\n\n    Object.entries(sides).forEach(([side, val]) => {\n      if (typeof val !== 'number')\n        val = parseInt(getStyle(el, 'padding'+'-'+side).slice(0, -2))\n\n      sides[side] = Math.round(val.toFixed(1) * 100) / 100\n    })\n\n    boxdisplay.position = { \n      mode: 'padding',\n      color: hover ? 'purple' : 'pink',\n      bounds, \n      sides,\n    }\n  }\n\n  return boxdisplay\n}\n","import $ from 'blingblingjs'\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { getStyle } from '../utilities/'\n\nconst state = {\n  active_color: 'background',\n  elements: [],\n}\n\nexport function ColorPicker(pallete, selectorEngine) {\n  const foregroundPicker  = $('#foreground', pallete)\n  const backgroundPicker  = $('#background', pallete)\n  const borderPicker      = $('#border', pallete)\n  const fgInput           = $('input', foregroundPicker[0])\n  const bgInput           = $('input', backgroundPicker[0])\n  const boInput           = $('input', borderPicker[0])\n\n  const shadows = {\n    active:   '0 0 0 2px hotpink, rgba(0, 0, 0, 0.25) 0px 0.25em 0.5em',\n    inactive: '0 0 0 2px var(--theme-bg), rgba(0, 0, 0, 0.25) 0px 0.25em 0.5em',\n  }\n\n  const state = {\n    active_color: undefined,\n    elements:     [],\n  }\n\n  fgInput.on('input', ({target:{value}}) => {\n    state.elements.map(el =>\n      el.style['color'] = value)\n\n    foregroundPicker[0].style.setProperty(`--contextual_color`, value)\n  })\n\n  bgInput.on('input', ({target:{value}}) => {\n    state.elements.map(el =>\n      el.style[el instanceof SVGElement\n        ? 'fill'\n        : 'backgroundColor'\n      ] = value)\n\n    backgroundPicker[0].style.setProperty(`--contextual_color`, value)\n  })\n\n  boInput.on('input', ({target:{value}}) => {\n    state.elements.map(el =>\n      el.style[el instanceof SVGElement\n        ? 'stroke'\n        : 'borderColor'\n      ] = value)\n\n    borderPicker[0].style.setProperty(`--contextual_color`, value)\n  })\n\n  const extractColors = elements => {\n    state.elements = elements\n\n    let isMeaningfulForeground  = false\n    let isMeaningfulBackground  = false\n    let isMeaningfulBorder      = false\n    let FG, BG, BO\n\n    if (state.elements.length == 1) {\n      const el = state.elements[0]\n\n      if (el instanceof SVGElement) {\n        FG = new TinyColor('rgb(0, 0, 0)')\n        var bo_temp = getStyle(el, 'stroke')\n        BO = new TinyColor(bo_temp === 'none'\n          ? 'rgb(0, 0, 0)'\n          : bo_temp)\n        BG = new TinyColor(getStyle(el, 'fill'))\n      }\n      else {\n        FG = new TinyColor(getStyle(el, 'color'))\n        BG = new TinyColor(getStyle(el, 'backgroundColor'))\n        BO = getStyle(el, 'borderWidth') === '0px'\n          ? new TinyColor('rgb(0, 0, 0)')\n          : new TinyColor(getStyle(el, 'borderColor'))\n      }\n\n      let fg = FG.toHslString()\n      let bg = BG.toHslString()\n      let bo = BO.toHslString()\n\n      isMeaningfulForeground = FG.originalInput !== 'rgb(0, 0, 0)' || (el.children.length === 0 && el.textContent !== '')\n      isMeaningfulBackground = BG.originalInput !== 'rgba(0, 0, 0, 0)'\n      isMeaningfulBorder     = BO.originalInput !== 'rgb(0, 0, 0)'\n\n      if (isMeaningfulForeground && !isMeaningfulBackground)\n        setActive('foreground')\n      else if (isMeaningfulBackground && !isMeaningfulForeground || isMeaningfulBackground && isMeaningfulForeground)\n        setActive('background')\n\n      const new_fg = isMeaningfulForeground   ? fg : ''\n      const new_bg = isMeaningfulBackground   ? bg : ''\n      const new_bo = isMeaningfulBorder       ? bo : ''\n\n      const fg_icon = isMeaningfulForeground  ? healthyContrastColor(FG) : ''\n      const bg_icon = isMeaningfulBackground  ? healthyContrastColor(BG) : ''\n      const bo_icon = isMeaningfulBorder      ? healthyContrastColor(BO) : ''\n\n      fgInput.attr('value', `#`+FG.toHex())\n      bgInput.attr('value', `#`+BG.toHex())\n      boInput.attr('value', `#`+BO.toHex())\n\n      foregroundPicker.attr('style', `\n        --contextual_color: ${new_fg};\n        --icon_color: ${fg_icon};\n      `)\n\n      backgroundPicker.attr('style', `\n        --contextual_color: ${new_bg};\n        --icon_color: ${bg_icon};\n      `)\n\n      borderPicker.attr('style', `\n        --contextual_color: ${new_bo};\n        --icon_color: ${bo_icon};\n      `)\n    }\n    else {\n      // show all 3 if they've selected more than 1 node\n      // todo: this is giving up, and can be solved\n      foregroundPicker.attr('style', `\n        box-shadow: ${state.active_color == 'foreground' ? shadows.active : shadows.inactive};\n        --contextual_color: transparent;\n        --icon_color: hsla(0,0%,0%,80%);\n      `)\n\n      backgroundPicker.attr('style', `\n        box-shadow: ${state.active_color == 'background' ? shadows.active : shadows.inactive};\n        --contextual_color: transparent;\n        --icon_color: hsla(0,0%,0%,80%);\n      `)\n\n      borderPicker.attr('style', `\n        box-shadow: ${state.active_color == 'border' ? shadows.active : shadows.inactive};\n        --contextual_color: transparent;\n        --icon_color: hsla(0,0%,0%,80%);\n      `)\n    }\n  }\n\n  const getActive = () =>\n    state.active_color\n\n  const setActive = key => {\n    removeActive()\n    state.active_color = key\n\n    if (key === 'foreground')\n      foregroundPicker[0].style.boxShadow = shadows.active\n    if (key === 'background')\n      backgroundPicker[0].style.boxShadow = shadows.active\n    if (key === 'border')\n      borderPicker[0].style.boxShadow = shadows.active\n  }\n\n  const removeActive = () =>\n    [foregroundPicker, backgroundPicker, borderPicker].forEach(([picker]) =>\n      picker.style.boxShadow = shadows.inactive)\n\n  selectorEngine.onSelectedUpdate(extractColors)\n\n  return {\n    getActive,\n    setActive,\n    foreground: { color: color =>\n      foregroundPicker[0].style.setProperty('--contextual_color', color)},\n    background: { color: color =>\n      backgroundPicker[0].style.setProperty('--contextual_color', color)}\n  }\n}\n\nexport const healthyContrastColor = color => {\n  let contrast = color.clone()\n\n  contrast = contrast.isDark()\n    ? contrast.lighten(75)\n    : contrast.darken(50)\n\n  return contrast.toHslString()\n}\n\nexport const functionalNotate = color => {\n  const chunks = color.split(',')\n\n  if (chunks.length === 4) {\n    let opacity = chunks.pop()\n    chunks[0] = chunks[0].replace('hsla','hsl')\n    chunks[0] = chunks[0].replace('rgba','rgb')\n    return chunks.join(' ') + ` / ${opacity}`\n  }\n  else {\n    return chunks.join(' ')\n  }\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { queryPage } from './search'\nimport { getStyles, camelToDash, isOffBounds,\n         deepElementFromPoint, getShadowValues,\n         getTextShadowValues, firstUsableFontFromFamily\n} from '../utilities/'\nimport { functionalNotate } from './color.js'\n\nconst state = {\n  active: {\n    tip:  null,\n    target: null,\n  },\n  tips: new Map(),\n}\n\nconst modemap = {\n  'hex': 'toHexString',\n  'hsl': 'toHslString',\n  'rgb': 'toRgbString',\n}\n\nconst services = {}\n\nexport function MetaTip(uhWebEditor) {\n  services.selectors = uhWebEditor.select\n  state.restoring = true\n\n  $('body').on('mousemove', mouseMove)\n  uhWebEditor.onSelectedUpdate(togglePinned)\n\n  hotkeys('esc', _ => removeAll())\n\n  restorePinnedTips()\n\n  return () => {\n    $('body').off('mousemove', mouseMove)\n    uhWebEditor.removeSelectedCallback(togglePinned)\n    hotkeys.unbind('esc')\n    hideAll()\n  }\n}\n\nconst mouseMove = e => {\n  const target = deepElementFromPoint(e.clientX, e.clientY)\n\n  if (isOffBounds(target) || target.nodeName === 'WEBEDITOR-METATIP' || target.hasAttribute('data-metatip')) { // aka: mouse out\n    if (state.active.tip) {\n      wipe({\n        tip: state.active.tip,\n        e: {target: state.active.target},\n      })\n      clearActive()\n    }\n    return\n  }\n\n  showTip(target, e)\n}\n\nexport function showTip(target, e) {\n  if (!state.active.tip) { // create\n    const tip = render(target)\n    document.body.appendChild(tip)\n\n    positionTip(tip, e)\n    observe({tip, target})\n\n    state.active.tip    = tip\n    state.active.target = target\n  }\n  else if (target == state.active.target) { // update position\n    // update position\n    positionTip(state.active.tip, e)\n  }\n  else { // update content\n    render(target, state.active.tip)\n    state.active.target = target\n    positionTip(state.active.tip, e)\n  }\n}\n\nexport function positionTip(tip, e) {\n  const { north, west } = mouse_quadrant(e)\n  const { left, top }   = tip_position(tip, e, north, west)\n\n  tip.style.left  = left\n  tip.style.top   = top\n\n  tip.style.setProperty('--arrow', north\n    ? 'var(--arrow-up)'\n    : 'var(--arrow-down)')\n\n  tip.style.setProperty('--arrow-top', !north\n    ? '-8px'\n    : '100%')\n\n  tip.style.setProperty('--arrow-left', west\n    ? 'calc(100% - 15px - 15px)'\n    : '15px')\n}\n\nconst restorePinnedTips = () => {\n  state.tips.forEach(({tip}, target) => {\n    tip.style.display = 'block'\n    render(target, tip)\n    observe({tip, target})\n  })\n}\n\nexport function hideAll() {\n  state.tips.forEach(({tip}, target) => {\n    if (tip)\n      tip.style.display = 'none'\n  })\n\n  if (state.active.tip) {\n    state.active.tip.remove()\n    clearActive()\n  }\n}\n\nexport function removeAll() {\n  state.tips.forEach(({tip}, target) => {\n    tip && tip.remove()\n    unobserve({tip, target})\n  })\n\n  $('uh-web-editor-metatip').forEach(tip =>\n    tip.remove())\n\n  $('[data-metatip]').attr('data-metatip', null)\n\n  state.tips.clear()\n}\n\nconst render = (el, tip = document.createElement('uh-web-editor-metatip')) => {\n  const { width, height } = el.getBoundingClientRect()\n  const colormode = modemap[$('uh-web-editor').attr('color-mode')]\n\n  const styles = getStyles(el)\n    .map(style => Object.assign(style, {\n      prop: camelToDash(style.prop)\n    }))\n    .filter(style =>\n      style.prop.includes('font-family')\n        ? el.matches('h1,h2,h3,h4,h5,h6,p,a,dd,dt,li,ol,pre,abbr,cite,dfn,kbd,q,small,input,label,legend,textarea,blockquote,date,button,figcaption,nav,header,footer,em,b,code,mark,time,summary,details')\n        : true\n    )\n    .map(style => {\n      if (style.prop.includes('color') || style.prop.includes('background-color') || style.prop.includes('border-color') || style.prop.includes('Color') || style.prop.includes('fill') || style.prop.includes('stroke'))\n        style.value = `\n          <span color style=\"background-color:${style.value};\"></span>\n          <span color-value>${functionalNotate(new TinyColor(style.value)[colormode]())}</span>\n        `\n\n      if (style.prop.includes('box-shadow')) {\n        const [, color, x, y, blur, spread] = getShadowValues(style.value)\n        style.value = `${functionalNotate(new TinyColor(color)[colormode]())} ${x} ${y} ${blur} ${spread}`\n      }\n\n      if (style.prop.includes('text-shadow')) {\n        const [, color, x, y, blur] = getTextShadowValues(style.value)\n        style.value = `${functionalNotate(new TinyColor(color)[colormode]())} ${x} ${y} ${blur}`\n      }\n\n      if (style.prop.includes('font-family'))\n        style.value = `<span string value>${firstUsableFontFromFamily(style.value)}</span>`\n\n      if (style.prop.includes('grid-template-areas'))\n        style.value = style.value.replace(/\" \"/g, '\"<br>\"')\n\n      if (style.prop.includes('background-image'))\n        style.value = `<a target=\"_blank\" href=\"${style.value.slice(style.value.indexOf('(') + 2, style.value.length - 2)}\">${style.value.slice(0,25) + '...'}</a>`\n\n      // check if style is inline style, show indicator\n      if (el.getAttribute('style') && el.getAttribute('style').includes(style.prop))\n        style.value = `<span local-change>${style.value}</span>`\n\n      return style\n    })\n\n  const localModifications = styles.filter(style =>\n    el.getAttribute('style') && el.getAttribute('style').includes(style.prop)\n      ? 1\n      : 0)\n\n  const notLocalModifications = styles.filter(style =>\n    el.getAttribute('style') && el.getAttribute('style').includes(style.prop)\n      ? 0\n      : 1)\n\n  tip.meta = {\n    el,\n    width,\n    height,\n    localModifications,\n    notLocalModifications,\n  }\n\n  return tip\n}\n\nconst mouse_quadrant = e => ({\n  north: e.clientY > window.innerHeight / 2,\n  west:  e.clientX > window.innerWidth / 2\n})\n\nconst tip_position = (node, e, north, west) => ({\n  top: `${north\n    ? e.pageY - node.clientHeight - 20\n    : e.pageY + 25}px`,\n  left: `${west\n    ? e.pageX - node.clientWidth + 23\n    : e.pageX - 21}px`,\n})\n\nconst handleBlur = ({target}) => {\n  if (target.hasAttribute && !target.hasAttribute('data-metatip') && state.tips.has(target))\n    wipe(state.tips.get(target))\n}\n\nconst wipe = ({tip, e:{target}}) => {\n  tip.remove()\n  unobserve({tip, target})\n  state.tips.delete(target)\n}\n\nconst togglePinned = els => {\n  if (state.restoring) return state.restoring = false\n\n  state.tips.forEach(meta => {\n    if (!els.includes(meta.e.target)) {\n      meta.e.target.removeAttribute('data-metatip')\n      wipe(state.tips.get(meta.e.target))\n    }\n  })\n\n  els\n    .filter(el => !el.hasAttribute('data-metatip'))\n    .forEach(el => {\n      el.setAttribute('data-metatip', true)\n      state.tips.set(el, {\n        tip: state.active.tip,\n        e: {target:el},\n      })\n      clearActive()\n  })\n}\n\nconst linkQueryClicked = ({detail:{ text, activator }}) => {\n  if (!text) return\n\n  queryPage('[data-pseudo-select]', el =>\n    el.removeAttribute('data-pseudo-select'))\n\n  queryPage(text + ':not([data-selected])', el =>\n    activator === 'mouseenter'\n      ? el.setAttribute('data-pseudo-select', true)\n      : services.selectors.select(el))\n}\n\nconst linkQueryHoverOut = e => {\n  queryPage('[data-pseudo-select]', el =>\n    el.removeAttribute('data-pseudo-select'))\n}\n\nconst observe = ({tip, target}) => {\n  // $(tip).on('query', linkQueryClicked)\n  // $(tip).on('unquery', linkQueryHoverOut)\n  $(target).on('DOMNodeRemoved', handleBlur)\n}\n\nconst unobserve = ({tip, target}) => {\n  // $(tip).off('query', linkQueryClicked)\n  // $(tip).off('unquery', linkQueryHoverOut)\n  $(target).off('DOMNodeRemoved', handleBlur)\n}\n\nconst clearActive = () => {\n  state.active.tip    = null\n  state.active.target = null\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { readability, isReadable } from '@ctrl/tinycolor'\nimport {\n  getStyle, isOffBounds,\n  getA11ys, getWCAG2TextSize, getComputedBackgroundColor,\n  deepElementFromPoint\n} from '../utilities/'\n\nconst state = {\n  active: {\n    tip:  null,\n    target: null,\n  },\n  tips: new Map(),\n}\n\nexport function Accessibility(uhWebEditor) {\n  state.restoring = true\n\n  $('body').on('mousemove', mouseMove)\n  uhWebEditor.onSelectedUpdate(togglePinned)\n\n  hotkeys('esc', _ => removeAll())\n\n  restorePinnedTips()\n\n  return () => {\n    $('body').off('mousemove', mouseMove)\n    uhWebEditor.removeSelectedCallback(togglePinned)\n    hotkeys.unbind('esc')\n    hideAll()\n  }\n}\n\nconst mouseMove = e => {\n  const target = deepElementFromPoint(e.clientX, e.clientY)\n\n  if (isOffBounds(target) || target.nodeName.toUpperCase() === 'SVG' || target.nodeName === 'WEBEDITOR-ALLYTIP' || target.hasAttribute('data-allytip')) { // aka: mouse out\n    if (state.active.tip) {\n      wipe({\n        tip: state.active.tip,\n        e: {target: state.active.target},\n      })\n      clearActive()\n    }\n    return\n  }\n\n  showTip(target, e)\n}\n\nexport function showTip(target, e) {\n  if (!state.active.tip) { // create\n    const tip = render(target)\n    document.body.appendChild(tip)\n\n    positionTip(tip, e)\n    observe({tip, target})\n\n    state.active.tip    = tip\n    state.active.target = target\n  }\n  else if (target == state.active.target) { // update position\n    // update position\n    positionTip(state.active.tip, e)\n  }\n  else { // update content\n    render(target, state.active.tip)\n    state.active.target = target\n    positionTip(state.active.tip, e)\n  }\n}\n\nexport function positionTip(tip, e) {\n  const { north, west } = mouse_quadrant(e)\n  const {left, top}     = tip_position(tip, e, north, west)\n\n  tip.style.left  = left\n  tip.style.top   = top\n\n  tip.style.setProperty('--arrow', north\n    ? 'var(--arrow-up)'\n    : 'var(--arrow-down)')\n\n  tip.style.setProperty('--shadow-direction', north\n    ? 'var(--shadow-up)'\n    : 'var(--shadow-down)')\n\n  tip.style.setProperty('--arrow-top', !north\n    ? '-8px'\n    : '100%')\n\n  tip.style.setProperty('--arrow-left', west\n    ? 'calc(100% - 15px - 15px)'\n    : '15px')\n}\n\nconst restorePinnedTips = () => {\n  state.tips.forEach(({tip}, target) => {\n    tip.style.display = 'block'\n    render(target, tip)\n    observe({tip, target})\n  })\n}\n\nexport function hideAll() {\n  state.tips.forEach(({tip}, target) => {\n    if (tip)\n      tip.style.display = 'none'\n  })\n\n  if (state.active.tip) {\n    state.active.tip.remove()\n    clearActive()\n  }\n}\n\nexport function removeAll() {\n  state.tips.forEach(({tip}, target) => {\n    tip && tip.remove()\n    unobserve({tip, target})\n  })\n\n  $('uh-web-editor-allytip').forEach(tip =>\n    tip.remove())\n\n  $('[data-allytip]').attr('data-allytip', null)\n\n  state.tips.clear()\n}\n\nconst render = (el, tip = document.createElement('uh-web-editor-ally')) => {\n  const contrast_results = determineColorContrast(el)\n  const ally_attributes = getA11ys(el)\n\n  ally_attributes.map(ally =>\n    ally.prop.includes('alt')\n      ? ally.value = `<span text>${ally.value}</span>`\n      : ally)\n\n  ally_attributes.map(ally =>\n    ally.prop.includes('title')\n      ? ally.value = `<span text longform>${ally.value}</span>`\n      : ally)\n\n  tip.meta = {\n    el,\n    ally_attributes,\n    contrast_results,\n  }\n\n  return tip\n}\n\nconst determineColorContrast = el => {\n  // question: how to know if the current node is actually a black background?\n  // question: is there an api for composited values?\n  const foreground = el instanceof SVGElement\n    ? (getStyle(el, 'fill') || getStyle(el, 'stroke'))\n    : getStyle(el, 'color')\n\n  const textSize  = getWCAG2TextSize(el) === 'Small'\n    ? 'AA'\n    : 'AA+'\n\n  let background  = getComputedBackgroundColor(el)\n  let pass_icon = `\n    <svg viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n    </svg>\n  `\n  let fail_icon = `\n    <svg viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n    </svg>\n  `\n\n  const [ aa_contrast, aaa_contrast ] = [\n    isReadable(background, foreground, { level: \"AA\", size: getWCAG2TextSize(el).toLowerCase() }),\n    isReadable(background, foreground, { level: \"AAA\", size: getWCAG2TextSize(el).toLowerCase() })\n  ]\n\n  return foreground === background\n    ? `<div contrast-compliance>Foreground matches background</div>`\n    : `\n        <div contrast-compliance>\n          <span contrast>\n            <span title>Contrast ratio</span>\n            <span value>${Math.floor(readability(background, foreground)  * 100) / 100}</span>\n          </span>\n          <span compliance>\n            <span title>WCAG Compliance</span>\n            <div>\n              <span>\n                <span value score pass=\"${aa_contrast ? 'true' : 'false'}\">${aa_contrast ? pass_icon : fail_icon}</span>\n                <span>${textSize}</span>\n              </span>\n              <span>\n                <span value score pass=\"${aaa_contrast ? 'true' : 'false'}\">${aaa_contrast ? pass_icon : fail_icon}</span>\n                <span>A${textSize}</span>\n              </span>\n            </div>\n          </span>\n        </div>\n      `\n}\n\nconst mouse_quadrant = e => ({\n  north: e.clientY > window.innerHeight / 2,\n  west:  e.clientX > window.innerWidth / 2\n})\n\nconst tip_position = (node, e, north, west) => ({\n  top: `${north\n    ? e.pageY - node.clientHeight - 20\n    : e.pageY + 25}px`,\n  left: `${west\n    ? e.pageX - node.clientWidth + 23\n    : e.pageX - 21}px`,\n})\n\nconst handleBlur = ({target}) => {\n  if (!target.hasAttribute('data-allytip') && state.tips.has(target))\n    wipe(state.tips.get(target))\n}\n\nconst wipe = ({tip, e:{target}}) => {\n  tip.remove()\n  unobserve({tip, target})\n  state.tips.delete(target)\n}\n\nconst togglePinned = els => {\n  if (state.restoring) return state.restoring = false\n\n  state.tips.forEach(ally => {\n    if (!els.includes(ally.e.target)) {\n      ally.e.target.removeAttribute('data-allytip')\n      wipe(state.tips.get(ally.e.target))\n    }\n  })\n\n  els\n    .filter(el => !el.hasAttribute('data-allytip'))\n    .forEach(el => {\n      el.setAttribute('data-allytip', true)\n      state.tips.set(el, {\n        tip: state.active.tip,\n        e: {target:el},\n      })\n      clearActive()\n  })\n}\n\nconst observe = ({tip, target}) => {\n  $(target).on('DOMNodeRemoved', handleBlur)\n}\n\nconst unobserve = ({tip, target}) => {\n  $(target).off('DOMNodeRemoved', handleBlur)\n}\n\nconst clearActive = () => {\n  state.active.tip    = null\n  state.active.target = null\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\n\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { canMoveLeft, canMoveRight, canMoveUp } from './move'\nimport { watchImagesForUpload } from './imageswap'\nimport { queryPage } from './search'\nimport { createMeasurements, clearMeasurements } from './measurements'\nimport { createMarginVisual } from './margin'\nimport { createPaddingVisual } from './padding'\n\nimport { showTip as showMetaTip, removeAll as removeAllMetaTips } from './metatip'\nimport { showTip as showAccessibilityTip, removeAll as removeAllAccessibilityTips } from './accessibility'\n\nimport {\n  metaKey, htmlStringToDom, createClassname, camelToDash,\n  isOffBounds, getStyle, getStyles, deepElementFromPoint, getShadowValues,\n  isSelectorValid, findNearestChildElement, findNearestParentElement,\n  getTextShadowValues, isFixed,\n} from '../utilities/'\nimport history, { cssPath } from '../utilities/history'\n\nexport function Selectable(uhWebEditor) {\n  const page              = document.body\n  let selected            = []\n  let selectedCallbacks   = []\n  let labels              = []\n  let handles             = []\n\n  const hover_state       = {\n    target:   null,\n    element:  null,\n    label:    null,\n  }\n\n  const sourceList = {}\n\n  const mapSourceFromElement = (el) => {\n    let sourceMap = {}\n    if(el.children.length == 0) return \n    for(const child of el.children) {\n      if(child.children.length) {\n        sourceMap[cssPath(child)] = mapSourceFromElement(child)\n      } else {\n        let propName\n        for(const prop in child) {\n          if(prop.includes(\"reactFiber\")) propName = prop\n        }\n        if(propName && child[propName]) {\n          sourceMap[cssPath(child)] = child[propName]._debugSource ?? child[propName]._debugOwner._debugSource\n          sourceList[cssPath(child)] = child[propName]._debugSource ?? child[propName]._debugOwner._debugSource\n        }\n      }\n    }\n    return sourceMap\n  }\n\n  const sourceMap         = mapSourceFromElement(document.body)\n  console.log({ sourceMap, sourceList })\n  history.mutations.saveSourceMap(sourceList)\n\n  const listen = () => {\n    page.addEventListener('click', on_click, true)\n    page.addEventListener('dblclick', on_dblclick, true)\n\n    page.on('selectstart', on_selection)\n    page.on('mousemove', on_hover)\n    document.addEventListener('copy', on_copy) // history done\n    document.addEventListener('cut', on_cut) // history done\n    document.addEventListener('paste', on_paste) // history done\n\n    watchCommandKey()\n\n    hotkeys(`${metaKey}+alt+c`, on_copy_styles)\n    hotkeys(`${metaKey}+alt+v`, e => on_paste_styles()) // TODO: add edit here\n    hotkeys('esc', on_esc)\n    hotkeys(`${metaKey}+d`, on_duplicate) // history done\n    hotkeys('backspace,del,delete', on_delete) // history done\n    hotkeys('alt+del,alt+backspace', on_clearstyles) // history done\n    hotkeys(`${metaKey}+e,${metaKey}+shift+e`, on_expand_selection)\n    hotkeys(`${metaKey}+g,${metaKey}+shift+g`, on_group) // TODO: add edit here\n    hotkeys('tab,shift+tab,enter,shift+enter', on_keyboard_traversal)\n    hotkeys(`${metaKey}+shift+enter`, on_select_children)\n    hotkeys(`shift+'`, on_select_parent)\n    hotkeys(`${metaKey}+z`, history.actions.undo)\n    hotkeys(`${metaKey}+shift+z`, history.actions.redo)\n  }\n\n  const unlisten = () => {\n    page.removeEventListener('click', on_click, true)\n    page.removeEventListener('dblclick', on_dblclick, true)\n\n    page.off('selectstart', on_selection)\n    page.off('mousemove', on_hover)\n\n    document.removeEventListener('copy', on_copy)\n    document.removeEventListener('cut', on_cut)\n    document.removeEventListener('paste', on_paste)\n\n    hotkeys.unbind(`esc,${metaKey}+d,backspace,del,delete,alt+del,alt+backspace,${metaKey}+e,${metaKey}+shift+e,${metaKey}+g,${metaKey}+shift+g,tab,shift+tab,enter,shift+enter`)\n  }\n\n  const on_click = e => {\n    const $target = deepElementFromPoint(e.clientX, e.clientY)\n\n    if (isOffBounds($target) && !selected.filter(el => el == $target).length)\n      return\n\n    e.preventDefault()\n    if (!e.altKey) e.stopPropagation()\n\n    if (!e.shiftKey) {\n      unselect_all({silent:true})\n      clearMeasurements()\n    }\n\n    if(e.shiftKey && $target.hasAttribute('data-selected'))\n      unselect($target.getAttribute('data-label-id'))\n    else\n      select($target)\n  }\n\n  const unselect = id => {\n    [...labels, ...handles]\n      .filter(node =>\n          node.getAttribute('data-label-id') === id)\n        .forEach(node =>\n          node.remove())\n\n    selected.filter(node =>\n      node.getAttribute('data-label-id') === id)\n      .forEach(node =>\n        $(node).attr({\n          'data-selected':      null,\n          'data-selected-hide': null,\n          'data-label-id':      null,\n          'data-pseudo-select':         null,\n          'data-measuring':     null,\n          'data-outward':       null,\n      }))\n\n    selected = selected.filter(node => node.getAttribute('data-label-id') !== id)\n\n    tellWatchers()\n  }\n\n  const on_dblclick = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (isOffBounds(e.target)) return\n    uhWebEditor.toolSelected('text')\n  }\n\n  const watchCommandKey = e => {\n    let did_hide = false\n\n    document.onkeydown = function(e) {\n      if (hotkeys.ctrl && selected.length) {\n        $('uh-web-editor-handles, uh-web-editor-label, uh-web-editor-hover, uh-web-editor-grip').forEach(el =>\n          el.style.display = 'none')\n\n        did_hide = true\n      }\n    }\n\n    document.onkeyup = function(e) {\n      if (did_hide) {\n        $('uh-web-editor-handles, uh-web-editor-label, uh-web-editor-hover, uh-web-editor-grip').forEach(el =>\n          el.style.display = null)\n\n        did_hide = false\n      }\n    }\n  }\n\n  const on_esc = _ =>\n    unselect_all()\n\n  const on_duplicate = e => {\n    const root_node = selected[0]\n    if (!root_node) return\n\n    const deep_clone = root_node.cloneNode(true)\n    deep_clone.removeAttribute('data-selected')\n    root_node.parentNode.insertBefore(deep_clone, root_node.nextSibling)\n\n    history.actions.do({\n      parentLocation: cssPath(deep_clone.parentNode),\n      location: cssPath(deep_clone),\n      element: {\n        tagName: deep_clone.tagName,\n        outerHTML: deep_clone.outerHTML,\n      },\n      action: 'add',\n    })\n\n    e.preventDefault()\n  }\n\n  const on_delete = e =>\n    selected.length && delete_all()\n\n  const on_clearstyles = (_e) => {\n    selected.forEach(el => {\n      const beforeEdit = el.outerHTML\n      el.attr('style', null)\n      history.actions.do({\n        parentLocation: cssPath(el.parentNode),\n        location: cssPath(el),\n        element: {\n          tagName: el.tagName,\n          outerHTML: beforeEdit,\n          finalOuterHTML: el.outerHTML,\n        },\n        action: 'edit',\n      })\n    })\n  }\n\n  const on_copy = async e => {\n    // if user has selected text, dont try to copy an element\n    if (window.getSelection().toString().length)\n      return\n\n    if (selected[0] && window.node_clipboard !== selected[0]) {\n      e.preventDefault()\n      let $node = selected[0].cloneNode(true)\n      $node.removeAttribute('data-selected')\n\n      window.copy_backup = $node.outerHTML\n      e.clipboardData.setData('text/html', window.copy_backup)\n\n      const { state } = await navigator.permissions.query({ name: 'clipboard-write' })\n\n      if (state === 'granted')\n        await navigator.clipboard.writeText(window.copy_backup)\n    }\n  }\n\n  const on_cut = e => {\n    if (selected[0] && window.node_clipboard !== selected[0]) {\n      let $node = selected[0].cloneNode(true)\n      $node.removeAttribute('data-selected')\n      window.copy_backup = $node.outerHTML\n      e.clipboardData.setData('text/html', window.copy_backup)\n      const el = selected[0]\n      if(el.tagName != 'WEBEDITOR-HANDLES' && el.tagName != 'WEBEDITOR-LABEL' && el.tagName != 'WEBEDITOR-HOVER' && el.tagName != 'WEBEDITOR-DISTANCE') {\n        history.actions.do({\n          parentLocation: cssPath(el.parentNode),\n          location: cssPath(el),\n          element: {\n            tagName: el.tagName,\n            outerHTML: el.outerHTML,\n          },\n          action: 'delete',\n        })\n        // log the deleted element for undo\n      }\n      selected[0].remove()\n    }\n  }\n\n  const on_paste = async (e, index = 0) => {\n    const clipData = e.clipboardData.getData('text/html')\n    const globalClipboard = await navigator.clipboard.readText()\n    const potentialHTML = clipData || globalClipboard || window.copy_backup\n\n    if (selected.length && potentialHTML) {\n      e.preventDefault()\n\n      selected.forEach(parent => {\n        const el = htmlStringToDom(potentialHTML)\n        if(!(el instanceof Element)) return\n        parent.appendChild(el)\n        if(el.tagName != 'WEBEDITOR-HANDLES' && el.tagName != 'WEBEDITOR-LABEL' && el.tagName != 'WEBEDITOR-HOVER' && el.tagName != 'WEBEDITOR-DISTANCE') {\n          history.actions.do({\n            parentLocation: cssPath(parent),\n            location: cssPath(el),\n            element: {\n              tagName: el.tagName,\n              outerHTML: el.outerHTML,\n            },\n            action: 'add',\n          })\n          // log the deleted element for undo\n        }\n      })\n    }\n  }\n\n  const on_copy_styles = async e => {\n    e.preventDefault()\n\n    window.copied_styles = selected.map(el =>\n      getStyles(el))\n\n    try {\n      const colormode = $('uh-web-editor')[0].colorMode\n\n      const styles = window.copied_styles[0]\n        .map(({prop,value}) => {\n          if (prop.includes('color') || prop.includes('background-color') || prop.includes('border-color') || prop.includes('Color') || prop.includes('fill') || prop.includes('stroke'))\n            value = new TinyColor(value)[colormode]()\n\n          if (prop.includes('boxShadow')) {\n            const [, color, x, y, blur, spread] = getShadowValues(value)\n            value = `${new TinyColor(color)[colormode]()} ${x} ${y} ${blur} ${spread}`\n          }\n\n          if (prop.includes('textShadow')) {\n            const [, color, x, y, blur] = getTextShadowValues(value)\n            value = `${new TinyColor(color)[colormode]()} ${x} ${y} ${blur}`\n          }\n          return {prop,value}\n        })\n        .reduce((message, item) =>\n          [...message, `${camelToDash(item.prop)}: ${item.value};`]\n        , []).join('\\n')\n\n      const {state} = await navigator.permissions.query({name:'clipboard-write'})\n\n      if (styles && state === 'granted') {\n        await navigator.clipboard.writeText(styles)\n        console.info('copied!')\n      }\n    } catch(e) {\n      console.warn(e)\n    }\n  }\n\n  const on_paste_styles = async (e, index = 0) => {\n    if (window.copied_styles) {\n      selected.forEach(el => {\n        window.copied_styles[index]\n          .map(({prop, value}) =>\n            el.style[prop] = value)\n\n        index >= window.copied_styles.length - 1\n          ? index = 0\n          : index++\n      })\n    }\n    else {\n      const potentialStyles = await navigator.clipboard.readText()\n\n      if (selected.length && potentialStyles)\n        selected.forEach(el =>\n          el.style = potentialStyles)\n    }\n  }\n\n  const on_expand_selection = (e, {key}) => {\n    e.preventDefault()\n\n    const [root] = selected\n    if (!root) return\n\n    const query = combineNodeNameAndClass(root)\n\n    if (isSelectorValid(query))\n      expandSelection({\n        query,\n        all: key.includes('shift'),\n      })\n  }\n\n  const on_group = (e, {key}) => {\n    e.preventDefault()\n\n    if (key.split('+').includes('shift')) {\n      let $selected = [...selected]\n      unselect_all()\n      $selected.reverse().forEach(el => {\n        let l = el.children.length\n        while (el.children.length > 0) {\n          var node = el.childNodes[el.children.length - 1]\n          if (node.nodeName !== '#text')\n            select(node)\n          el.parentNode.prepend(node)\n        }\n        el.parentNode.removeChild(el)\n      })\n    }\n    else {\n      let div = document.createElement('div')\n      selected[0].parentNode.prepend(\n        selected.reverse().reduce((div, el) => {\n          div.appendChild(el)\n          return div\n        }, div)\n      )\n      unselect_all()\n      select(div)\n    }\n  }\n\n  const getElementSkeleton = (el, tabLevel, hasChildrenWithoutChildren) => {\n    const tabSpace = ' '.repeat(tabLevel)\n    let skeleton = ``\n    for(const child of el.children) {\n      const tab = '_'.repeat(2)\n      if(child.children.length) {\n        const hasChildrenWithoutChildren = !(Array.from(child.children).some(innerChild => !innerChild.children.length) \n                                              && Array.from(child.children).some(innerChild => innerChild.children.length)\n                                          )\n        skeleton += `${tabSpace}<${child.tagName.toLowerCase()}>\\n${getElementSkeleton(child, tabLevel + 2, hasChildrenWithoutChildren)}`\n      } else {\n        skeleton += `${tabSpace}${hasChildrenWithoutChildren ? ` |${tab}` : ''}<${child.tagName.toLowerCase()}>\\n`\n      }\n    }\n    return skeleton\n  }\n\n  const on_selection = e => !isOffBounds(e.target)\n    && selected.length\n    && selected[0].textContent != e.target.textContent\n    && e.preventDefault()\n\n  // console.log(e)\n  // const el = e.target\n  // let skeleton = `<${el.tagName.toLowerCase()}>\\n${getElementSkeleton(e.target, 2)}`\n  // console.log(skeleton)\n  // TODO: show this in the UI\n\n  const on_keyboard_traversal = (e, {key}) => {\n    if (!selected.length) return\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    const targets = selected.reduce((flat_n_unique, node) => {\n      const element_to_left     = canMoveLeft(node)\n      const element_to_right    = canMoveRight(node)\n      const has_parent_element  = findNearestParentElement(node)\n      const has_child_elements  = findNearestChildElement(node)\n\n      if (key.includes('shift')) {\n        if (key.includes('tab') && element_to_left)\n          flat_n_unique.add(element_to_left)\n        else if (key.includes('enter') && has_parent_element)\n          flat_n_unique.add(has_parent_element)\n        else\n          flat_n_unique.add(node)\n      }\n      else {\n        if (key.includes('tab') && element_to_right)\n          flat_n_unique.add(element_to_right)\n        else if (key.includes('enter') && has_child_elements)\n          flat_n_unique.add(has_child_elements)\n        else\n          flat_n_unique.add(node)\n      }\n\n      return flat_n_unique\n    }, new Set())\n\n    if (targets.size) {\n      unselect_all({silent:true})\n      targets.forEach(node => {\n        select(node)\n        show_tip(node)\n      })\n    }\n  }\n\n  const show_tip = el => {\n    const active_tool = uhWebEditor.activeTool\n    let tipFactory\n\n    if (active_tool === 'accessibility') {\n      removeAllAccessibilityTips()\n      tipFactory = showAccessibilityTip\n    }\n    else if (active_tool === 'inspector') {\n      removeAllMetaTips()\n      tipFactory = showMetaTip\n    }\n\n    if (!tipFactory) return\n\n    const {top, left} = el.getBoundingClientRect()\n    const { pageYOffset, pageXOffset } = window\n\n    tipFactory(el, {\n      clientY:  top,\n      clientX:  left,\n      pageY:    pageYOffset + top - 10,\n      pageX:    pageXOffset + left + 20,\n    })\n  }\n\n  const on_hover = e => {\n    const $target = deepElementFromPoint(e.clientX, e.clientY)\n    const tool = uhWebEditor.activeTool\n\n    if (isOffBounds($target) || $target.hasAttribute('data-selected') || $target.hasAttribute('draggable')) {\n      clearMeasurements()\n      return clearHover()\n    }\n\n    overlayHoverUI({\n      el: $target,\n      // no_hover: tool === 'guides',\n      no_label:\n           tool === 'guides'\n        || tool === 'accessibility'\n        || tool === 'margin'\n        || tool === 'padding'\n        || tool === 'inspector',\n    })\n\n    if (tool === 'guides' && selected.length >= 1 && !selected.includes($target)) {\n      $target.setAttribute('data-measuring', true)\n      const [$anchor] = selected\n      createMeasurements({$anchor, $target})\n    }\n    else if (tool === 'margin' && !hover_state.element.$shadow.querySelector('uh-web-editor-boxmodel')) {\n      hover_state.element.$shadow.appendChild(\n        createMarginVisual(hover_state.target, true))\n    }\n    else if (tool === 'padding' && !hover_state.element.$shadow.querySelector('uh-web-editor-boxmodel')) {\n      hover_state.element.$shadow.appendChild(\n        createPaddingVisual(hover_state.target, true))\n    }\n    else if ($target.hasAttribute('data-measuring') || selected.includes($target)) {\n      clearMeasurements()\n    }\n  }\n\n  const select = el => {\n    const id = handles.length\n    const tool = uhWebEditor.activeTool\n\n    el.setAttribute('data-selected', true)\n    el.setAttribute('data-label-id', id)\n\n    clearHover()\n\n    overlayMetaUI({\n      el,\n      id,\n      no_label: tool === 'inspector' || tool === 'guides' || tool === 'accessibility',\n    })\n\n    selected.unshift(el)\n    tellWatchers()\n  }\n\n  const selection = () =>\n    selected\n\n  const unselect_all = ({silent = false} = {}) => {\n    selected\n      .forEach(el =>\n        $(el).attr({\n          'data-selected':      null,\n          'data-selected-hide': null,\n          'data-label-id':      null,\n          'data-pseudo-select': null,\n          'data-outward':       null,\n        }))\n\n    $('[data-pseudo-select]').forEach(hover =>\n      hover.removeAttribute('data-pseudo-select'))\n\n    Array.from([\n      ...$('uh-web-editor-handles'),\n      ...$('uh-web-editor-label'),\n      ...$('uh-web-editor-hover'),\n      ...$('uh-web-editor-distance'),\n    ]).forEach(el =>\n      el.remove())\n\n    labels    = []\n    handles   = []\n    selected  = []\n\n    !silent && tellWatchers()\n  }\n\n  const delete_all = () => {\n    const selected_after_delete = selected.map(el => {\n      if (canMoveRight(el))     return canMoveRight(el)\n      else if (canMoveLeft(el)) return canMoveLeft(el)\n      else if (el.parentNode)   return el.parentNode\n    })\n\n    Array.from([...selected, ...labels, ...handles]).forEach(el => {\n      if(el.tagName != 'WEBEDITOR-HANDLES' && el.tagName != 'WEBEDITOR-LABEL' && el.tagName != 'WEBEDITOR-HOVER' && el.tagName != 'WEBEDITOR-DISTANCE') {\n        history.actions.do({\n          parentLocation: cssPath(el.parentNode),\n          location: cssPath(el),\n          element: {\n            tagName: el.tagName,\n            outerHTML: el.outerHTML,\n          },\n          action: 'delete',\n        })\n        // log the deleted element for undo\n      }\n      el.remove()\n    })\n\n    labels    = []\n    handles   = []\n    selected  = []\n\n    selected_after_delete.forEach(el =>\n      select(el))\n  }\n\n  const expandSelection = ({query, all = false}) => {\n    if (all) {\n      const unselecteds = $(query + ':not([data-selected])')\n      unselecteds.forEach(select)\n    }\n    else {\n      const potentials = $(query)\n      if (!potentials) return\n\n      const [anchor] = selected\n      const root_node_index = potentials.reduce((index, node, i) =>\n        node == anchor\n          ? index = i\n          : index\n      , null)\n\n      if (root_node_index !== null) {\n        if (!potentials[root_node_index + 1]) {\n          const potential = potentials.filter(el => !el.attr('data-selected'))[0]\n          if (potential) select(potential)\n        }\n        else {\n          select(potentials[root_node_index + 1])\n        }\n      }\n    }\n  }\n\n  const combineNodeNameAndClass = node =>\n    `${node.nodeName.toLowerCase()}${createClassname(node)}`\n\n  const overlayHoverUI = ({el, no_hover = false, no_label = true}) => {\n    if (hover_state.target === el) return\n    hover_state.target = el\n\n    hover_state.element = no_hover\n      ? null\n      : createHover(el)\n\n    hover_state.label   = no_label\n      ? null\n      : createHoverLabel(el, handleLabelText(el, uhWebEditor.activeTool))\n  }\n\n  const clearHover = () => {\n    if (!hover_state.target) return\n\n    hover_state.element && hover_state.element.remove()\n    hover_state.label && hover_state.label.remove()\n\n    hover_state.target  = null\n    hover_state.element = null\n    hover_state.label   = null\n  }\n\n  const overlayMetaUI = ({el, id, no_label = true}) => {\n    let handle = createHandle({el, id})\n    let label  = no_label\n      ? null\n      : createLabel({\n          el,\n          id,\n          template: handleLabelText(el, uhWebEditor.activeTool)\n        })\n\n    let observer        = createObserver(el, {handle,label})\n    let parentObserver  = createObserver(el, {handle,label})\n\n    observer.observe(el, { attributes: true })\n    parentObserver.observe(el.parentNode, { childList:true, subtree:true })\n\n    $(label).on('DOMNodeRemoved', _ => {\n      observer.disconnect()\n      parentObserver.disconnect()\n    })\n  }\n\n  const setLabel = (el, label) => {\n    label.text = handleLabelText(el, uhWebEditor.activeTool)\n    label.update = {boundingRect: el.getBoundingClientRect(), isFixed: isFixed(el)}\n  }\n\n  const createLabel = ({el, id, template}) => {\n    if (!labels[id]) {\n      const label = document.createElement('uh-web-editor-label')\n\n      label.text = template\n      label.position = {\n        boundingRect:   el.getBoundingClientRect(),\n        node_label_id:  id,\n        isFixed: isFixed(el),\n      }\n\n      document.body.appendChild(label)\n\n      $(label).on('query', ({detail}) => {\n        if (!detail.text) return\n\n        queryPage('[data-pseudo-select]', el =>\n          el.removeAttribute('data-pseudo-select'))\n\n        queryPage(detail.text + ':not([data-selected])', el =>\n          detail.activator === 'mouseenter'\n            ? el.setAttribute('data-pseudo-select', true)\n            : select(el))\n      })\n\n      $(label).on('mouseleave', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        queryPage('[data-pseudo-select]', el =>\n          el.removeAttribute('data-pseudo-select'))\n      })\n\n      labels[labels.length] = label\n\n      return label\n    }\n  }\n\n  const createHandle = ({el, id}) => {\n    if (!handles[id]) {\n      const handle = document.createElement('uh-web-editor-handles')\n\n      handle.position = { el, node_label_id: id }\n\n      document.body.appendChild(handle)\n\n      handles[handles.length] = handle\n      return handle\n    }\n  }\n\n  const createHover = el => {\n    if (!el.hasAttribute('data-pseudo-select') && !el.hasAttribute('data-label-id')) {\n      if (hover_state.element)\n        hover_state.element.remove()\n\n      hover_state.element = document.createElement('uh-web-editor-hover')\n      document.body.appendChild(hover_state.element)\n      hover_state.element.position = {el}\n\n      return hover_state.element\n    }\n  }\n\n  const createHoverLabel = (el, text) => {\n    if (!el.hasAttribute('data-pseudo-select') && !el.hasAttribute('data-label-id')) {\n      if (hover_state.label)\n        hover_state.label.remove()\n\n      hover_state.label = document.createElement('uh-web-editor-label')\n      document.body.appendChild(hover_state.label)\n\n      hover_state.label.text = text\n      hover_state.label.position = {\n        boundingRect:   el.getBoundingClientRect(),\n        node_label_id:  'hover',\n      }\n\n      hover_state.label.style.setProperty(`--label-bg`, `hsl(267, 100%, 58%)`)\n\n\n      return hover_state.label\n    }\n  }\n\n  const createCorners = el => {\n    if (!el.hasAttribute('data-pseudo-select') && !el.hasAttribute('data-label-id')) {\n      if (hover_state.element)\n        hover_state.element.remove()\n\n      hover_state.element = document.createElement('uh-web-editor-corners')\n      document.body.appendChild(hover_state.element)\n      hover_state.element.position = {el}\n\n      return hover_state.element\n    }\n  }\n\n  const setHandle = (el, handle) => {\n    handle.position = {\n      el,\n      node_label_id:  el.getAttribute('data-label-id'),\n    }\n  }\n\n  const createObserver = (node, {label,handle}) =>\n    new MutationObserver(list => {\n      label && setLabel(node, label)\n      handle && setHandle(node, handle)\n    })\n\n  const onSelectedUpdate = (cb, immediateCallback = true) => {\n    selectedCallbacks.push(cb)\n    if (immediateCallback) cb(selected)\n  }\n\n  const removeSelectedCallback = cb =>\n    selectedCallbacks = selectedCallbacks.filter(callback => callback != cb)\n\n  const tellWatchers = () =>\n    selectedCallbacks.forEach(cb => cb(selected))\n\n  const disconnect = () => {\n    unselect_all()\n    unlisten()\n  }\n\n  const on_select_children = (e, {key}) => {\n    const targets = selected\n      .filter(node => node.children.length)\n      .reduce((flat, {children}) =>\n        [...flat, ...Array.from(children)], [])\n\n    if (targets.length) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      unselect_all()\n      targets.forEach(node => select(node))\n    }\n  }\n\n  const on_select_parent = (e, {key}) => {\n    const targets = selected.reduce((parents, node) => {\n      const parent_element = node.parentElement;\n\n      if (parent_element.hasAttribute('data-outward'))\n        return parents\n\n      parent_element.setAttribute('data-outward', true)\n      parents.push(parent_element)\n\n      return parents\n    }, [])\n\n    if (targets.length) {\n      e.preventDefault()\n      e.stopPropagation()\n\n      targets.forEach(node => {\n        if (node && node !== document.body) {\n          select(node)\n        }\n      })\n    }\n  }\n\n  watchImagesForUpload()\n  listen()\n\n  return {\n    select,\n    selection,\n    unselect_all,\n    onSelectedUpdate,\n    removeSelectedCallback,\n    disconnect,\n  }\n}\n\nexport const handleLabelText = (el, activeTool) => {\n  switch(activeTool) {\n    case 'align':\n      return getStyle(el, 'display')\n\n    default:\n      return `\n        <a node>${el.nodeName.toLowerCase()}</a>\n        <a>${el.id && '#' + el.id}</a>\n        ${createClassname(el).split('.')\n          .filter(name => name != '')\n          .reduce((links, name) => `\n            ${links}\n            <a>.${name}</a>\n          `, '')\n        }\n      `\n  }\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { showHideNodeLabel } from '../utilities/'\n\nconst removeEditability = ({target}) => {\n  target.removeAttribute('contenteditable')\n  target.removeAttribute('spellcheck')\n  target.removeEventListener('blur', removeEditability)\n  target.removeEventListener('keydown', stopBubbling)\n  hotkeys.unbind('escape,esc')\n}\n\nconst stopBubbling = e => e.key != 'Escape' && e.stopPropagation()\n\nconst cleanup = (e, handler) => {\n  $('[spellcheck=\"true\"]').forEach(target => removeEditability({target}))\n  window.getSelection().empty()\n}\n\nexport function EditText(elements) {\n  if (!elements.length) return\n\n  elements.map(el => {\n    let $el = $(el)\n\n    $el.attr({\n      contenteditable: true,\n      spellcheck: true,\n    })\n    el.focus()\n    showHideNodeLabel(el, true)\n\n    $el.on('keydown', stopBubbling)\n    $el.on('blur', removeEditability)\n  })\n\n  hotkeys('escape,esc', cleanup)\n}","import hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},shift+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+down`\n\nexport function Font({selection}) {\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n\n    let selectedNodes = selection()\n      , keys = handler.key.split('+')\n\n    if (keys.includes('left') || keys.includes('right'))\n      keys.includes('shift')\n        ? changeKerning(selectedNodes, handler.key)\n        : changeAlignment(selectedNodes, handler.key)\n    else\n      keys.includes('shift')\n        ? changeLeading(selectedNodes, handler.key)\n        : changeFontSize(selectedNodes, handler.key)\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n    let keys = handler.key.split('+')\n    changeFontWeight(selection(), keys.includes('up') ? 'up' : 'down')\n  })\n\n  hotkeys('cmd+b', e => {\n    selection().forEach(el =>\n      el.style.fontWeight =\n        el.style.fontWeight == 'bold'\n          ? null\n          : 'bold')\n  })\n\n  hotkeys('cmd+i', e => {\n    selection().forEach(el =>\n      el.style.fontStyle =\n        el.style.fontStyle == 'italic'\n          ? null\n          : 'italic')\n  })\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('cmd+b,cmd+i')\n    hotkeys.unbind('up,down,left,right')\n  }\n}\n\nexport function changeLeading(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'lineHeight',\n      current:  parseInt(getStyle(el, 'lineHeight')),\n      amount:   1,\n      negative: direction.split('+').includes('down'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        current: payload.current == 'normal' || isNaN(payload.current)\n          ? 1.14 * parseInt(getStyle(payload.el, 'fontSize')) // document this choice\n          : payload.current\n      }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.negative\n          ? payload.current - payload.amount\n          : payload.current + payload.amount\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = `${value}px`)\n}\n\nexport function changeKerning(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'letterSpacing',\n      current:  parseFloat(getStyle(el, 'letterSpacing')),\n      amount:   .1,\n      negative: direction.split('+').includes('left'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        current: payload.current == 'normal' || isNaN(payload.current)\n          ? 0\n          : payload.current\n      }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.negative\n          ? (payload.current - payload.amount).toFixed(2)\n          : (payload.current + payload.amount).toFixed(2)\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = `${value <= -2 ? -2 : value}px`)\n}\n\nexport function changeFontSize(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'fontSize',\n      current:  parseInt(getStyle(el, 'fontSize')),\n      amount:   direction.split('+').includes('shift') ? 10 : 1,\n      negative: direction.split('+').includes('down'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        font_size: payload.negative\n          ? payload.current - payload.amount\n          : payload.current + payload.amount\n      }))\n    .forEach(({el, style, font_size}) =>\n      el.style[style] = `${font_size <= 6 ? 6 : font_size}px`)\n}\n\nconst weightMap = {\n  normal: 2,\n  bold:   5,\n  light:  0,\n  \"\": 2,\n  \"100\":0,\"200\":1,\"300\":2,\"400\":3,\"500\":4,\"600\":5,\"700\":6,\"800\":7,\"900\":8\n}\nconst weightOptions = [100,200,300,400,500,600,700,800,900]\n\nexport function changeFontWeight(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'fontWeight',\n      current:  getStyle(el, 'fontWeight'),\n      direction: direction.split('+').includes('down'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? weightMap[payload.current] - 1\n          : weightMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = weightOptions[value < 0 ? 0 : value >= weightOptions.length\n        ? weightOptions.length\n        : value\n      ])\n}\n\nconst alignMap = {\n  start: 0,\n  left: 0,\n  center: 1,\n  right: 2,\n}\nconst alignOptions = ['left','center','right']\n\nexport function changeAlignment(els, direction) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => ({\n      el,\n      style:    'textAlign',\n      current:  getStyle(el, 'textAlign'),\n      direction: direction.split('+').includes('left'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? alignMap[payload.current] - 1\n          : alignMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = alignOptions[value < 0 ? 0 : value >= 2 ? 2: value])\n}\n","import hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},shift+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+down,${metaKey}+left,${metaKey}+right,${metaKey}+shift+up,${metaKey}+shift+down,${metaKey}+shift+left,${metaKey}+shift+right`\n\nexport function Flex({selection}) {\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n\n    let selectedNodes = selection()\n      , keys = handler.key.split('+')\n\n    if (keys.includes('left') || keys.includes('right'))\n      keys.includes('shift')\n        ? changeHDistribution(selectedNodes, handler.key)\n        : changeHAlignment(selectedNodes, handler.key)\n    else\n      keys.includes('shift')\n        ? changeVDistribution(selectedNodes, handler.key)\n        : changeVAlignment(selectedNodes, handler.key)\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n\n    let selectedNodes = selection()\n      , keys = handler.key.split('+')\n\n    if (keys.includes('left') || keys.includes('right'))\n      keys.includes('shift')\n        ? changeOrder(selectedNodes, handler.key)\n        : changeDirection(selectedNodes, 'row')\n    else\n      keys.includes('shift')\n        ? changeWrap(selectedNodes, handler.key)\n        : changeDirection(selectedNodes, 'column')\n  })\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('up,down,left,right')\n  }\n}\n\nconst ensureFlex = el => {\n  el.style.display = 'flex'\n  return el\n}\n\nconst accountForOtherJustifyContent = (cur, want) => {\n  if (want == 'align' && (cur != 'flex-start' && cur != 'center' && cur != 'flex-end'))\n    cur = 'normal'\n  else if (want == 'distribute' && (cur != 'space-around' && cur != 'space-between'))\n    cur = 'normal'\n\n  return cur\n}\n\n// todo: support reversing direction\nexport function changeDirection(els, value) {\n  els\n    .map(ensureFlex)\n    .map(el => {\n      el.style.flexDirection = value\n    })\n}\n\nconst h_alignMap      = {normal: 0,'flex-start': 0,'center': 1,'flex-end': 2,}\nconst h_alignOptions  = ['flex-start','center','flex-end']\n\nexport function changeHAlignment(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style:    'justifyContent',\n      current:  accountForOtherJustifyContent(getStyle(el, 'justifyContent'), 'align'),\n      direction: direction.split('+').includes('left'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? h_alignMap[payload.current] - 1\n          : h_alignMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = h_alignOptions[value < 0 ? 0 : value >= 2 ? 2: value])\n}\n\nconst v_alignMap      = {normal: 0,'flex-start': 0,'center': 1,'flex-end': 2,}\nconst v_alignOptions  = ['flex-start','center','flex-end']\n\nexport function changeVAlignment(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style:    'alignItems',\n      current:  getStyle(el, 'alignItems'),\n      direction: direction.split('+').includes('up'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? h_alignMap[payload.current] - 1\n          : h_alignMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = v_alignOptions[value < 0 ? 0 : value >= 2 ? 2: value])\n}\n\nconst h_distributionMap      = {normal: 1,'space-around': 0,'': 1,'space-between': 2,}\nconst h_distributionOptions  = ['space-around','','space-between']\n\nexport function changeHDistribution(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style:    'justifyContent',\n      current:  accountForOtherJustifyContent(getStyle(el, 'justifyContent'), 'distribute'),\n      direction: direction.split('+').includes('left'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? h_distributionMap[payload.current] - 1\n          : h_distributionMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = h_distributionOptions[value < 0 ? 0 : value >= 2 ? 2: value])\n}\n\nconst v_distributionMap      = {normal: 1,'space-around': 0,'': 1,'space-between': 2,}\nconst v_distributionOptions  = ['space-around','','space-between']\n\nexport function changeVDistribution(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style:    'alignContent',\n      current:  getStyle(el, 'alignContent'),\n      direction: direction.split('+').includes('up'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? v_distributionMap[payload.current] - 1\n          : v_distributionMap[payload.current] + 1\n      }))\n    .forEach(({el, style, value}) =>\n      el.style[style] = v_distributionOptions[value < 0 ? 0 : value >= 2 ? 2: value])\n}\n\nconst orderMap     = {row: 0, 'row-reverse': 1, column: 2, 'column-reverse': 3,}\nconst orderOptions = ['row', 'row-reverse', 'column', 'column-reverse']\n\nexport function changeOrder(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style: 'flexDirection',\n      current: getStyle(el, 'flexDirection'),\n      direction: direction.split('+').includes('left'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? orderMap[payload.current] === 1 || orderMap[payload.current] === 3\n            ? orderMap[payload.current] : orderMap[payload.current] + 1\n          : orderMap[payload.current] === 0 || orderMap[payload.current] === 2\n            ? orderMap[payload.current] : orderMap[payload.current] - 1\n      }))\n      .forEach(({el, style, value}) =>\n        el.style[style] = orderOptions[value])\n}\n\nconst wrapMap     = {nowrap: 0, 'wrap': 1,}\nconst wrapOptions = ['nowrap', 'wrap']\n\nexport function changeWrap(els, direction) {\n  els\n    .map(ensureFlex)\n    .map(el => ({\n      el,\n      style: 'flexWrap',\n      current: getStyle(el, 'flexWrap'),\n      direction: direction.split('+').includes('up'),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        value: payload.direction\n          ? wrapMap[payload.current] === 0\n            ? wrapMap[payload.current] : wrapMap[payload.current] - 1\n          : wrapMap[payload.current] === 1\n            ? wrapMap[payload.current] : wrapMap[payload.current] + 1\n      }))\n      .forEach(({el, style, value}) =>\n        el.style[style] = wrapOptions[value])\n}\n","import hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},shift+${event},alt+${event},alt+shift+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+shift+up,${metaKey}+down,${metaKey}+shift+down,${metaKey}+left,${metaKey}+shift+left,${metaKey}+right,${metaKey}+shift+right`\n\nexport function BoxShadow({selection}) {\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n\n    let selectedNodes = selection()\n      , keys = handler.key.split('+')\n\n    if (keys.includes('left') || keys.includes('right'))\n      keys.includes('alt')\n        ? changeBoxShadow(selectedNodes, keys, 'size')\n        : changeBoxShadow(selectedNodes, keys, 'x')\n    else\n      keys.includes('alt')\n        ? changeBoxShadow(selectedNodes, keys, 'blur')\n        : changeBoxShadow(selectedNodes, keys, 'y')\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n    let keys = handler.key.split('+')\n    keys.includes('left') || keys.includes('right')\n      ? changeBoxShadow(selection(), keys, 'opacity')\n      : changeBoxShadow(selection(), keys, 'inset')\n  })\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('up,down,left,right')\n  }\n}\n\nconst ensureHasShadow = el => {\n  if (el.style.boxShadow == '' || el.style.boxShadow == 'none')\n    el.style.boxShadow = 'hsla(0,0%,0%,30%) 0 0 0 0'\n  return el\n}\n\n// todo: work around this propMap with a better split\nconst propMap = {\n  'opacity':  3,\n  'x':        4,\n  'y':        5,\n  'blur':     6,\n  'size':     7,\n  'inset':    8,\n}\n\nconst parseCurrentShadow = el => getStyle(el, 'boxShadow').split(' ')\n\nexport function changeBoxShadow(els, direction, prop) {\n  els\n    .map(ensureHasShadow)\n    .map(el => showHideSelected(el, 1500))\n    .map(el => ({\n      el,\n      style:     'boxShadow',\n      current:   parseCurrentShadow(el), // [\"rgb(255,\", \"0,\", \"0)\", \"0px\", \"0px\", \"1px\", \"0px\"]\n      propIndex: parseCurrentShadow(el)[0].includes('rgba') ? propMap[prop] : propMap[prop] - 1\n    }))\n    .map(payload => {\n      let updated = [...payload.current]\n      let cur     = prop === 'opacity'\n        ? payload.current[payload.propIndex]\n        : parseInt(payload.current[payload.propIndex])\n\n      switch(prop) {\n        case 'blur': \n        case 'size':\n          var amount = direction.includes('shift') ? 10 : 1\n          updated[payload.propIndex] = direction.includes('down') || direction.includes('left')\n            ? `${cur - amount}px`\n            : `${cur + amount}px`\n          break\n        case 'inset':\n          updated[payload.propIndex] = direction.includes('down')\n            ? 'inset'\n            : ''\n          break\n        case 'opacity':\n          let cur_opacity = parseFloat(cur.slice(0, cur.indexOf(')')))\n          var amount = direction.includes('shift') ? 0.10 : 0.01\n          updated[payload.propIndex] = direction.includes('left')\n            ? cur_opacity - amount + ')'\n            : cur_opacity + amount + ')'\n          break\n        default:\n          var amount = direction.includes('shift') ? 10 : 1\n          updated[payload.propIndex] = direction.includes('left') || direction.includes('up')\n            ? `${cur - amount}px`\n            : `${cur + amount}px`\n          break\n      }\n\n      payload.value = updated\n      return payload\n    })\n    .forEach(({el, style, value}) =>\n      el.style[style] = value.join(' '))\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { TinyColor } from '@ctrl/tinycolor'\n\nimport { metaKey, getStyle, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},shift+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+shift+up,${metaKey}+down,${metaKey}+shift+down,${metaKey}+left,${metaKey}+shift+left,${metaKey}+right,${metaKey}+shift+right`\n\nconst state = {\n  active_color: undefined,\n  elements: [],\n}\n\nexport function HueShift({Color, WebEditor}) {\n  state.active_color   = Color.getActive()\n  state.elements       = []\n\n  WebEditor.onSelectedUpdate(elements => {\n    state.elements = elements\n    Color.setActive(state.active_color)\n  })\n\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n\n    let selectedNodes = state.elements\n      , keys = handler.key.split('+')\n\n    keys.includes('left') || keys.includes('right')\n      ? changeHue(selectedNodes, keys, 's', Color)\n      : changeHue(selectedNodes, keys, 'l', Color)\n  })\n\n  hotkeys(command_events, (e, handler) => {\n    e.preventDefault()\n    let keys = handler.key.split('+')\n    keys.includes('left') || keys.includes('right')\n      ? changeHue(state.elements, keys, 'a', Color)\n      : changeHue(state.elements, keys, 'h', Color)\n  })\n\n  hotkeys(']', (e, handler) => {\n    e.preventDefault()\n\n    if (state.active_color == 'foreground')\n      state.active_color = 'background'\n    else if (state.active_color == 'background')\n      state.active_color = 'border'\n\n    Color.setActive(state.active_color)\n  })\n\n  hotkeys('[', (e, handler) => {\n    e.preventDefault()\n\n    if (state.active_color == 'background')\n      state.active_color = 'foreground'\n    else if (state.active_color == 'border')\n      state.active_color = 'background'\n\n    Color.setActive(state.active_color)\n  })\n\n  return () => {\n    hotkeys.unbind(key_events)\n    hotkeys.unbind(command_events)\n    hotkeys.unbind('up,down,left,right')\n  }\n}\n\nexport function changeHue(els, direction, prop, Color) {\n  els\n    .map(el => showHideSelected(el))\n    .map(el => {\n      const { foreground, background, border } = extractPalleteColors(el)\n\n      // todo: teach hueshift to do handle color\n      switch(Color.getActive()) {\n        case 'background':\n          return { el, current: background.color.toHsl(), style: background.style }\n        case 'foreground':\n          return { el, current: foreground.color.toHsl(), style: foreground.style }\n        case 'border': {\n          if (el.style.border === '') el.style.border = '1px solid black'\n          return { el, current: border.color.toHsl(), style: border.style }\n        }\n      }\n    })\n    .map(payload =>\n      Object.assign(payload, {\n        amount:   direction.includes('shift') ? 10 : 1,\n        negative: direction.includes('down') || direction.includes('left'),\n      }))\n    .map(payload => {\n      if (prop === 's' || prop === 'l' || prop === 'a')\n        payload.amount = payload.amount * 0.01\n\n      payload.current[prop] = payload.negative\n        ? payload.current[prop] - payload.amount\n        : payload.current[prop] + payload.amount\n\n      if (prop === 's' || prop === 'l' || prop === 'a') {\n        if (payload.current[prop] > 1) payload.current[prop] = 1\n        if (payload.current[prop] < 0) payload.current[prop] = 0\n      }\n\n      return payload\n    })\n    .forEach(({el, style, current}) => {\n      let color = new TinyColor(current).setAlpha(current.a)\n      el.style[style] = color.toHslString()\n\n      if (style == 'color') Color.foreground.color(color.toHslString())\n      if (style == 'backgroundColor') Color.background.color(color.toHslString())\n    })\n}\n\nexport function extractPalleteColors(el) {\n  if (el instanceof SVGElement) {\n    const  fg_temp = getStyle(el, 'stroke')\n\n    return {\n      foreground: {\n        style: 'stroke',\n        color: new TinyColor(fg_temp === 'none'\n          ? 'rgb(0, 0, 0)'\n          : fg_temp),\n      },\n      background: {\n        style: 'fill',\n        color: new TinyColor(getStyle(el, 'fill')),\n      },\n      border: {\n        style: 'outline',\n        color: new TinyColor(getStyle(el, 'outline')),\n      }\n    }\n  }\n  else\n    return {\n      foreground: {\n        style: 'color',\n        color: new TinyColor(getStyle(el, 'color')),\n      },\n      background: {\n        style: 'backgroundColor',\n        color: new TinyColor(getStyle(el, 'backgroundColor')),\n      },\n      border: {\n        style: 'borderColor',\n        color: new TinyColor(getStyle(el, 'borderColor')),\n      }\n    }\n}\n","import $ from 'blingblingjs'\nimport { isOffBounds, deepElementFromPoint } from '../utilities/'\nimport { clearMeasurements, takeMeasurementOwnership } from './measurements'\n\nconst state = {\n  gridlines:    null,\n  measurements: null,\n  stuck:        {\n    count:        0,\n    measurements: [],\n  },\n}\n\nexport function Guides(uhWebEditor) {\n  $('body').on('mousemove', on_hover)\n  $('body').on('mouseout', on_hoverout)\n\n  window.addEventListener('scroll', hideGridlines)\n  uhWebEditor.onSelectedUpdate(stickGuide)\n\n  return () => {\n    $('body').off('mousemove', on_hover)\n    $('body').off('mouseout', on_hoverout)\n\n    window.removeEventListener('scroll', hideGridlines)\n    uhWebEditor.removeSelectedCallback(stickGuide)\n\n    clearMeasurements()\n    hideGridlines()\n  }\n}\n\nconst on_hover = e => {\n  const target = deepElementFromPoint(e.clientX, e.clientY)\n  if (isOffBounds(target)) return\n  showGridlines(target)\n}\n\nexport function createGuide(vert = true) {\n  let guide = document.createElement('div')\n  let styles = `\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: hsla(330, 100%, 71%, 70%);\n    pointer-events: none;\n    z-index: 2147483643;\n  `\n\n  vert \n    ? styles += `\n        width: 1px;\n        height: 100vh;\n        transform: rotate(180deg);\n      `\n    : styles += `\n        height: 1px;\n        width: 100vw;\n      `\n\n  guide.style = styles\n\n  return guide\n}\n\nconst stickGuide = els => {\n   if (!els.length) return\n\n  if (state.stuck.count >= els.length) {\n    state.stuck.measurements.forEach(el => el.remove())\n    state.stuck.measurements = []\n    state.stuck.count = 0\n  }\n\n  state.stuck.count++\n\n  if (els.length > 1) {\n    state.stuck.measurements = [\n      ...state.stuck.measurements,\n      ...takeMeasurementOwnership(),\n    ]\n  }\n\n  state.gridlines && state.gridlines.remove()\n  state.gridlines = null\n}\n\nconst on_hoverout = () =>\n  hideGridlines()\n\nconst showGridlines = node => {\n  if (state.gridlines) {\n    state.gridlines.style.display = null\n    state.gridlines.update = node.getBoundingClientRect()\n  }\n  else {\n    state.gridlines = document.createElement('uh-web-editor-gridlines')\n    state.gridlines.position = node.getBoundingClientRect()\n\n    document.body.appendChild(state.gridlines)\n  }\n}\n\nconst hideGridlines = () => {\n  if (!state.gridlines) return\n  state.gridlines.style.display = 'none'\n}\n","import $ from 'blingblingjs'\nimport hotkeys from 'hotkeys-js'\nimport { metaKey, getStyle, getSide, showHideSelected } from '../utilities/'\n\nconst key_events = 'up,down,left,right'\n  .split(',')\n  .reduce((events, event) =>\n    `${events},${event},alt+${event},shift+${event},shift+alt+${event}`\n  , '')\n  .substring(1)\n\nconst command_events = `${metaKey}+up,${metaKey}+shift+up,${metaKey}+down,${metaKey}+shift+down`\n\nexport function Position() {\n  const state = {\n    elements: []\n  }\n\n  hotkeys(key_events, (e, handler) => {\n    if (e.cancelBubble) return\n\n    e.preventDefault()\n    positionElement(state.elements, handler.key)\n  })\n\n  const onNodesSelected = els => {\n    state.elements.forEach(el =>\n      el.teardown())\n\n    state.elements = els.map(el =>\n      draggable({el}))\n  }\n\n  const disconnect = () => {\n    state.elements.forEach(el => el.teardown())\n    hotkeys.unbind(key_events)\n    hotkeys.unbind('up,down,left,right')\n  }\n\n  return {\n    onNodesSelected,\n    disconnect,\n  }\n}\n\nexport function draggable({el, surface = el, cursor = 'move', clickEvent}) {\n   const state = {\n    target: el,\n    surface,\n    mouse: {\n      down: false,\n      x: 0,\n      y: 0,\n    },\n    element: {\n      x: 0,\n      y: 0,\n    },\n    travelDistance: 0\n  }\n\n  const setup = () => {\n    el.style.transition   = 'none'\n    surface.style.cursor  = cursor\n\n    surface.addEventListener('mousedown', onMouseDown, true)\n    surface.addEventListener('mouseup', onMouseUp, true)\n    document.addEventListener('mousemove', onMouseMove, true)\n  }\n\n  const teardown = () => {\n    el.style.transition   = null\n    surface.style.cursor  = null\n\n    surface.removeEventListener('mousedown', onMouseDown, true)\n    surface.removeEventListener('mouseup', onMouseUp, true)\n    document.removeEventListener('mousemove', onMouseMove, true)\n  }\n\n  const onMouseDown = e => {\n    if(e.target !== state.surface) return\n    e.preventDefault()\n\n    if(getComputedStyle(el).position == 'static')\n      el.style.position = 'relative'\n    el.style.willChange = 'top,left'\n\n    if (el instanceof SVGElement) {\n      const translate = el.getAttribute('transform')\n\n      const [ x, y ] = translate\n        ? extractSVGTranslate(translate)\n        : [0,0]\n\n      state.element.x  = x\n      state.element.y  = y\n    }\n    else {\n      state.element.x  = parseInt(getStyle(el, 'left'))\n      state.element.y  = parseInt(getStyle(el, 'top'))\n    }\n\n    state.mouse.x        = e.clientX\n    state.mouse.y        = e.clientY\n    state.mouse.down     = true\n    state.travelDistance = 0\n  }\n\n  const onMouseUp = e => {\n    if(e.target !== state.surface) return\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    state.mouse.down = false\n    el.style.willChange = null\n\n    if (el instanceof SVGElement) {\n      const translate = el.getAttribute('transform')\n\n      const [ x, y ] = translate\n        ? extractSVGTranslate(translate)\n        : [0,0]\n\n      state.element.x    = x\n      state.element.y    = y\n    }\n    else {\n      state.element.x    = parseInt(el.style.left) || 0\n      state.element.y    = parseInt(el.style.top) || 0\n    }\n\n    const treatAsClick = !state.travelDistance || state.travelDistance < 5\n    if (clickEvent && treatAsClick) clickEvent(e);\n    state.travelDistance = 0 // reset after\n  }\n\n  const onMouseMove = e => {\n    if (!state.mouse.down) return\n\n    e.preventDefault()\n    e.stopPropagation()\n\n\n    if (el instanceof SVGElement) {\n      el.setAttribute('transform', `translate(\n        ${state.element.x + e.clientX - state.mouse.x},\n        ${state.element.y + e.clientY - state.mouse.y}\n      )`)\n    }\n    else {\n      el.style.left = state.element.x + e.clientX - state.mouse.x + 'px'\n      el.style.top  = state.element.y + e.clientY - state.mouse.y + 'px'\n    }\n\n    state.travelDistance += 1\n  }\n\n  setup()\n  el.teardown = teardown\n\n  return el\n}\n\nexport function positionElement(els, direction) {\n  els\n    .map(el => ensurePositionable(el))\n    .map(el => showHideSelected(el))\n    .map(el => ({\n        el,\n        ...extractCurrentValueAndSide(el, direction),\n        amount:   direction.split('+').includes('shift') ? 10 : 1,\n        negative: determineNegativity(el, direction),\n    }))\n    .map(payload =>\n      Object.assign(payload, {\n        position: payload.negative\n          ? payload.current + payload.amount\n          : payload.current - payload.amount\n      }))\n    .forEach(({el, style, position}) =>\n      el instanceof SVGElement\n        ? setTranslateOnSVG(el, direction, position)\n        : el.style[style] = position + 'px')\n}\n\nconst extractCurrentValueAndSide = (el, direction) => {\n  let style, current\n\n  if (el instanceof SVGElement) {\n    const translate = el.attr('transform')\n\n    const [ x, y ] = translate\n      ? extractSVGTranslate(translate)\n      : [0,0]\n\n    style   = 'transform'\n    current = direction.includes('down') || direction.includes('up')\n      ? y\n      : x\n  }\n  else {\n    const side = getSide(direction).toLowerCase()\n    style = (side === 'top' || side === 'bottom') ? 'top' : 'left'\n    current = getStyle(el, style)\n\n    current === 'auto'\n      ? current = 0\n      : current = parseInt(current, 10)\n  }\n\n  return { style, current }\n}\n\nconst extractSVGTranslate = translate =>\n  translate.substring(\n    translate.indexOf('(') + 1,\n    translate.indexOf(')')\n  ).split(',')\n  .map(val => parseFloat(val))\n\nconst setTranslateOnSVG = (el, direction, position) => {\n  const transform = el.attr('transform')\n  const [ x, y ] = transform\n    ? extractSVGTranslate(transform)\n    : [0,0]\n\n  const pos = direction.includes('down') || direction.includes('up')\n    ? `${x},${position}`\n    : `${position},${y}`\n\n  el.attr('transform', `translate(${pos})`)\n}\n\nconst determineNegativity = (el, direction) =>\n  direction.includes('right') || direction.includes('down')\n\nconst ensurePositionable = el => {\n  if (el instanceof HTMLElement)\n    el.style.position = 'relative'\n  return el\n}\n","import $ from 'blingblingjs'\nimport { createClassname, schemeRule } from '../../utilities/'\nimport { draggable } from '../../features/'\nimport { MetatipStyles, MetatipLightStyles, MetatipDarkStyles } from '../styles.store'\n\nexport class Metatip extends HTMLElement {\n\n  constructor() {\n    super()\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.applyScheme = schemeRule(\n      this.$shadow,\n      MetatipStyles, MetatipLightStyles, MetatipDarkStyles\n    )\n\n    this.observe = this.observe.bind(this)\n    this.dispatchQuery = this.dispatchQuery.bind(this)\n    this.dispatchUnQuery = this.dispatchUnQuery.bind(this)\n  }\n\n  connectedCallback() {\n    this.applyScheme(document.querySelector(\"uh-web-editor\").getAttribute(\"color-scheme\"))\n    $(this.$shadow.host).on('mouseenter', this.observe)\n  }\n\n  disconnectedCallback() {\n    this.unobserve()\n  }\n\n  dispatchQuery(e) {\n    this.$shadow.host.dispatchEvent(new CustomEvent('query', {\n      bubbles: true,\n      detail:   {\n        text:       e.target.textContent,\n        activator:  e.type,\n      }\n    }))\n  }\n\n  observe() {\n    $('h5 > a', this.$shadow).on('click mouseenter', this.dispatchQuery)\n    $('h5 > a', this.$shadow).on('mouseleave', this.dispatchUnQuery)\n\n    draggable({\n      el: this,\n      surface: this.$shadow.querySelector('header'),\n      cursor: 'grab',\n    })\n  }\n\n  unobserve() {\n    $('h5 > a', this.$shadow).off('click mouseenter', this.dispatchQuery)\n    $('h5 > a', this.$shadow).off('mouseleave', this.dispatchUnQuery)\n  }\n\n  dispatchUnQuery(e) {\n    this.$shadow.host.dispatchEvent(new CustomEvent('unquery', {\n      bubbles: true\n    }))\n    this.unobserve()\n    this.teardown()\n  }\n\n  set meta(data) {\n    this.$shadow.innerHTML = this.render(data)\n  }\n\n  render({el, width, height, localModifications, notLocalModifications}) {\n    return `\n      <figure>\n        <header>\n          <h5>\n            <a node>${el.nodeName.toLowerCase()}</a>\n            <a>${el.id && '#' + el.id}</a>\n            ${createClassname(el).split('.')\n              .filter(name => name != '')\n              .reduce((links, name) => `\n                ${links}\n                <a>.${name}</a>\n              `, '')\n            }\n          </h5>\n          <small>\n            <span>${Math.round(width)}</span><span brand>px</span>\n            <span divider></span>\n            <span>${Math.round(height)}</span><span brand>px</span>\n          </small>\n        </header>\n\n        <code>${notLocalModifications.reduce((items, item) => `\n          ${items}\n          <span><span prop>${item.prop}</span>:</span>\n          <span value>${item.value}</span>\n        `, '')}\n        </code>\n        ${localModifications.length ? `\n          <details>\n            <summary>Local Modifications / Inline Styles</summary>\n            <code>${localModifications.reduce((items, item) => `\n              ${items}\n              <span><span prop>${item.prop}</span>:</span>\n              <span value>${item.value}</span>\n            `, '')}\n            </code>\n          </details>\n        ` : ''}\n      </figure>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-metatip', Metatip)\n","import $ from 'blingblingjs'\nimport { Metatip } from './metatip.element.js'\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { draggable } from '../../features/'\nimport { getStyle, getComputedBackgroundColor } from '../../utilities'\nimport { getContrastingColor } from '../../utilities'\nimport { functionalNotate } from '../../features/color.js'\n\nconst modemap = {\n  'hex': 'toHexString',\n  'hsl': 'toHslString',\n  'rgb': 'toRgbString',\n}\n\nexport class Ally extends Metatip {\n  constructor() {\n    super()\n    this.copyColorSwatch = this.copyColorSwatch.bind(this)\n  }\n\n  async copyToClipboard(text) {\n    const {state} = await navigator.permissions.query({name:'clipboard-write'})\n\n    if (state === 'granted')\n      navigator.clipboard.writeText(text)\n  }\n\n  copyColorSwatch(event) {\n    this.copyToClipboard(event.currentTarget.querySelector('span').innerText.trim())\n  }\n\n  observe() {\n    $('[color-swatch]', this.$shadow).on('click', this.copyColorSwatch)\n\n    draggable({\n      el: this,\n      surface: this.$shadow.querySelector('header'),\n      cursor: 'grab',\n    })\n  }\n\n  unobserve() {\n    $('[color-swatch]', this.$shadow).off('click', this.copyColorSwatch)\n  }\n\n  render({el, ally_attributes, contrast_results}) {\n    const colormode = modemap[$('uh-web-editor').attr('color-mode')]\n\n    const foreground = el instanceof SVGElement\n      ? (getStyle(el, 'fill') || getStyle(el, 'stroke'))\n      : getStyle(el, 'color')\n    const background = getComputedBackgroundColor(el)\n\n    const contrastingForegroundColor = getContrastingColor(foreground)\n    const contrastingBackgroundColor = getContrastingColor(background)\n\n    this.style.setProperty('--copy-message-left-color', contrastingForegroundColor)\n    this.style.setProperty('--copy-message-right-color', contrastingBackgroundColor)\n\n    return `\n      <figure>\n        <header>\n          <h5>&#60;${el.nodeName.toLowerCase()}&#62;${el.id && '#' + el.id}</h5>\n        </header>\n        <div color-swatches>\n          <span color-swatch style=\"background-color:${foreground};\" tabindex=\"0\">\n            <small style=\"color:${contrastingForegroundColor};\">\n              Foreground\n            </small>\n            <span style=\"color:${contrastingForegroundColor};\">\n              ${functionalNotate(new TinyColor(foreground)[colormode]())}\n            </span>\n          </span>\n          <span color-swatch style=\"background-color:${background};\" tabindex=\"0\">\n            <small style=\"color:${contrastingBackgroundColor};\">\n              Background\n            </small>\n            <span style=\"color:${contrastingBackgroundColor};\">\n              ${functionalNotate(new TinyColor(background)[colormode]())}\n            </span>\n          </span>\n        </div>\n        ${contrast_results}\n        ${ally_attributes.length > 0\n          ? `<code accessibility>\n                <div>\n                  ${ally_attributes.reduce((items, attr) => `\n                    ${items}\n                    <span prop>${attr.prop}:</span>\n                    <span value>${attr.value}</span>\n                  `, '')}\n                </div>\n              </code>`\n          : ''\n        }\n\n      </figure>\n    `\n  }\n}\n\ncustomElements.define('uh-web-editor-ally', Ally)\n","export const cursor = `\n  <svg class=\"icon-cursor\" version=\"1.1\" viewBox=\"0 0 32 32\">\n    <path d=\"M16.689 17.655l5.311 12.345-4 2-4.646-12.678-7.354 6.678v-26l20 16-9.311 1.655z\"></path>\n  </svg>\n`\n\nexport const move = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z\"/>\n  </svg>\n`\n\nexport const search = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n  </svg>\n`\n\nexport const margin = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z\"/>\n  </svg>\n`\n\nexport const padding = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z\"/>\n  </svg>\n`\n\nexport const font = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z\"/>\n  </svg>\n`\n\nexport const text = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n  </svg>\n`\n\nexport const align = `\n  <svg viewBox=\"0 0 24 24\" style=\"transform:rotateZ(90deg);\">\n    <path d=\"M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z\"/>\n  </svg>\n`\n\nexport const resize = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z\"/>\n  </svg>\n`\n\nexport const transform = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M12,7C6.48,7,2,9.24,2,12c0,2.24,2.94,4.13,7,4.77V20l4-4l-4-4v2.73c-3.15-0.56-5-1.9-5-2.73c0-1.06,3.04-3,8-3s8,1.94,8,3\n    c0,0.73-1.46,1.89-4,2.53v2.05c3.53-0.77,6-2.53,6-4.58C22,9.24,17.52,7,12,7z\"/>\n  </svg>\n`\n\nexport const border = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M13 7h-2v2h2V7zm0 4h-2v2h2v-2zm4 0h-2v2h2v-2zM3 3v18h18V3H3zm16 16H5V5h14v14zm-6-4h-2v2h2v-2zm-4-4H7v2h2v-2z\"/>\n  </svg>\n`\n\nexport const hueshift = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/>\n  </svg>\n`\n\nexport const boxshadow = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z\"/>\n  </svg>\n`\n\nexport const inspector = `\n  <svg viewBox=\"0 0 24 24\">\n    <g>\n      <rect x=\"11\" y=\"7\" width=\"2\" height=\"2\"/>\n      <rect x=\"11\" y=\"11\" width=\"2\" height=\"6\"/>\n      <path d=\"M12,2C6.48,2,2,6.48,2,12c0,5.52,4.48,10,10,10s10-4.48,10-10C22,6.48,17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8\n        c0-4.41,3.59-8,8-8s8,3.59,8,8C20,16.41,16.41,20,12,20z\"/>\n    </g>\n  </svg>\n`\n\nexport const camera = `\n  <svg viewBox=\"0 0 24 24\">\n    <circle cx=\"12\" cy=\"12\" r=\"3.2\"/>\n    <path d=\"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/>\n  </svg>\n`\n\nexport const guides = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M21,6H3C1.9,6,1,6.9,1,8v8c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V8C23,6.9,22.1,6,21,6z M21,16H3V8h2v4h2V8h2v4h2V8h2v4h2V8\n    h2v4h2V8h2V16z\"/>\n  </svg>\n`\n\nexport const color_text = `\n  <svg viewBox=\"3 -2 19 25\">\n    <path d=\"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z\"/>\n  </svg>\n`\n\nexport const color_background = `\n  <svg viewBox=\"0 0 24 18\">\n    <path d=\"M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z\"/>\n  </svg>\n`\n\nexport const color_border = `\n  <svg viewBox=\"0 0 24 18\">\n    <path d=\"M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29c-.39-.39-1.02-.39-1.41 0L15 2.25 18.75 6l1.96-1.96z\"/>\n  </svg>\n`\n\nexport const position = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M15.54 5.54L13.77 7.3 12 5.54 10.23 7.3 8.46 5.54 12 2zm2.92 10l-1.76-1.77L18.46 12l-1.76-1.77 1.76-1.77L22 12zm-10 2.92l1.77-1.76L12 18.46l1.77-1.76 1.77 1.76L12 22zm-2.92-10l1.76 1.77L5.54 12l1.76 1.77-1.76 1.77L2 12z\"/>\n    <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n  </svg>\n`\n\nexport const accessibility = `\n  <svg viewBox=\"0 0 24 24\">\n    <path d=\"M12,2c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S10.9,2,12,2z M21,9h-6v13h-2v-6h-2v6H9V9H3V7h18V9z\"/>\n  </svg>\n`","import $                   from 'blingblingjs'\nimport hotkeys             from 'hotkeys-js'\nimport * as Icons          from '../uh-web-editor/uh-web-editor.icons'\nimport { HotkeymapStyles, HotkeymapLightStyles, HotkeymapDarkStyles } from '../styles.store'\nimport { metaKey, altKey, schemeRule } from '../../utilities/'\n\nexport class HotkeyMap extends HTMLElement {\n\n  constructor() {\n    super()\n\n    this.keyboard_model = {\n      num:    ['`','1','2','3','4','5','6','7','8','9','0','-','=','delete'],\n      tab:    ['tab','q','w','e','r','t','y','u','i','o','p','[',']','\\\\'],\n      caps:   ['caps','a','s','d','f','g','h','j','k','l','\\'','return'],\n      shift:  ['shift','z','x','c','v','b','n','m',',','.','/','shift'],\n      space:  [altKey, metaKey, 'spacebar', metaKey, altKey],\n    }\n\n    this.key_size_model = {\n      num:    {12:2},\n      tab:    {0:2},\n      caps:   {0:3,11:3},\n      shift:  {0:6,11:6},\n      space:  {2:10},\n    }\n\n    this.$shadow    = this.attachShadow({mode: 'closed'})\n\n    this._hotkey    = ''\n    this._usedkeys  = []\n\n    this.tool       = 'hotkeymap'\n\n    this.applyScheme = schemeRule(\n      this.$shadow,\n      HotkeymapStyles, HotkeymapLightStyles, HotkeymapDarkStyles\n    )\n  }\n\n  connectedCallback() {\n    this.applyScheme(document.querySelector(\"uh-web-editor\").getAttribute(\"color-scheme\"))\n    this.$shift  = $('[keyboard] > section > [shift]', this.$shadow)\n    this.$ctrl   = $('[keyboard] > section > [ctrl]', this.$shadow)\n    this.$alt    = $(`[keyboard] > section > [${altKey}]`, this.$shadow)\n    this.$cmd    = $(`[keyboard] > section > [${metaKey}]`, this.$shadow)\n    this.$up     = $('[arrows] [up]', this.$shadow)\n    this.$down   = $('[arrows] [down]', this.$shadow)\n    this.$left   = $('[arrows] [left]', this.$shadow)\n    this.$right  = $('[arrows] [right]', this.$shadow)\n  }\n\n  disconnectedCallback() {}\n\n  set tool(tool) {\n    this._tool = tool\n    this.$shadow.innerHTML = this.render()\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n    hotkeys('*', (e, handler) =>\n      this.watchKeys(e, handler))\n  }\n\n  hide() {\n    this.$shadow.host.style.display = 'none'\n    hotkeys.unbind('*')\n  }\n\n  watchKeys(e, handler) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n\n    this.$shift.attr('pressed', hotkeys.shift)\n    this.$alt.attr('pressed', hotkeys[altKey === 'opt' ? 'alt' : altKey])\n    this.$cmd.attr('pressed', hotkeys[metaKey])\n    this.$up.attr('pressed', e.code === 'ArrowUp')\n    this.$down.attr('pressed', e.code === 'ArrowDown')\n    this.$left.attr('pressed', e.code === 'ArrowLeft')\n    this.$right.attr('pressed', e.code === 'ArrowRight')\n\n    const { negative, negative_modifier, side, amount } = this.createCommand({e, hotkeys})\n\n    $('[command]', this.$shadow)[0].innerHTML = this.displayCommand({\n      negative, negative_modifier, side, amount,\n    })\n  }\n\n  createCommand({e:{code}, hotkeys}) {\n    let amount              = hotkeys.shift ? 10 : 1\n    let negative            = hotkeys.alt ? 'Subtract' : 'Add'\n    let negative_modifier   = hotkeys.alt ? 'from' : 'to'\n\n    let side = '[arrow key]'\n    if (code === 'ArrowUp')     side = 'the top side'\n    if (code === 'ArrowDown')   side = 'the bottom side'\n    if (code === 'ArrowLeft')   side = 'the left side'\n    if (code === 'ArrowRight')  side = 'the right side'\n    if (hotkeys[metaKey])       side = 'all sides'\n\n    if (hotkeys[metaKey] && code === 'ArrowDown') {\n      negative            = 'Subtract'\n      negative_modifier   = 'from'\n    }\n\n    return {\n      negative, negative_modifier, amount, side,\n    }\n  }\n\n  displayCommand({negative, negative_modifier, side, amount}) {\n    return `\n      <span negative>${negative} </span>\n      <span tool>${this._tool}</span>\n      <span light> ${negative_modifier} </span>\n      <span side>${side}</span>\n      <span light> by </span>\n      <span amount>${amount}</span>\n    `\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${Icons[this._tool]}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          ${this.displayCommand({\n            negative: `[${altKey}] `,\n            negative_modifier: ' to ',\n            tool: this._tool,\n            side: '[arrow key]',\n            amount: 1\n          })}\n        </div>\n        <div card>\n          <div keyboard>\n            ${Object.entries(this.keyboard_model).reduce((keyboard, [row_name, row]) => `\n              ${keyboard}\n              <section ${row_name}>${row.reduce((row, key, i) => `\n                ${row}\n                <span\n                  ${key}\n                  ${this._hotkey == key ? 'hotkey title=\"Tool Shortcut Hotkey\"' : ''}\n                  ${this._usedkeys.includes(key) ? 'used' : ''}\n                  style=\"flex:${this.key_size_model[row_name][i] || 1};\"\n                >${key}</span>\n              `, '')}\n              </section>\n            `, '')}\n          </div>\n          <div>\n            <section arrows>\n              <span up used></span>\n              <span down used></span>\n              <span left used></span>\n              <span right used></span>\n            </section>\n          </div>\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkey-map', HotkeyMap)\n","import { HotkeyMap } from './base.element'\nimport { guides as icon } from '../uh-web-editor/uh-web-editor.icons'\n\nexport class GuidesHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'g'\n    this._usedkeys  = []\n    this.tool       = 'guides'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-guides', GuidesHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { inspector as icon } from '../uh-web-editor/uh-web-editor.icons'\nimport { altKey } from '../../utilities';\n\nexport class InspectorHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'i'\n    this._usedkeys  = [altKey]\n    this.tool       = 'inspector'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-inspector', InspectorHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { accessibility as icon } from '../uh-web-editor/uh-web-editor.icons'\nimport { altKey } from '../../utilities';\n\nexport class AccessibilityHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'p'\n    this._usedkeys  = [altKey]\n    this.tool       = 'accessibility'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-accessibility', AccessibilityHotkeys)\n","import { HotkeyMap } from './base.element'\n\nexport class MoveHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey  = 'v'\n    this.tool     = 'move'\n  }\n\n  createCommand({e:{code}, hotkeys}) {\n    let amount, negative, negative_modifier\n\n    let side = '[arrow key]'\n    if (code === 'ArrowUp')     side = 'up & out of div'\n    if (code === 'ArrowDown')   side = 'down & into next sibling / out & under div'\n    if (code === 'ArrowLeft')   side = 'towards the front/top of the stack'\n    if (code === 'ArrowRight')  side = 'towards the back/bottom of the stack'\n\n    return {\n      negative, negative_modifier, amount, side,\n    }\n  }\n\n  displayCommand({side}) {\n    return `\n      <span tool>${this._tool}</span>\n      <span side>${side}</span>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-move', MoveHotkeys)","import { HotkeyMap } from './base.element'\nimport { metaKey, altKey }   from '../../utilities/'\n\nexport class MarginHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'm'\n    this._usedkeys  = ['shift',metaKey,altKey]\n\n    this.tool       = 'margin'\n  }\n}\n\ncustomElements.define('hotkeys-margin', MarginHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { metaKey, altKey }   from '../../utilities/'\n\nexport class PaddingHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'p'\n    this._usedkeys  = ['shift',metaKey,altKey]\n\n    this.tool       = 'padding'\n  }\n}\n\ncustomElements.define('hotkeys-padding', PaddingHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { metaKey } from '../../utilities';\n\nconst h_alignOptions  = ['left','center','right']\nconst v_alignOptions  = ['top','center','bottom']\nconst distOptions     = ['evenly','normal','between']\n\nexport class AlignHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey   = 'a'\n    this._usedkeys = [metaKey,'shift']\n\n    this._htool   = 0\n    this._vtool   = 0\n    this._dtool   = 1\n\n    this._side         = 'top left'\n    this._direction    = 'row'\n    this._distribution = distOptions[this._dtool]\n    this._wrap         = 'no wrap'\n\n    this.tool     = 'align'\n  }\n\n  createCommand({e:{code}, hotkeys}) {\n    let amount            = this._distribution\n      , negative_modifier = this._direction\n      , side              = this._side\n      , negative          = this._wrap\n\n    if (hotkeys[metaKey] && hotkeys.shift) {\n      if (code === 'ArrowUp')\n        negative = 'no wrap'\n      else if (code === 'ArrowDown')\n        negative = 'wrap'\n      else if (code === 'ArrowLeft')\n        negative_modifier = `${negative_modifier}-reverse`\n    }\n    else if (hotkeys[metaKey] && (code === 'ArrowRight' || code === 'ArrowDown')) {\n      negative_modifier = code === 'ArrowDown'\n        ? 'column'\n        : 'row'\n      this._direction = negative_modifier\n    }\n    else {\n      if (code === 'ArrowUp')           side = this.clamp(v_alignOptions, '_vtool')\n      else if (code === 'ArrowDown')    side = this.clamp(v_alignOptions, '_vtool', true)\n      else                              side = v_alignOptions[this._vtool]\n\n      if (code === 'ArrowLeft')         side += ' ' + this.clamp(h_alignOptions, '_htool')\n      else if (code === 'ArrowRight')   side += ' ' + this.clamp(h_alignOptions, '_htool', true)\n      else                              side += ' ' + h_alignOptions[this._htool]\n\n      this._side = side\n\n      if (hotkeys.shift && (code === 'ArrowRight' || code === 'ArrowLeft')) {\n        amount = this.clamp(distOptions, '_dtool', code === 'ArrowRight')\n        this._distribution = amount\n      }\n    }\n\n    return {\n      negative, negative_modifier, amount, side,\n    }\n  }\n\n  displayCommand({side, amount, negative, negative_modifier}) {\n    if (amount == 1) amount = this._distribution\n    if (negative_modifier == ' to ') negative_modifier = this._direction\n\n    return `\n      <span tool>${this._tool}</span>\n      <span light> as </span>\n      <span>${negative_modifier}:</span>\n      <span side>${side}</span>\n      <span light>, distributed </span>\n      <span amount>${amount},</span>\n      <span light> with </span>\n      <span>${negative}</span>\n    `\n  }\n\n  clamp(range, tool, increment = false) {\n    if (increment) {\n      if (this[tool] < range.length - 1)\n        this[tool] = this[tool] + 1\n    }\n    else if (this[tool] > 0)\n      this[tool] = this[tool] - 1\n\n    return range[this[tool]]\n  }\n}\n\ncustomElements.define('hotkeys-align', AlignHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { hueshift as icon } from '../uh-web-editor/uh-web-editor.icons'\nimport { metaKey, altKey } from '../../utilities';\n\nexport class HueshiftHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'h'\n    this._usedkeys  = ['shift',metaKey]\n    this.tool       = 'hueshift'\n  }\n\n  createCommand({e:{code}, hotkeys}) {\n    let amount              = hotkeys.shift ? 10 : 1\n    let negative            = '[increase/decrease]'\n    let negative_modifier   = 'by'\n    let side                = '[arrow key]'\n\n    // saturation\n    if (hotkeys[metaKey]) {\n      side ='hue'\n\n      if (code === 'ArrowDown')\n        negative  = 'decrease'\n      if (code === 'ArrowUp')\n        negative  = 'increase'\n    }\n    else if (code === 'ArrowLeft' || code === 'ArrowRight') {\n      side = 'saturation'\n\n      if (code === 'ArrowLeft')\n        negative  = 'decrease'\n      if (code === 'ArrowRight')\n        negative  = 'increase'\n    }\n    // lightness\n    else if (code === 'ArrowUp' || code === 'ArrowDown') {\n      side = 'lightness'\n\n      if (code === 'ArrowDown')\n        negative  = 'decrease'\n      if (code === 'ArrowUp')\n        negative  = 'increase'\n    }\n\n    return {\n      negative, negative_modifier, amount, side,\n    }\n  }\n\n  displayCommand({negative, negative_modifier, side, amount}) {\n    if (negative === `[${altKey}] `)\n      negative = '[increase/decrease]'\n    if (negative_modifier === ' to ')\n      negative_modifier = ' by '\n\n    return `\n      <span negative>${negative}</span>\n      <span side tool>${side}</span>\n      <span light>${negative_modifier}</span>\n      <span amount>${amount}</span>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-hueshift', HueshiftHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { boxshadow as icon } from '../uh-web-editor/uh-web-editor.icons'\nimport { metaKey } from '../../utilities';\n\nexport class BoxshadowHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'd'\n    this._usedkeys  = ['shift',metaKey]\n    this.tool       = 'boxshadow'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-boxshadow', BoxshadowHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { position as icon } from '../uh-web-editor/uh-web-editor.icons'\nimport { altKey } from '../../utilities';\n\nexport class PositionHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'l'\n    this._usedkeys  = ['shift',altKey]\n    this.tool       = 'position'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-position', PositionHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { metaKey, altKey } from '../../utilities';\n\nexport class FontHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'f'\n    this._usedkeys  = ['shift',metaKey]\n    this.tool       = 'font'\n  }\n\n  createCommand({e:{code}, hotkeys}) {\n    let amount              = hotkeys.shift ? 10 : 1\n    let negative            = '[increase/decrease]'\n    let negative_modifier   = 'by'\n    let side                = '[arrow key]'\n\n    // kerning\n    if (hotkeys.shift && (code === 'ArrowLeft' || code === 'ArrowRight')) {\n      side    = 'kerning'\n      amount  = '1px'\n\n      if (code === 'ArrowLeft')\n        negative  = 'decrease'\n      if (code === 'ArrowRight')\n        negative  = 'increase'\n    }\n    // leading\n    else if (hotkeys.shift && (code === 'ArrowUp' || code === 'ArrowDown')) {\n      side    = 'leading'\n      amount  = '1px'\n\n      if (code === 'ArrowUp')\n        negative  = 'increase'\n      if (code === 'ArrowDown')\n        negative  = 'decrease'\n    }\n    // font weight\n    else if (hotkeys[metaKey] && (code === 'ArrowUp' || code === 'ArrowDown')) {\n      side                = 'font weight'\n      amount              = ''\n      negative_modifier   = ''\n\n      if (code === 'ArrowUp')\n        negative  = 'increase'\n      if (code === 'ArrowDown')\n        negative  = 'decrease'\n    }\n    // font size\n    else if (code === 'ArrowUp' || code === 'ArrowDown') {\n      side    = 'font size'\n      amount  = '1px'\n\n      if (code === 'ArrowUp')\n        negative  = 'increase'\n      if (code === 'ArrowDown')\n        negative  = 'decrease'\n    }\n    // text alignment\n    else if (code === 'ArrowRight' || code === 'ArrowLeft') {\n      side                = 'text alignment'\n      amount              = ''\n      negative            = 'adjust'\n      negative_modifier   = ''\n    }\n\n    return {\n      negative, negative_modifier, amount, side,\n    }\n  }\n\n  displayCommand({negative, negative_modifier, side, amount}) {\n    if (negative === `[${altKey}] `)\n      negative = '[increase/decrease]'\n    if (negative_modifier === ' to ')\n      negative_modifier = ' by '\n\n    return `\n      <span negative>${negative}</span>\n      <span side tool>${side}</span>\n      <span light>${negative_modifier}</span>\n      <span amount>${amount}</span>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-font', FontHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { text as icon } from '../uh-web-editor/uh-web-editor.icons'\n\nexport class TextHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 'e'\n    this._usedkeys  = []\n    this.tool       = 'text'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-text', TextHotkeys)\n","import { HotkeyMap } from './base.element'\nimport { search as icon } from '../uh-web-editor/uh-web-editor.icons'\n\nexport class SearchHotkeys extends HotkeyMap {\n  constructor() {\n    super()\n\n    this._hotkey    = 's'\n    this._usedkeys  = []\n    this.tool       = 'search'\n  }\n\n  show() {\n    this.$shadow.host.style.display = 'flex'\n  }\n\n  render() {\n    return `\n      <article>\n        <div tool-icon>\n          <span>\n            ${icon}\n            ${this._tool} Tool\n          </span>\n        </div>\n        <div command>\n          coming soon\n        </div>\n      </article>\n    `\n  }\n}\n\ncustomElements.define('hotkeys-search', SearchHotkeys)\n","import $        from 'blingblingjs'\nimport hotkeys  from 'hotkeys-js'\n\nimport { GuidesHotkeys }        from './guides.element'\nimport { InspectorHotkeys }     from './inspector.element'\nimport { AccessibilityHotkeys } from './accessibility.element'\nimport { MoveHotkeys }          from './move.element'\nimport { MarginHotkeys }        from './margin.element'\nimport { PaddingHotkeys }       from './padding.element'\nimport { AlignHotkeys }         from './align.element'\nimport { HueshiftHotkeys }      from './hueshift.element'\nimport { BoxshadowHotkeys }     from './boxshadow.element'\nimport { PositionHotkeys }      from './position.element'\nimport { FontHotkeys }          from './font.element'\nimport { TextHotkeys }          from './text.element'\nimport { SearchHotkeys }        from './search.element'\n\nexport class Hotkeys extends HTMLElement {\n\n  constructor() {\n    super()\n\n    this.tool_map = {\n      guides:         document.createElement('hotkeys-guides'),\n      inspector:      document.createElement('hotkeys-inspector'),\n      accessibility:  document.createElement('hotkeys-accessibility'),\n      move:           document.createElement('hotkeys-move'),\n      margin:         document.createElement('hotkeys-margin'),\n      padding:        document.createElement('hotkeys-padding'),\n      align:          document.createElement('hotkeys-align'),\n      hueshift:       document.createElement('hotkeys-hueshift'),\n      boxshadow:      document.createElement('hotkeys-boxshadow'),\n      position:       document.createElement('hotkeys-position'),\n      font:           document.createElement('hotkeys-font'),\n      text:           document.createElement('hotkeys-text'),\n      search:         document.createElement('hotkeys-search'),\n    }\n\n    Object.values(this.tool_map).forEach(tool =>\n      this.appendChild(tool))\n  }\n\n  connectedCallback() {\n    hotkeys('shift+/', e =>\n      this.cur_tool\n        ? this.hideTool()\n        : this.showTool())\n\n    hotkeys('esc', e => this.hideTool())\n  }\n\n  disconnectedCallback() {}\n\n  hideTool() {\n    if (!this.cur_tool) return\n    this.cur_tool.hide()\n    this.cur_tool = null\n  }\n\n  showTool() {\n    this.cur_tool = this.tool_map[\n      $('uh-web-editor')[0].activeTool]\n    this.cur_tool.show()\n  }\n}\n\ncustomElements.define('uh-web-editor-hotkeys', Hotkeys)\n","import * as Icons from './uh-web-editor.icons'\nimport { metaKey, altKey } from '../../utilities/'\n\nexport const WebEditorModel = {\n  g: {\n    tool:        'guides',\n    icon:        Icons.guides,\n    label:       '<span><u>G</u>uides</span>',\n    description: 'Verify alignment & measure distances',\n    instruction: `<div table>\n                    <div>\n                      <b>Element Guides:</b>\n                      <span>hover</span>\n                    </div>\n                    <div>\n                      <b>Measure:</b>\n                      <span>click+hover</span>\n                    </div>\n                    <div>\n                      <b>Sticky Measurements:</b>\n                      <span>shift+click</span>\n                    </div>\n                  </div>`,\n  },\n  i: {\n    tool:        'inspector',\n    icon:        Icons.inspector,\n    label:       '<span><u>I</u>nspect</span>',\n    description: 'Peek into common & current styles of an element',\n    instruction: `<div table>\n                    <div>\n                      <b>Pin it:</b>\n                      <span>click</span>\n                    </div>\n                    <div>\n                      <b>Position it:</b>\n                      <span>click & drag by the header area</span>\n                    </div>\n                  </div>`,\n  },\n  x: {\n    tool:        'accessibility',\n    icon:        Icons.accessibility,\n    label:       'Accessibility',\n    description: 'Peek into A11y attributes & compliance status',\n    instruction: `<div table>\n                    <div>\n                      <b>Pin it:</b>\n                      <span>click</span>\n                    </div>\n                  </div>`,\n  },\n  v: {\n    tool:        'move',\n    icon:        Icons.move,\n    label:       '<span>Mo<u>v</u>e</span>',\n    description: 'Move elements laterally or in, out, over, and under',\n    instruction: `<div table>\n                    <div>\n                      <b>Lateral:</b>\n                      <span>click container  drag child</span>\n                    </div>\n                    <div>\n                      <b>Lateral:</b>\n                      <span> </span>\n                    </div>\n                    <div>\n                      <b>Out and above:</b>\n                      <span></span>\n                    </div>\n                    <div>\n                      <b>Down+in, out+under:</b>\n                      <span></span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`,\n  },\n  // r: {\n  //   tool:        'resize',\n  //   icon:        Icons.resize,\n  //   label:       'Resize',\n  //   description: ''\n  // },\n  m: {\n    tool:        'margin',\n    icon:        Icons.margin,\n    label:       '<span><u>M</u>argin</span>',\n    description: 'Add or subtract outer space from any or all sides of the selected element(s)',\n    instruction: `<div table>\n                    <div>\n                      <b>+ Margin:</b>\n                      <span>   </span>\n                    </div>\n                    <div>\n                      <b>- Margin:</b>\n                      <span>${altKey} +    </span>\n                    </div>\n                    <div>\n                      <b>All Sides:</b>\n                      <span>${metaKey} +   </span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`,\n  },\n  p: {\n    tool:        'padding',\n    icon:        Icons.padding,\n    label:       '<span><u>P</u>adding</span>',\n    description: `Add or subtract inner space from any or all sides of the selected element(s)`,\n    instruction: `<div table>\n                    <div>\n                      <b>+ Padding:</b>\n                      <span>   </span>\n                    </div>\n                    <div>\n                      <b>- Padding:</b>\n                      <span>${altKey} +    </span>\n                    </div>\n                    <div>\n                      <b>All Sides:</b>\n                      <span>${metaKey} +   </span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`\n  },\n  // b: {\n  //   tool:        'border',\n  //   icon:        Icons.border,\n  //   label:       'Border',\n  //   description: ''\n  // },\n  a: {\n    tool:        'align',\n    icon:        Icons.align,\n    label:       '<span>Flexbox <u>A</u>lign</span>',\n    description: `Create or modify flexbox direction, distribution, order & wrapping`,\n    instruction: `<div table>\n                    <div>\n                      <b>Rows:</b>\n                      <span>${metaKey} + </span>\n                    </div>\n                    <div>\n                      <b>Columns:</b>\n                      <span>${metaKey} + </span>\n                    </div>\n                    <div>\n                      <b>Alignment:</b>\n                      <span>   </span>\n                    </div>\n                    <div>\n                      <b>Distribution:</b>\n                      <span>Shift +  </span>\n                    </div>\n                    <div>\n                      <b>Order:</b>\n                      <span>${metaKey} + shift +  </span>\n                    </div>\n                    <div>\n                      <b>Wrapping:</b>\n                      <span>${metaKey} + shift +  </span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`,\n  },\n  h: {\n    tool:        'hueshift',\n    icon:        Icons.hueshift,\n    label:       '<span><u>H</u>ue Shift</span>',\n    description: `Change foreground/background hue, brightness, saturation & opacity`,\n    instruction: `<div table>\n                    <div>\n                      <b>Saturation:</b>\n                      <span> </span>\n                    </div>\n                    <div>\n                      <b>Brightness:</b>\n                      <span> </span>\n                    </div>\n                    <div>\n                      <b>Hue:</b>\n                      <span>${metaKey} +   </span>\n                    </div>\n                    <div>\n                      <b>Opacity:</b>\n                      <span>${metaKey} +   </span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`,\n  },\n  d: {\n    tool:        'boxshadow',\n    icon:        Icons.boxshadow,\n    label:       '<span>Sha<u>d</u>ow</span>',\n    description: `Create & adjust position, blur & opacity of a box shadow`,\n    instruction: `<div table>\n                    <div>\n                      <b>X/Y Position:</b>\n                      <span>   </span>\n                    </div>\n                    <div>\n                      <b>Blur:</b>\n                      <span>${altKey} +  </span>\n                    </div>\n                    <div>\n                      <b>Spread:</b>\n                      <span>${altKey} +  </span>\n                    </div>\n                    <div>\n                      <b>Opacity:</b>\n                      <span>${metaKey} +  </span>\n                    </div>\n                  </div>`,\n  },\n  // t: {\n  //   tool:        'transform',\n  //   icon:        Icons.transform,\n  //   label:       '3D Transform',\n  //   description: ''\n  // },\n  l: {\n    tool:        'position',\n    icon:        Icons.position,\n    label:       'Position',\n    description: 'Move svg (x,y) and elements (top,left,bottom,right)',\n    instruction: `<div table>\n                    <div>\n                      <b>Nudge:</b>\n                      <span>   </span>\n                    </div>\n                    <div>\n                      <b>Move:</b>\n                      <span>Click & drag</span>\n                    </div>\n                  </div>`,\n  },\n  f: {\n    tool:        'font',\n    icon:        Icons.font,\n    label:       '<span><u>F</u>ont Styles</span>',\n    description: 'Change size, alignment, leading, letter-spacing, & weight',\n    instruction: `<div table>\n                    <div>\n                      <b>Size:</b>\n                      <span> </span>\n                    </div>\n                    <div>\n                      <b>Alignment:</b>\n                      <span> </span>\n                    </div>\n                    <div>\n                      <b>Leading:</b>\n                      <span>Shift +  </span>\n                    </div>\n                    <div>\n                      <b>Letter-spacing:</b>\n                      <span>Shift +  </span>\n                    </div>\n                    <div>\n                      <b>Weight:</b>\n                      <span>${metaKey} +  </span>\n                    </div>\n                    <div>\n                      <b>Trainer:</b>\n                      <span>shift + /</span>\n                    </div>\n                  </div>`,\n  },\n  e: {\n    tool:        'text',\n    icon:        Icons.text,\n    label:       '<span><u>E</u>dit Text</span>',\n    description: 'Change any text on the page with a <b>double click</b>',\n    instruction: '',\n  },\n  // c: {\n  //   tool:        'screenshot',\n  //   icon:        Icons.camera,\n  //   label:       'Screenshot',\n  //   description: 'Screenshot selected elements or the entire page'\n  // },\n  s: {\n    tool:        'search',\n    icon:        Icons.search,\n    label:       '<span><u>S</u>earch</span>',\n    description: 'Select elements programatically by searching for them or use built in plugins with special commands',\n    instruction: '',\n  },\n}\n","import $          from 'blingblingjs'\nimport hotkeys    from 'hotkeys-js'\n\nimport {\n  Handles, Handle, Label, Overlay, Gridlines, Corners,\n  Hotkeys, Metatip, Ally, Distance, BoxModel, Grip\n} from '..'\n\nimport {\n  Selectable, Moveable, Padding, Margin, EditText, Font,\n  Flex, Search, ColorPicker, BoxShadow, HueShift, MetaTip,\n  Guides, Screenshot, Position, Accessibility, draggable\n} from '../../features'\n\nimport {\n  WebEditorStyles,\n  WebEditorLightStyles,\n  WebEditorDarkStyles\n} from '../styles.store'\n\nimport { WebEditorModel }            from './model'\nimport * as Icons                 from './uh-web-editor.icons'\nimport { provideSelectorEngine }  from '../../features/search'\n// import { PluginRegistry }         from '../../plugins/_registry'\nimport {\n  metaKey,\n  isPolyfilledCE,\n  constructibleStylesheetSupport,\n  schemeRule\n} from '../../utilities'\n\nexport default class WebEditor extends HTMLElement {\n  constructor() {\n    super()\n\n    this.toolbar_model  = WebEditorModel\n    this.$shadow = this.attachShadow({mode: 'closed'})\n    this.applyScheme    = schemeRule(\n      this.$shadow,\n      WebEditorStyles, WebEditorLightStyles, WebEditorDarkStyles\n    )\n  }\n\n  static get observedAttributes() {\n    return ['color-scheme']\n  }\n\n  connectedCallback() {\n    this._tutsBaseURL = this.getAttribute('tutsBaseURL') || 'tuts'\n\n    this.setup()\n\n    this.selectorEngine = Selectable(this)\n    this.colorPicker    = ColorPicker(this.$shadow, this.selectorEngine)\n\n    provideSelectorEngine(this.selectorEngine)\n\n    this.toolSelected($('[data-tool=\"guides\"]', this.$shadow)[0])\n  }\n\n  disconnectedCallback() {\n    this.deactivate_feature()\n    this.cleanup()\n    this.selectorEngine.disconnect()\n    hotkeys.unbind(\n      Object.keys(this.toolbar_model).reduce((events, key) =>\n        events += ',' + key, ''))\n    hotkeys.unbind(`${metaKey}+/`)\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'color-scheme')\n      this.applyScheme(newValue)\n  }\n\n  setup() {\n    this.$shadow.innerHTML = this.render()\n\n    this.hasAttribute('color-mode')\n      ? this.getAttribute('color-mode')\n      : this.setAttribute('color-mode', 'hex')\n\n    this.hasAttribute('color-scheme')\n      ? this.getAttribute('color-scheme')\n      : this.setAttribute('color-scheme', 'auto')\n\n    const main_ol = this.$shadow.querySelector('ol:not([colors])')\n    const buttonPieces = $('li[data-tool], li[data-tool] *', main_ol)\n\n    const clickEvent = (e) => {\n      const target = e.currentTarget || e.target\n      const toolButton = target.closest('[data-tool]')\n      if (toolButton) this.toolSelected(toolButton) && e.stopPropagation();\n    }\n\n    Array.from(buttonPieces)\n    .forEach(toolButton => {\n      draggable({\n        el:this,\n        surface: toolButton,\n        cursor: 'pointer',\n        clickEvent: clickEvent\n      })\n    })\n\n    draggable({\n      el:this,\n      surface: main_ol,\n      cursor: 'grab',\n    })\n\n    Object.entries(this.toolbar_model).forEach(([key, value]) =>\n      hotkeys(key, e => {\n        e.preventDefault()\n        this.toolSelected(\n          $(`[data-tool=\"${value.tool}\"]`, this.$shadow)[0]\n        )\n      })\n    )\n\n    hotkeys(`${metaKey}+/,${metaKey}+.`, e =>\n      this.$shadow.host.style.display =\n        this.$shadow.host.style.display === 'none'\n          ? 'block'\n          : 'none')\n  }\n\n  cleanup() {\n    Array.from(document.body.children)\n      .filter(node => node.nodeName.includes('WEBEDITOR'))\n      .forEach(el => el.remove())\n\n    this.teardown();\n\n    document.querySelectorAll('[data-pseudo-select=true]')\n      .forEach(el =>\n        el.removeAttribute('data-pseudo-select'))\n  }\n\n  toolSelected(el) {\n    if (typeof el === 'string')\n      el = $(`[data-tool=\"${el}\"]`, this.$shadow)[0]\n\n    if (this.active_tool && this.active_tool.dataset.tool === el.dataset.tool) return\n\n    if (this.active_tool) {\n      this.active_tool.attr('data-active', null)\n      this.deactivate_feature()\n    }\n\n    el.attr('data-active', true)\n    this.active_tool = el\n    this[el.dataset.tool]()\n  }\n\n  render() {\n    return `\n      <uh-web-editor-hotkeys></uh-web-editor-hotkeys>\n      <ol constructible-support=\"${constructibleStylesheetSupport ? 'false':'true'}\">\n        ${Object.entries(this.toolbar_model).reduce((list, [key, tool]) => `\n          ${list}\n          <li aria-label=\"${tool.label} Tool\" aria-description=\"${tool.description}\" aria-hotkey=\"${key}\" data-tool=\"${tool.tool}\" data-active=\"${key == 'g'}\">\n            ${tool.icon}\n            ${this.demoTip({key, ...tool})}\n          </li>\n        `,'')}\n      </ol>\n      <ol colors>\n        <li class=\"color\" id=\"foreground\" aria-label=\"Text\" aria-description=\"Change the text color\">\n          <input type=\"color\">\n          ${Icons.color_text}\n        </li>\n        <li class=\"color\" id=\"background\" aria-label=\"Background or Fill\" aria-description=\"Change the background color or fill of svg\">\n          <input type=\"color\">\n          ${Icons.color_background}\n        </li>\n        <li class=\"color\" id=\"border\" aria-label=\"Border or Stroke\" aria-description=\"Change the border color or stroke of svg\">\n          <input type=\"color\">\n          ${Icons.color_border}\n        </li>\n      </ol>\n    `\n  }\n\n  demoTip({key, tool, label, description, instruction}) {\n    return `\n      <aside ${tool}>\n        <figure>\n          <img src=\"${this._tutsBaseURL}/${tool}.gif\" alt=\"${description}\" />\n          <figcaption>\n            <h2>\n              ${label}\n              <span hotkey>${key}</span>\n            </h2>\n            <p>${description}</p>\n            ${instruction}\n          </figcaption>\n        </figure>\n      </aside>\n    `\n  }\n\n  move() {\n    this.deactivate_feature = Moveable(this.selectorEngine)\n  }\n\n  margin() {\n    this.deactivate_feature = Margin(this.selectorEngine)\n  }\n\n  padding() {\n    this.deactivate_feature = Padding(this.selectorEngine)\n  }\n\n  font() {\n    this.deactivate_feature = Font(this.selectorEngine)\n  }\n\n  text() {\n    this.selectorEngine.onSelectedUpdate(EditText)\n    this.deactivate_feature = () =>\n      this.selectorEngine.removeSelectedCallback(EditText)\n  }\n\n  align() {\n    this.deactivate_feature = Flex(this.selectorEngine)\n  }\n\n  search() {\n    this.deactivate_feature = Search($('[data-tool=\"search\"]', this.$shadow))\n  }\n\n  boxshadow() {\n    this.deactivate_feature = BoxShadow(this.selectorEngine)\n  }\n\n  hueshift() {\n    this.deactivate_feature = HueShift({\n      Color:  this.colorPicker,\n      WebEditor: this.selectorEngine,\n    })\n  }\n\n  inspector() {\n    this.deactivate_feature = MetaTip(this.selectorEngine)\n  }\n\n  accessibility() {\n    this.deactivate_feature = Accessibility(this.selectorEngine)\n  }\n\n  guides() {\n    this.deactivate_feature = Guides(this.selectorEngine)\n  }\n\n  screenshot() {\n    this.deactivate_feature = Screenshot()\n  }\n\n  position() {\n    let feature = Position()\n    this.selectorEngine.onSelectedUpdate(feature.onNodesSelected)\n    this.deactivate_feature = () => {\n      this.selectorEngine.removeSelectedCallback(feature.onNodesSelected)\n      feature.disconnect()\n    }\n  }\n\n  execCommand(command) {\n    const query = `/${command}`\n\n    if (PluginRegistry.has(query))\n      return PluginRegistry.get(query)({\n        selected: this.selectorEngine.selection(),\n        query\n      })\n\n    return Promise.resolve(new Error(\"Query not found\"))\n  }\n\n  get activeTool() {\n    return this.active_tool.dataset.tool\n  }\n}\n\ncustomElements.define('uh-web-editor', WebEditor)\n\nexport const WebEditorElement = new (customElements.get('uh-web-editor'))();","export function Screenshot(node, page) {\n  alert('Coming Soon!')\n\n  return () => {}\n}","export const isFirefox = navigator.userAgent.search('Firefox') > 0\nexport const isSafarish = navigator.userAgent.search('Safari') > 0\nexport const isChrome = navigator.userAgent.search('Chrome') > 0\nexport const isSafari = isSafarish && !isChrome\n\nexport const isPolyfilledCE = shadow_node =>\n  shadow_node.children.length === 1 && shadow_node.firstElementChild.nodeName === 'STYLE'\n    ? true\n    : false\n\nconst testConstructible = () => {\n  try {\n    new window.CSSStyleSheet('a{}')\n    return true\n  }\n  catch (e) {\n    return false\n  }\n}\n\nexport const constructibleStylesheetSupport = testConstructible()\n","const state = {\n  history: []\n}\n\nlet sourceMap = {}\n\nconst redoStack = []\n\nconst mutations = {\n  DO (state, payload) {\n    state.history.push(payload)\n    console.log('history', state.history.map(i => i.action))\n    console.log('redoStack', redoStack.map(i => i.action))\n  },\n  UNDO (state) {\n    const last = state.history.length > 0 && state.history.pop() \n    if(!last) return console.error('Nothing to undo')\n    const { parentLocation, location, element, action } = last\n    if(action === 'add') {\n      const el = document.querySelector(location)\n      el.remove()\n    } else if(action === 'delete') {\n      const el = document.createElement(element.tagName)\n      const parent = document.querySelector(parentLocation)\n      parent.appendChild(el)\n      el.outerHTML = element.outerHTML\n    } else if (action === 'edit') {\n      const el = document.querySelector(location)\n      el.outerHTML = element.outerHTML\n    }\n    redoStack.push(last)\n    console.log('history', state.history.map(i => i.action))\n    console.log('redoStack', redoStack.map(i => i.action))\n  },\n  REDO () {\n    const redoingAnUndo = redoStack.length > 0\n    if(!redoingAnUndo) return console.error('Nothing to redo')\n    const last = redoStack.pop()\n    const { parentLocation, location, element, action } = last\n    \n    if(action === 'add') {\n      const el = document.createElement(element.tagName)\n      const parent = document.querySelector(parentLocation)\n      parent.appendChild(el)\n      el.outerHTML = element.outerHTML\n      actions.do({\n        parentLocation: parentLocation,\n        location: location,\n        element: {\n          tagName: element.tagName,\n          outerHTML: element.outerHTML,\n        },\n        action: 'add',\n      })\n\n    } else if (action === 'delete') {\n      const el = document.querySelector(location)\n      actions.do({\n        parentLocation: parentLocation,\n        location: location,\n        element: {\n          tagName: el.tagName,\n          outerHTML: el.outerHTML,\n        },\n        action: 'delete',\n      })\n      el.remove()\n    } else if(action === 'edit') {\n      const el = document.querySelector(location)\n      actions.do({\n        parentLocation: parentLocation,\n        location: location,\n        element: {\n          tagName: el.tagName,\n          outerHTML: el.outerHTML,\n          finalOuterHTML: element.finalOuterHTML,\n        },\n        action: 'edit',\n      })\n      el.outerHTML = element.finalOuterHTML\n    }\n    console.log('history', state.history.map(i => i.action))\n    console.log('redoStack', redoStack.map(i => i.action))\n  },\n  saveSourceMap (map) {\n    sourceMap = map\n  }\n}\n\nexport const actions = {\n  do (payload) {\n    mutations.DO(state, payload)\n    getters.naturalHistory(state)\n  },\n  undo () {\n    mutations.UNDO(state)\n  },\n  redo () {\n    mutations.REDO()\n  }\n}\n\nexport const getters = {\n  history (state) {\n    return state.history\n  },\n  async naturalHistory (state) {\n    console.log({\n      history: state.history,\n      sourceMap: sourceMap\n    })\n\n    const stringToBase64 = (str) => {\n      return btoa(unescape(encodeURIComponent(str)));\n    }\n\n    fetch(\"http://localhost:3000/ask/history\", {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n      },\n      body: JSON.stringify({\n        data: stringToBase64(JSON.stringify({\n          history: state.history,\n          sourceMap: sourceMap\n        }))\n      })\n    }, response => {\n      console.log(response);\n    })\n  }\n}\n\nexport const cssPath = (el) => {\n  if (!(el instanceof Element)) \n      return;\n  var path = [];\n  while (el.nodeType === Node.ELEMENT_NODE) {\n      var selector = el.nodeName.toLowerCase();\n      if (el.id) {\n          selector += '#' + el.id;\n          path.unshift(selector);\n          break;\n      } else {\n          var sib = el, nth = 1;\n          while (sib = sib.previousElementSibling) {\n              if (sib.nodeName.toLowerCase() == selector)\n                 nth++;\n          }\n          if (nth != 1)\n              selector += \":nth-of-type(\"+nth+\")\";\n      }\n      path.unshift(selector);\n      el = el.parentNode;\n  }\n  return path.join(\" > \");\n}\n\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n  cssPath\n}\n","import {isFirefox, isSafari} from './cross-browser.js'\n\nexport const desiredPropMap = {\n  color:               'rgb(0, 0, 0)',\n  backgroundColor:     'rgba(0, 0, 0, 0)',\n  backgroundImage:     'none',\n  backgroundSize:      'auto',\n  backgroundPosition:  '0% 0%',\n  borderRadius:        '0px',\n  boxShadow:           'none',\n  padding:             '0px',\n  margin:              '0px',\n  fontFamily:          'auto',\n  fontSize:            '16px',\n  fontWeight:          '400',\n  textAlign:           'start',\n  textShadow:          'none',\n  textTransform:       'none',\n  lineHeight:          'normal',\n  letterSpacing:       'normal',\n  display:             'block',\n  alignItems:          'normal',\n  justifyContent:      'normal',\n  flexDirection:       'row',\n  flexWrap:            'nowrap',\n  flexBasis:           'auto',\n  // flexFlow:         'none',\n  fill:                'rgb(0, 0, 0)',\n  stroke:              'none',\n  gridTemplateColumns: 'none',\n  gridAutoColumns:     'auto',\n  gridTemplateRows:    'none',\n  gridAutoRows:        'auto',\n  gridTemplateAreas:   'none',\n  gridArea:            'auto / auto / auto / auto',\n  gap:                 'normal',\n  gridAutoFlow:        'row',\n}\n\nif (isFirefox) {\n  desiredPropMap.backgroundSize = 'auto'\n  desiredPropMap.borderWidth    = ''\n  desiredPropMap.borderRadius   = ''\n  desiredPropMap.padding        = ''\n  desiredPropMap.margin         = ''\n  desiredPropMap.gap            = ''\n  desiredPropMap.gridArea       = ''\n  desiredPropMap.borderColor    = ''\n}\n\nif (isSafari) {\n  desiredPropMap.gap = 'normal normal'\n}\n\nexport const desiredAccessibilityMap = [\n  'role',\n  'tabindex',\n  'aria-*',\n  'for',\n  'alt',\n  'title',\n  'type',\n]\n\nexport const largeWCAG2TextMap = [\n  {\n    fontSize: '24px',\n    fontWeight: '0'\n  },\n  {\n    fontSize: '18.5px',\n    fontWeight: '700'\n  }\n]\n","import { desiredPropMap } from './design-properties'\n\nexport const getStyle = (el, name) => {\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    name = name.replace(/([A-Z])/g, '-$1')\n    name = name.toLowerCase()\n    let s = document.defaultView.getComputedStyle(el, '')\n    return s && s.getPropertyValue(name)\n  } \n}\n\nexport const getStyles = el => {\n  const elStyleObject = el.style\n  const computedStyle = window.getComputedStyle(el, null)\n  const vettedStyles = []\n  const borders = []\n\n  for (const prop in el.style) {\n    const is_desired = desiredPropMap[prop]\n\n    if (is_desired && is_desired != computedStyle[prop])\n      vettedStyles.push({\n        prop: prop,\n        value: computedStyle[prop],\n      })\n\n    if (prop === 'borderColor' || prop === 'borderWidth' || prop === 'borderStyle')\n      borders[prop] = computedStyle[prop].replace(/, rgba/g, '\\rrgba')\n  }\n\n  const { borderColor, borderWidth, borderStyle } = borders\n\n  if (parseFloat(borderWidth) > 0) {\n    vettedStyles.push({\n      prop: 'borderColor',\n      value: borderColor,\n    })\n\n    vettedStyles.push({\n      prop: 'borderStyle',\n      value: borderStyle,\n    })\n\n    vettedStyles.push({\n      prop: 'borderWidth',\n      value: borderWidth,\n    })\n  }\n\n  return vettedStyles.sort(function({prop:propA}, {prop:propB}) {\n    if (propA < propB) return -1\n    if (propA > propB) return 1\n    return 0\n  })\n}\n\nlet canvas_color\nexport const getComputedCanvasBackgroundColor = () => {\n  if (canvas_color) return canvas_color\n\n  const foo = document.createElement('span')\n  foo.style.backgroundColor = 'Canvas'\n  document.body.appendChild(foo)\n  canvas_color = getComputedStyle(foo).backgroundColor\n  document.body.removeChild(foo)\n\n  return canvas_color\n}\n\nexport const getComputedBackgroundColor = el => {\n  let background = getStyle(el, 'background-color')\n\n  if (background === 'rgba(0, 0, 0, 0)') {\n    let node  = findNearestParentElement(el)\n      , found = false\n\n    while(!found) {\n      let bg  = getStyle(node, 'background-color')\n\n      if (node.nodeName === 'HTML') {\n        found = true\n        background = getComputedCanvasBackgroundColor()\n      }\n\n      if (bg !== 'rgba(0, 0, 0, 0)') {\n        found = true\n        background = bg\n      }\n\n      node = findNearestParentElement(node)\n    }\n  }\n\n  return background\n}\n\nexport const findNearestParentElement = el => {\n  if (el.nodeName === 'HTML') return el\n\n  return el.parentNode && el.parentNode.nodeType === 1\n    ? el.parentNode\n    : el.parentNode.nodeName === '#document-fragment'\n      ? el.parentNode.host\n      : el.parentNode.parentNode.host\n}\n\nexport const findNearestChildElement = el => {\n  if (el.shadowRoot && el.shadowRoot.children.length) {\n    return [...el.shadowRoot.children]\n      .filter(({nodeName}) => \n        !['LINK','STYLE','SCRIPT','HTML','HEAD'].includes(nodeName)\n      )[0]\n  }\n  else if (el.children.length)\n    return el.children[0]\n}\n\nexport const loadStyles = async stylesheets => {\n  const fetches = await Promise.all(stylesheets.map(url => fetch(url)))\n  const texts   = await Promise.all(fetches.map(url => url.text()))\n  const style   = document.createElement('style')\n\n  style.textContent = texts.reduce((styles, fileContents) => \n    styles + fileContents\n  , '')\n\n  document.head.appendChild(style)\n}\n\n// returns [full, color, x, y, blur, spread]\nexport const getShadowValues = shadow =>\n  /([^\\)]+\\)) ([^\\s]+) ([^\\s]+) ([^\\s]+) ([^\\s]+)/.exec(shadow)\n\n// returns [full, color, x, y, blur]\nexport const getTextShadowValues = shadow =>\n  /([^\\)]+\\)) ([^\\s]+) ([^\\s]+) ([^\\s]+)/.exec(shadow)\n\nconst fontCacheMap = new Map()\nexport const firstUsableFontFromFamily = family => {\n  if (fontCacheMap.has(family))\n    return fontCacheMap.get(family)\n\n  // todo: check cache for family string and return already computed value\n  const fonts = family.split(',')\n  const canvas = window.document.createElement('canvas')\n  const context = canvas.getContext('2d')\n\n  const match = fonts\n    .map(font => font.trim())\n    .map(name => {\n      const matches = String(name).match(/^[\"']?(.+?)[\"']?$/i);\n      return Array.isArray(matches) ? matches[1] : '';\n    })\n    .map(fontName => {\n      const baselineSize = context.measureText(12).width\n\n      context.font = `12px ${fontName}, sans-serif`\n\n      return baselineSize !== context.measureText('font-test').width \n        ? fontName \n        : false\n  }).filter(value => value !== false)[0]\n\n  fontCacheMap.set(family, match)\n\n  return match\n}\n","import { desiredAccessibilityMap, desiredPropMap, largeWCAG2TextMap } from './design-properties'\nimport { getStyles } from './styles'\nimport { TinyColor, mostReadable, random } from '@ctrl/tinycolor'\n\nexport const getA11ys = el => {\n  const elAttributes = el.getAttributeNames()\n\n  return desiredAccessibilityMap.reduce((acc, attribute) => {\n    if (elAttributes.includes(attribute))\n      acc.push({\n        prop:   attribute,\n        value:  el.getAttribute(attribute)\n      })\n\n    if (attribute === 'aria-*')\n      elAttributes.forEach(attr => {\n        if (attr.includes('aria'))\n          acc.push({\n            prop:   attr,\n            value:  el.getAttribute(attr)\n          })\n      })\n\n    return acc\n  }, [])\n}\n\nexport const getWCAG2TextSize = el => {\n  \n  const styles = getStyles(el).reduce((styleMap, style) => {\n      styleMap[style.prop] = style.value\n      return styleMap\n  }, {})\n\n  const { fontSize   = desiredPropMap.fontSize,\n          fontWeight = desiredPropMap.fontWeight\n      } = styles\n  \n  const isLarge = largeWCAG2TextMap.some(\n    (largeProperties) => parseFloat(fontSize) >= parseFloat(largeProperties.fontSize) \n       && parseFloat(fontWeight) >= parseFloat(largeProperties.fontWeight) \n  )\n\n  return  isLarge ? 'Large' : 'Small'\n}\n\nexport const getContrastingColor = color => {\n  return mostReadable(\n    color,\n    ['#000', '#fff'],\n    {\n      includeFallbackColors: true,\n      level: 'AAA',\n      size: 'small'\n    }\n  )\n}\n","export const camelToDash = (camelString = \"\") =>\n  camelString.replace(/([A-Z])/g, ($1) =>\n    \"-\"+$1.toLowerCase())\n\nexport const nodeKey = node => {\n  let tree = []\n  let furthest_leaf = node\n\n  while (furthest_leaf) {\n    tree.push(furthest_leaf)\n    furthest_leaf = furthest_leaf.parentNode\n      ? furthest_leaf.parentNode\n      : false\n  }\n\n  return tree.reduce((path, branch) => `\n    ${path}${branch.tagName}_${branch.className}_${[...node.parentNode.children].indexOf(node)}_${node.children.length}\n  `, '')\n}\n\nexport const createClassname = (el, ellipse = false) => {\n  if (!el.className) return ''\n  \n  const combined = Array.from(el.classList).reduce((classnames, classname) =>\n    classnames += '.' + classname\n  , '')\n\n  return ellipse && combined.length > 30\n    ? combined.substring(0,30) + '...'\n    : combined\n}\n\nexport const metaKey = window.navigator.platform.includes('Mac')\n  ? 'cmd'\n  : 'ctrl'\n\nexport const altKey = window.navigator.platform.includes('Mac')\n  ? 'opt'\n  : 'alt'\n\nexport const notList = ':not(uh-web-editor):not(script):not(hotkey-map):not(.uh-web-editor-metatip):not(uh-web-editor-label):not(uh-web-editor-handles):not(uh-web-editor-corners):not(uh-web-editor-grip):not(uh-web-editor-gridlines)'\n","import $ from 'blingblingjs'\nimport { nodeKey } from './strings'\n\nexport const deepElementFromPoint = (x, y) => {\n  const el = document.elementFromPoint(x, y)\n\n  const crawlShadows = node => {\n    if (node.shadowRoot) {\n      const potential = node.shadowRoot.elementFromPoint(x, y)\n\n      if (potential == node)          return node\n      else if (potential.shadowRoot)  return crawlShadows(potential)\n      else                            return potential\n    }\n    else return node\n  }\n\n  const nested_shadow = crawlShadows(el)\n\n  return nested_shadow || el\n}\n\nexport const getSide = direction => {\n  let start = direction.split('+').pop().replace(/^\\w/, c => c.toUpperCase())\n  if (start == 'Up') start = 'Top'\n  if (start == 'Down') start = 'Bottom'\n  return start\n}\n\nexport const getNodeIndex = el => {\n  return [...el.parentElement.parentElement.children]\n    .indexOf(el.parentElement)\n}\n\nexport function showEdge(el) {\n  return el.animate([\n    { outline: '1px solid transparent' },\n    { outline: '1px solid hsla(330, 100%, 71%, 80%)' },\n    { outline: '1px solid transparent' },\n  ], 600)\n}\n\nlet timeoutMap = {}\nexport const showHideSelected = (el, duration = 750) => {\n  el.setAttribute('data-selected-hide', true)\n  showHideNodeLabel(el, true)\n\n  if (timeoutMap[nodeKey(el)])\n    clearTimeout(timeoutMap[nodeKey(el)])\n\n  timeoutMap[nodeKey(el)] = setTimeout(_ => {\n    el.removeAttribute('data-selected-hide')\n    showHideNodeLabel(el, false)\n  }, duration)\n\n  return el\n}\n\nexport const showHideNodeLabel = (el, show = false) => {\n  if (!el.hasAttribute('data-label-id'))\n    return\n\n  const label_id = el.getAttribute('data-label-id')\n\n  const nodes = $(`\n    uh-web-editor-label[data-label-id=\"${label_id}\"],\n    uh-web-editor-handles[data-label-id=\"${label_id}\"]\n  `)\n\n  nodes.length && show\n    ? nodes.forEach(el =>\n      el.style.display = 'none')\n    : nodes.forEach(el =>\n      el.style.display = null)\n}\n\nexport const htmlStringToDom = (htmlString = \"\") =>\n  (new DOMParser().parseFromString(htmlString, 'text/html'))\n    .body.firstChild\n\nexport const isOffBounds = node =>\n  node.closest && (\n       node.closest('uh-web-editor')\n    || node.closest('hotkey-map')\n    || node.closest('uh-web-editor-metatip')\n    || node.closest('uh-web-editor-ally')\n    || node.closest('uh-web-editor-label')\n    || node.closest('uh-web-editor-handles')\n    || node.closest('uh-web-editor-corners')\n    || node.closest('uh-web-editor-grip')\n    || node.closest('uh-web-editor-gridlines')\n  )\n\nexport const isSelectorValid = (qs => (\n  selector => {\n    try { qs(selector) } catch (e) { return false }\n    return true\n  }\n))(s => document.createDocumentFragment().querySelector(s))\n\nexport const swapElements = (src, target) => {\n  var temp = document.createElement(\"div\")\n\n  src.parentNode.insertBefore(temp, src)\n  target.parentNode.insertBefore(src, target)\n  temp.parentNode.insertBefore(target, temp)\n\n  temp.parentNode.removeChild(temp)\n}\n","export function windowBounds() {\n  const height  = window.innerHeight\n  const width   = window.innerWidth\n  const body    = document.documentElement.clientWidth\n\n  const calcWidth = body <= width\n    ? body\n    : width\n\n  return {\n    winHeight: height,\n    winWidth:  calcWidth,\n  }\n}\n","export const isFixed = elem => {\n  do {\n    if (window.getComputedStyle(elem).position == 'fixed') return true;\n  } while (elem = elem.offsetParent);\n  return false;\n}\n","import { LightTheme, DarkTheme } from \"../components/styles.store\"\n\nexport const schemeRule = (shadow, style, light, dark) => {\n  const lightScheme = light\n      ? [style, LightTheme, light]\n      : [style, LightTheme]\n\n  const darkScheme = dark\n      ? [style, DarkTheme, dark]\n      : [style, DarkTheme]\n\n  return attr => {\n    if (attr === \"light\")\n      shadow.adoptedStyleSheets = lightScheme\n    else if (attr === \"dark\")\n      shadow.adoptedStyleSheets = darkScheme\n    else\n      shadow.adoptedStyleSheets = [style]\n  }\n}\n","export const colors = [\"#eb4034\", \"#30850f\", \"#116da7\", \"#4334eb\", \"#b134eb\", \"#df168e\", \"#e8172c\", \"#8f2e2b\", \"#8f692b\", \"#8a8f2b\", \"#358f2b\", \"#2b8f82\", \"#2b678f\", \"#2b2b8f\", \"#8f2b8f\", \"#8f2b55\", \"#1eff00\", \"#a86800\", \"#ff0000\", \"#008035\", \"#0026ff\", \"#bb00ff\", \"#d600b6\", \"#e60067\", \"#137878\"];","export function numberBetween(min, max) {\n  return Math.floor(min + (Math.random() * (max - min)))\n}\n\nexport function clamp(min, val, max) {\n  return Math.max(min, Math.min(val, max))\n}\n","/**\n * Take input from [0, n] and return it as [0, 1]\n * @hidden\n */\nexport function bound01(n, max) {\n    if (isOnePointZero(n)) {\n        n = '100%';\n    }\n    var isPercent = isPercentage(n);\n    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (isPercent) {\n        n = parseInt(String(n * max), 10) / 100;\n    }\n    // Handle floating point rounding errors\n    if (Math.abs(n - max) < 0.000001) {\n        return 1;\n    }\n    // Convert into [0, 1] range if it isn't already\n    if (max === 360) {\n        // If n is a hue given in degrees,\n        // wrap around out-of-range values into [0, 360] range\n        // then convert into [0, 1].\n        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));\n    }\n    else {\n        // If n not a hue given in degrees\n        // Convert into [0, 1] range if it isn't already.\n        n = (n % max) / parseFloat(String(max));\n    }\n    return n;\n}\n/**\n * Force a number between 0 and 1\n * @hidden\n */\nexport function clamp01(val) {\n    return Math.min(1, Math.max(0, val));\n}\n/**\n * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n * @hidden\n */\nexport function isOnePointZero(n) {\n    return typeof n === 'string' && n.includes('.') && parseFloat(n) === 1;\n}\n/**\n * Check to see if string passed in is a percentage\n * @hidden\n */\nexport function isPercentage(n) {\n    return typeof n === 'string' && n.includes('%');\n}\n/**\n * Return a valid alpha value [0,1] with all invalid values being set to 1\n * @hidden\n */\nexport function boundAlpha(a) {\n    a = parseFloat(a);\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n    return a;\n}\n/**\n * Replace a decimal with it's percentage value\n * @hidden\n */\nexport function convertToPercentage(n) {\n    if (n <= 1) {\n        return Number(n) * 100 + \"%\";\n    }\n    return n;\n}\n/**\n * Force a hex value to have 2 characters\n * @hidden\n */\nexport function pad2(c) {\n    return c.length === 1 ? '0' + c : String(c);\n}\n","import { bound01, pad2 } from './util';\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n/**\n * Handle bounds / percentage checking to conform to CSS color spec\n * <http://www.w3.org/TR/css3-color/>\n * *Assumes:* r, g, b in [0, 255] or [0, 1]\n * *Returns:* { r, g, b } in [0, 255]\n */\nexport function rgbToRgb(r, g, b) {\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255,\n    };\n}\n/**\n * Converts an RGB color value to HSL.\n * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n * *Returns:* { h, s, l } in [0,1]\n */\nexport function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max === min) {\n        s = 0;\n        h = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, l: l };\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * (6 * t);\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n/**\n * Converts an HSL color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n    if (s === 0) {\n        // achromatic\n        g = l;\n        b = l;\n        r = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color value to HSV\n *\n * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n * *Returns:* { h, s, v } in [0,1]\n */\nexport function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n            default:\n                break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n/**\n * Converts an HSV color value to RGB.\n *\n * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n * *Returns:* { r, g, b } in the set [0, 255]\n */\nexport function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n/**\n * Converts an RGB color to hex\n *\n * Assumes r, g, and b are contained in the set [0, 255]\n * Returns a 3 or 6 character hex\n */\nexport function rgbToHex(r, g, b, allow3Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    // Return a 3 character hex if possible\n    if (allow3Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color plus alpha transparency to hex\n *\n * Assumes r, g, b are contained in the set [0, 255] and\n * a in [0, 1]. Returns a 4 or 8 character rgba hex\n */\n// eslint-disable-next-line max-params\nexport function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n        pad2(convertDecimalToHex(a)),\n    ];\n    // Return a 4 character hex if possible\n    if (allow4Char &&\n        hex[0].startsWith(hex[0].charAt(1)) &&\n        hex[1].startsWith(hex[1].charAt(1)) &&\n        hex[2].startsWith(hex[2].charAt(1)) &&\n        hex[3].startsWith(hex[3].charAt(1))) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n    return hex.join('');\n}\n/**\n * Converts an RGBA color to an ARGB Hex8 string\n * Rarely used, but required for \"toFilter()\"\n */\nexport function rgbaToArgbHex(r, g, b, a) {\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(Math.round(r).toString(16)),\n        pad2(Math.round(g).toString(16)),\n        pad2(Math.round(b).toString(16)),\n    ];\n    return hex.join('');\n}\n/** Converts a decimal to a hex value */\nexport function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n/** Converts a hex value to a decimal */\nexport function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n}\n/** Parse a base-16 hex value into a base-10 integer */\nexport function parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\nexport function numberInputToObject(color) {\n    return {\n        r: color >> 16,\n        g: (color & 0xff00) >> 8,\n        b: color & 0xff,\n    };\n}\n","// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\n/**\n * @hidden\n */\nexport var names = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    goldenrod: '#daa520',\n    gold: '#ffd700',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    lavenderblush: '#fff0f5',\n    lavender: '#e6e6fa',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32',\n};\n","import { convertHexToDecimal, hslToRgb, hsvToRgb, parseIntFromHex, rgbToRgb } from './conversion';\nimport { names } from './css-color-names';\nimport { boundAlpha, convertToPercentage } from './util';\n/**\n * Given a string or object, convert that input to RGB\n *\n * Possible string inputs:\n * ```\n * \"red\"\n * \"#f00\" or \"f00\"\n * \"#ff0000\" or \"ff0000\"\n * \"#ff000000\" or \"ff000000\"\n * \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n * \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n * \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n * \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n * \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n * \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n * \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n * ```\n */\nexport function inputToRGB(color) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n    if (typeof color === 'string') {\n        color = stringInputToObject(color);\n    }\n    if (typeof color === 'object') {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = 'hsv';\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = 'hsl';\n        }\n        if (Object.prototype.hasOwnProperty.call(color, 'a')) {\n            a = color.a;\n        }\n    }\n    a = boundAlpha(a);\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: Math.min(255, Math.max(rgb.r, 0)),\n        g: Math.min(255, Math.max(rgb.g, 0)),\n        b: Math.min(255, Math.max(rgb.b, 0)),\n        a: a,\n    };\n}\n// <http://www.w3.org/TR/css3-values/#integers>\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n// <http://www.w3.org/TR/css3-values/#number-value>\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\nvar CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n// Actual matching.\n// Parentheses and commas are optional, but not required.\n// Whitespace can take the place of commas or opening paren\nvar PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\nvar matchers = {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n};\n/**\n * Permissive string parsing.  Take in a number of formats, and output an object\n * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n */\nexport function stringInputToObject(color) {\n    color = color.trim().toLowerCase();\n    if (color.length === 0) {\n        return false;\n    }\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color === 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };\n    }\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match = matchers.rgb.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    match = matchers.rgba.exec(color);\n    if (match) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    match = matchers.hsl.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    match = matchers.hsla.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    match = matchers.hsv.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    match = matchers.hsva.exec(color);\n    if (match) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    match = matchers.hex8.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex6.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    match = matchers.hex4.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            a: convertHexToDecimal(match[4] + match[4]),\n            format: named ? 'name' : 'hex8',\n        };\n    }\n    match = matchers.hex3.exec(color);\n    if (match) {\n        return {\n            r: parseIntFromHex(match[1] + match[1]),\n            g: parseIntFromHex(match[2] + match[2]),\n            b: parseIntFromHex(match[3] + match[3]),\n            format: named ? 'name' : 'hex',\n        };\n    }\n    return false;\n}\n/**\n * Check to see if it looks like a CSS unit\n * (see `matchers` above for definition).\n */\nexport function isValidCSSUnit(color) {\n    return Boolean(matchers.CSS_UNIT.exec(String(color)));\n}\n","import { rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv, numberInputToObject } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\" + r + \", \" + g + \", \" + b + \")\" : \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + this.roundA + \")\";\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return Math.round(bound01(x, 255) * 100) + \"%\"; };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%)\"\n            : \"rgba(\" + rnd(this.r) + \"%, \" + rnd(this.g) + \"%, \" + rnd(this.b) + \"%, \" + this.roundA + \")\";\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    /**\n     * String representation of the color.\n     *\n     * @param format - The format to be used when displaying the string representation.\n     */\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","import { TinyColor } from './index';\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n/**\n * AKA `contrast`\n *\n * Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\n */\nexport function readability(color1, color2) {\n    var c1 = new TinyColor(color1);\n    var c2 = new TinyColor(color2);\n    return ((Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /\n        (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05));\n}\n/**\n * Ensure that foreground and background color combinations meet WCAG2 guidelines.\n * The third argument is an object.\n *      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n *      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n * If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n *\n * Example\n * ```ts\n * new TinyColor().isReadable('#000', '#111') => false\n * new TinyColor().isReadable('#000', '#111', { level: 'AA', size: 'large' }) => false\n * ```\n */\nexport function isReadable(color1, color2, wcag2) {\n    var _a, _b;\n    if (wcag2 === void 0) { wcag2 = { level: 'AA', size: 'small' }; }\n    var readabilityLevel = readability(color1, color2);\n    switch (((_a = wcag2.level) !== null && _a !== void 0 ? _a : 'AA') + ((_b = wcag2.size) !== null && _b !== void 0 ? _b : 'small')) {\n        case 'AAsmall':\n        case 'AAAlarge':\n            return readabilityLevel >= 4.5;\n        case 'AAlarge':\n            return readabilityLevel >= 3;\n        case 'AAAsmall':\n            return readabilityLevel >= 7;\n        default:\n            return false;\n    }\n}\n/**\n * Given a base color and a list of possible foreground or background\n * colors for that base, returns the most readable color.\n * Optionally returns Black or White if the most readable color is unreadable.\n *\n * @param baseColor - the base color.\n * @param colorList - array of colors to pick the most readable one from.\n * @param args - and object with extra arguments\n *\n * Example\n * ```ts\n * new TinyColor().mostReadable('#123', ['#124\", \"#125'], { includeFallbackColors: false }).toHexString(); // \"#112255\"\n * new TinyColor().mostReadable('#123', ['#124\", \"#125'],{ includeFallbackColors: true }).toHexString();  // \"#ffffff\"\n * new TinyColor().mostReadable('#a8015a', [\"#faf3f3\"], { includeFallbackColors:true, level: 'AAA', size: 'large' }).toHexString(); // \"#faf3f3\"\n * new TinyColor().mostReadable('#a8015a', [\"#faf3f3\"], { includeFallbackColors:true, level: 'AAA', size: 'small' }).toHexString(); // \"#ffffff\"\n * ```\n */\nexport function mostReadable(baseColor, colorList, args) {\n    if (args === void 0) { args = { includeFallbackColors: false, level: 'AA', size: 'small' }; }\n    var bestColor = null;\n    var bestScore = 0;\n    var includeFallbackColors = args.includeFallbackColors, level = args.level, size = args.size;\n    for (var _i = 0, colorList_1 = colorList; _i < colorList_1.length; _i++) {\n        var color = colorList_1[_i];\n        var score = readability(baseColor, color);\n        if (score > bestScore) {\n            bestScore = score;\n            bestColor = new TinyColor(color);\n        }\n    }\n    if (isReadable(baseColor, bestColor, { level: level, size: size }) || !includeFallbackColors) {\n        return bestColor;\n    }\n    args.includeFallbackColors = false;\n    return mostReadable(baseColor, ['#fff', '#000'], args);\n}\n","const sugar = {\n  on: function(names, fn) {\n    names\n      .split(' ')\n      .forEach(name =>\n        this.addEventListener(name, fn))\n    return this\n  },\n  off: function(names, fn) {\n    names\n      .split(' ')\n      .forEach(name =>\n        this.removeEventListener(name, fn))\n    return this\n  },\n  attr: function(attr, val) {\n    if (val === undefined) return this.getAttribute(attr)\n\n    val == null\n      ? this.removeAttribute(attr)\n      : this.setAttribute(attr, val || '')\n      \n    return this\n  }\n}\n\nexport default function $(query, $context = document) {\n  let $nodes = query instanceof NodeList || Array.isArray(query)\n    ? query\n    : query instanceof HTMLElement || query instanceof SVGElement\n      ? [query]\n      : $context.querySelectorAll(query)\n\n  if (!$nodes.length) $nodes = []\n\n  return Object.assign(\n    Array.from($nodes).map($el => Object.assign($el, sugar)), \n    {\n      on: function(names, fn) {\n        this.forEach($el => $el.on(names, fn))\n        return this\n      },\n      off: function(names, fn) {\n        this.forEach($el => $el.off(names, fn))\n        return this\n      },\n      attr: function(attrs, val) {\n        if (typeof attrs === 'string' && val === undefined)\n          return this[0].attr(attrs)\n\n        else if (typeof attrs === 'object') \n          this.forEach($el =>\n            Object.entries(attrs)\n              .forEach(([key, val]) =>\n                $el.attr(key, val)))\n\n        else if (typeof attrs == 'string' && (val || val == null || val == ''))\n          this.forEach($el => $el.attr(attrs, val))\n\n        return this\n      }\n    }\n  )\n}\n","(function () {\n  'use strict';\n\n  if ('adoptedStyleSheets' in document) { return; }\n\n  var hasShadyCss = 'ShadyCSS' in window && !window.ShadyCSS.nativeShadow;\n  var deferredStyleSheets = [];\n  var deferredDocumentStyleElements = [];\n  var adoptedSheetsRegistry = new WeakMap();\n  var sheetMetadataRegistry = new WeakMap();\n  var locationRegistry = new WeakMap();\n  var observerRegistry = new WeakMap();\n  var appliedActionsCursorRegistry = new WeakMap();\n  var state = {\n    loaded: false\n  };\n  var frame = {\n    body: null,\n    CSSStyleSheet: null\n  };\n  var OldCSSStyleSheet = CSSStyleSheet;\n\n  var importPattern = /@import\\surl(.*?);/gi;\n  function instanceOfStyleSheet(instance) {\n    return instance instanceof OldCSSStyleSheet || instance instanceof frame.CSSStyleSheet;\n  }\n  function checkAndPrepare(sheets, container) {\n    var locationType = container === document ? 'Document' : 'ShadowRoot';\n    if (!Array.isArray(sheets)) {\n      throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Iterator getter is not callable.\");\n    }\n    if (!sheets.every(instanceOfStyleSheet)) {\n      throw new TypeError(\"Failed to set the 'adoptedStyleSheets' property on \" + locationType + \": Failed to convert value to 'CSSStyleSheet'\");\n    }\n    var uniqueSheets = sheets.filter(function (value, index) {\n      return sheets.indexOf(value) === index;\n    });\n    adoptedSheetsRegistry.set(container, uniqueSheets);\n    return uniqueSheets;\n  }\n  function isDocumentLoading() {\n    return document.readyState === 'loading';\n  }\n  function getAdoptedStyleSheet(location) {\n    return adoptedSheetsRegistry.get(location.parentNode === document.documentElement ? document : location);\n  }\n  function rejectImports(contents) {\n    var imports = contents.match(importPattern, '') || [];\n    var sheetContent = contents;\n    if (imports.length) {\n      console.warn('@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418');\n      imports.forEach(function (_import) {\n        sheetContent = sheetContent.replace(_import, '');\n      });\n    }\n    return sheetContent;\n  }\n\n  var cssStyleSheetMethods = ['addImport', 'addPageRule', 'addRule', 'deleteRule', 'insertRule', 'removeImport', 'removeRule'];\n  var cssStyleSheetNewMethods = ['replace', 'replaceSync'];\n  function updatePrototype(proto) {\n    cssStyleSheetNewMethods.forEach(function (methodKey) {\n      proto[methodKey] = function () {\n        return ConstructStyleSheet.prototype[methodKey].apply(this, arguments);\n      };\n    });\n    cssStyleSheetMethods.forEach(function (methodKey) {\n      var oldMethod = proto[methodKey];\n      proto[methodKey] = function () {\n        var args = arguments;\n        var result = oldMethod.apply(this, args);\n        if (sheetMetadataRegistry.has(this)) {\n          var _sheetMetadataRegistr = sheetMetadataRegistry.get(this),\n              adopters = _sheetMetadataRegistr.adopters,\n              actions = _sheetMetadataRegistr.actions;\n          adopters.forEach(function (styleElement) {\n            if (styleElement.sheet) {\n              styleElement.sheet[methodKey].apply(styleElement.sheet, args);\n            }\n          });\n          actions.push([methodKey, args]);\n        }\n        return result;\n      };\n    });\n  }\n  function updateAdopters(sheet) {\n    var _sheetMetadataRegistr2 = sheetMetadataRegistry.get(sheet),\n        adopters = _sheetMetadataRegistr2.adopters,\n        basicStyleElement = _sheetMetadataRegistr2.basicStyleElement;\n    adopters.forEach(function (styleElement) {\n      styleElement.innerHTML = basicStyleElement.innerHTML;\n    });\n  }\n  var ConstructStyleSheet =\n  function () {\n    function ConstructStyleSheet() {\n      var basicStyleElement = document.createElement('style');\n      if (state.loaded) {\n        frame.body.appendChild(basicStyleElement);\n      } else {\n        document.head.appendChild(basicStyleElement);\n        basicStyleElement.disabled = true;\n        deferredStyleSheets.push(basicStyleElement);\n      }\n      var nativeStyleSheet = basicStyleElement.sheet;\n      sheetMetadataRegistry.set(nativeStyleSheet, {\n        adopters: new Map(),\n        actions: [],\n        basicStyleElement: basicStyleElement\n      });\n      return nativeStyleSheet;\n    }\n    var _proto = ConstructStyleSheet.prototype;\n    _proto.replace = function replace(contents) {\n      var _this = this;\n      var sanitized = rejectImports(contents);\n      return new Promise(function (resolve, reject) {\n        if (sheetMetadataRegistry.has(_this)) {\n          var _sheetMetadataRegistr3 = sheetMetadataRegistry.get(_this),\n              basicStyleElement = _sheetMetadataRegistr3.basicStyleElement;\n          basicStyleElement.innerHTML = sanitized;\n          resolve(basicStyleElement.sheet);\n          updateAdopters(_this);\n        } else {\n          reject(new Error(\"Can't call replace on non-constructed CSSStyleSheets.\"));\n        }\n      });\n    };\n    _proto.replaceSync = function replaceSync(contents) {\n      var sanitized = rejectImports(contents);\n      if (sheetMetadataRegistry.has(this)) {\n        var _sheetMetadataRegistr4 = sheetMetadataRegistry.get(this),\n            basicStyleElement = _sheetMetadataRegistr4.basicStyleElement;\n        basicStyleElement.innerHTML = sanitized;\n        updateAdopters(this);\n        return basicStyleElement.sheet;\n      } else {\n        throw new Error(\"Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.\");\n      }\n    };\n    return ConstructStyleSheet;\n  }();\n  Object.defineProperty(ConstructStyleSheet, Symbol.hasInstance, {\n    configurable: true,\n    value: instanceOfStyleSheet\n  });\n\n  function adoptStyleSheets(location) {\n    var newStyles = document.createDocumentFragment();\n    var sheets = getAdoptedStyleSheet(location);\n    var observer = observerRegistry.get(location);\n    for (var i = 0, len = sheets.length; i < len; i++) {\n      var _sheetMetadataRegistr = sheetMetadataRegistry.get(sheets[i]),\n          adopters = _sheetMetadataRegistr.adopters,\n          basicStyleElement = _sheetMetadataRegistr.basicStyleElement;\n      var elementToAdopt = adopters.get(location);\n      if (elementToAdopt) {\n        observer.disconnect();\n        newStyles.appendChild(elementToAdopt);\n        if (!elementToAdopt.innerHTML || elementToAdopt.sheet && !elementToAdopt.sheet.cssText) {\n          elementToAdopt.innerHTML = basicStyleElement.innerHTML;\n        }\n        observer.observe();\n      } else {\n        elementToAdopt = document.createElement('style');\n        elementToAdopt.innerHTML = basicStyleElement.innerHTML;\n        locationRegistry.set(elementToAdopt, location);\n        appliedActionsCursorRegistry.set(elementToAdopt, 0);\n        adopters.set(location, elementToAdopt);\n        newStyles.appendChild(elementToAdopt);\n      }\n      if (location === document.head) {\n        deferredDocumentStyleElements.push(elementToAdopt);\n      }\n    }\n    location.insertBefore(newStyles, location.firstChild);\n    for (var _i = 0, _len = sheets.length; _i < _len; _i++) {\n      var _sheetMetadataRegistr2 = sheetMetadataRegistry.get(sheets[_i]),\n          _adopters = _sheetMetadataRegistr2.adopters,\n          actions = _sheetMetadataRegistr2.actions;\n      var adoptedStyleElement = _adopters.get(location);\n      var cursor = appliedActionsCursorRegistry.get(adoptedStyleElement);\n      if (actions.length > 0) {\n        for (var _i2 = cursor, _len2 = actions.length; _i2 < _len2; _i2++) {\n          var _actions$_i = actions[_i2],\n              key = _actions$_i[0],\n              args = _actions$_i[1];\n          adoptedStyleElement.sheet[key].apply(adoptedStyleElement.sheet, args);\n        }\n        appliedActionsCursorRegistry.set(adoptedStyleElement, actions.length - 1);\n      }\n    }\n  }\n  function removeExcludedStyleSheets(location, oldSheets) {\n    var sheets = getAdoptedStyleSheet(location);\n    for (var i = 0, len = oldSheets.length; i < len; i++) {\n      if (sheets.indexOf(oldSheets[i]) > -1) {\n        continue;\n      }\n      var _sheetMetadataRegistr3 = sheetMetadataRegistry.get(oldSheets[i]),\n          adopters = _sheetMetadataRegistr3.adopters;\n      var observer = observerRegistry.get(location);\n      var styleElement = adopters.get(location);\n      if (!styleElement) {\n        styleElement = adopters.get(document.head);\n      }\n      observer.disconnect();\n      styleElement.parentNode.removeChild(styleElement);\n      observer.observe();\n    }\n  }\n\n  function adoptAndRestoreStylesOnMutationCallback(mutations) {\n    for (var i = 0, len = mutations.length; i < len; i++) {\n      var _mutations$i = mutations[i],\n          addedNodes = _mutations$i.addedNodes,\n          removedNodes = _mutations$i.removedNodes;\n      for (var _i = 0, _len = removedNodes.length; _i < _len; _i++) {\n        var location = locationRegistry.get(removedNodes[_i]);\n        if (location) {\n          adoptStyleSheets(location);\n        }\n      }\n      if (!hasShadyCss) {\n        for (var _i2 = 0, _len2 = addedNodes.length; _i2 < _len2; _i2++) {\n          var iter = document.createNodeIterator(addedNodes[_i2], NodeFilter.SHOW_ELEMENT, function (node) {\n            return node.shadowRoot && node.shadowRoot.adoptedStyleSheets.length > 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n          },\n          null, false);\n          var node = void 0;\n          while (node = iter.nextNode()) {\n            adoptStyleSheets(node.shadowRoot);\n          }\n        }\n      }\n    }\n  }\n  function createObserver(location) {\n    var observer = new MutationObserver(adoptAndRestoreStylesOnMutationCallback);\n    var observerTool = {\n      observe: function observe() {\n        observer.observe(location, {\n          childList: true,\n          subtree: true\n        });\n      },\n      disconnect: function disconnect() {\n        observer.disconnect();\n      }\n    };\n    observerRegistry.set(location, observerTool);\n    observerTool.observe();\n  }\n\n  function initPolyfill() {\n    var iframe = document.createElement('iframe');\n    iframe.hidden = true;\n    document.body.appendChild(iframe);\n    frame.body = iframe.contentWindow.document.body;\n    frame.CSSStyleSheet = iframe.contentWindow.CSSStyleSheet;\n    updatePrototype(iframe.contentWindow.CSSStyleSheet.prototype);\n    createObserver(document.body);\n    state.loaded = true;\n    var fragment = document.createDocumentFragment();\n    for (var i = 0, len = deferredStyleSheets.length; i < len; i++) {\n      deferredStyleSheets[i].disabled = false;\n      fragment.appendChild(deferredStyleSheets[i]);\n    }\n    frame.body.appendChild(fragment);\n    for (var _i = 0, _len = deferredDocumentStyleElements.length; _i < _len; _i++) {\n      fragment.appendChild(deferredDocumentStyleElements[_i]);\n    }\n    document.body.insertBefore(fragment, document.body.firstChild);\n    deferredStyleSheets.length = 0;\n    deferredDocumentStyleElements.length = 0;\n  }\n  function initAdoptedStyleSheets() {\n    var adoptedStyleSheetAccessors = {\n      configurable: true,\n      get: function get() {\n        return adoptedSheetsRegistry.get(this) || [];\n      },\n      set: function set(sheets) {\n        var oldSheets = adoptedSheetsRegistry.get(this) || [];\n        checkAndPrepare(sheets, this);\n        var location = this === document ?\n        isDocumentLoading() ? this.head : this.body : this;\n        var isConnected = 'isConnected' in location ? location.isConnected : document.body.contains(location);\n        window.requestAnimationFrame(function () {\n          if (isConnected) {\n            adoptStyleSheets(location);\n            removeExcludedStyleSheets(location, oldSheets);\n          }\n        });\n      }\n    };\n    Object.defineProperty(Document.prototype, 'adoptedStyleSheets', adoptedStyleSheetAccessors);\n    if (typeof ShadowRoot !== 'undefined') {\n      var attachShadow = Element.prototype.attachShadow;\n      Element.prototype.attachShadow = function () {\n        var location = hasShadyCss ? this : attachShadow.apply(this, arguments);\n        createObserver(location);\n        return location;\n      };\n      Object.defineProperty(ShadowRoot.prototype, 'adoptedStyleSheets', adoptedStyleSheetAccessors);\n    }\n  }\n\n  updatePrototype(OldCSSStyleSheet.prototype);\n  window.CSSStyleSheet = ConstructStyleSheet;\n  initAdoptedStyleSheets();\n  if (isDocumentLoading()) {\n    document.addEventListener('DOMContentLoaded', initPolyfill);\n  } else {\n    initPolyfill();\n  }\n\n}());\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { WebEditorElement } from './components/uh-web-editor/uh-web-editor.element'\nimport { metaKey } from './utilities'\n\nif ('ontouchstart' in document.documentElement)\n  document.getElementById('mobile-info')!.style.display = ''\n\nif (metaKey === 'ctrl')\n  [...document.querySelectorAll('kbd')]\n    .forEach(node => {\n      node.textContent = node.textContent!.replace('cmd','ctrl')\n      node.textContent = node.textContent!.replace('opt','alt')\n    })\n\ndocument.body.prepend(WebEditorElement)\nexport default WebEditorElement"],"names":["___CSS_LOADER_EXPORT___","push","module","id","i","constructStylesheet","styles","stylesheet","CSSStyleSheet","replaceSync","WebEditorStyles","HandlesStyles","HandleStyles","HoverStyles","CornerStyles","MetatipStyles","DistanceStyles","GridlineStyles","LabelStyles","OffscreenLabelStyles","OverlayStyles","BoxModelStyles","HotkeymapStyles","GripStyles","LightTheme","WebEditorLightStyles","MetatipLightStyles","HotkeymapLightStyles","DarkTheme","WebEditorDarkStyles","MetatipDarkStyles","HotkeymapDarkStyles","isff","navigator","userAgent","toLowerCase","indexOf","addEvent","object","event","method","addEventListener","attachEvent","concat","window","getMods","modifier","key","mods","slice","length","getKeys","keys","replace","split","index","lastIndexOf","splice","_keyMap","backspace","tab","clear","enter","return","esc","escape","space","left","up","right","down","del","delete","ins","insert","home","end","pageup","pagedown","capslock","_modifier","shift","alt","option","ctrl","control","cmd","command","modifierMap","shiftKey","ctrlKey","altKey","metaKey","_mods","_handlers","k","_downKeys","_scope","elementHasBindEvent","code","x","toUpperCase","charCodeAt","setScope","scope","getScope","eachUnbind","_ref","_ref$splitKey","splitKey","forEach","originKey","unbindKeys","len","lastKey","keyCode","map","record","a1","a2","arr1","arr2","isIndex","compareArray","eventHandler","handler","modifiersMatch","y","Object","prototype","hasOwnProperty","call","shortcut","preventDefault","returnValue","stopPropagation","cancelBubble","dispatch","asterisk","which","charCode","hotkeys","filter","this","keyName","keyNum","e","getModifierState","type","keydown","keyup","_i","keyShortcut","_downKeysCurrent","a","sort","join","element","document","undefined","toString","isElementBind","clearModifier","_api","deleteScope","newScope","handlers","getPressedKeyCodes","isPressed","target","srcElement","tagName","flag","isContentEditable","readOnly","unbind","keysInfo","Array","isArray","info","_len","arguments","args","_key","_hotkeys","noConflict","deep","Handles","HTMLElement","constructor","super","$shadow","attachShadow","mode","on_window_resize","bind","connectedCallback","adoptedStyleSheets","disconnectedCallback","removeEventListener","requestAnimationFrame","node_label_id","host","getAttribute","source_el","position","el","isFixed","innerHTML","render","getBoundingClientRect","_backdrop","backdrop","update","bd","cur_child","querySelector","replaceChild","appendChild","width","height","top","setAttribute","style","setProperty","scrollY","customElements","define","Handle","button","on_element_resize_start","placement","observedAttributes","attributeChangedCallback","name","oldValue","newValue","nodeLabelId","composedPath","find","sourceEl","initialX","initialY","initialStyle","getComputedStyle","initialWidth","parseFloat","initialHeight","initialTransform","DOMMatrix","transform","originalElTransition","transition","originalDocumentCursor","body","cursor","originalDocumentUserSelect","userSelect","on_element_resize_move","newX","clientX","documentElement","clientWidth","newY","clientY","clientHeight","diffX","diffY","newWidth","newHeight","newTranslate","translate","transformPoint","on_element_resize_end","getPropertyValue","once","removeOffscreenLabelIndicators","querySelectorAll","detectOutsideViewport","OffscreenLabel","dispatchQuery","on","off","dispatchEvent","CustomEvent","bubbles","detail","text","textContent","activator","content","childElementCount","firstElementChild","_text","boundingRect","innerWidth","count","_count","Number","Date","createOffscreenLabelIndicator","hoverText","color","adjustRightSideToCount","existing","instance","display","seen","includes","label","createElement","Label","on_resize","innerText","boundingBox","currentStyle","currentPosition","originalPosition","scrollX","pageXOffset","pageYOffset","outsideTop","outsideBottom","innerHeight","outsideLeft","outsideRight","offscreenText","Math","max","Gridlines","winHeight","winWidth","windowBounds","svg","rect","line1","line2","line3","line4","children","offsetHeight","calced_y","Distance","line_model","styleProps","d","q","v","round","Overlay","BoxModel","drawable","payload","measurements","createMeasurements","bounds","sides","total_height","bottom","total_width","rotation","bg","stripe","createMeasurement","measurement","toggleHovering","hovering","removeAttribute","key_events","reduce","events","substring","command_events","pushElement","els","direction","showHideSelected","getSide","current","parseInt","getStyle","amount","negative","assign","margin","paintBackgrounds","label_id","createMarginVisual","hover","calculatedStyle","boxdisplay","entries","side","val","toFixed","dragItem","imgs","overlays","state","watching","toggleWatching","watch","previewFile","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onloadend","result","onDragStart","onDragEnd","onDragOver","async","pre_selected","some","img","node","isFileEvent","previewDrop","showOverlay","currentTarget","onDragLeave","resetPreviewed","hideOverlays","onDrop","srcs","getTransferData","selectedImages","targetImages","getTargetContentImages","updateContentImages","bgImages","getTargetBackgroundImages","updateBackgroundImages","currentSrc","dataTransfer","files","all","selected","nodeName","images","clearDragHistory","updateContentImage","src","srcset","sources","getPictureSourcesToUpdate","source","contains","backgroundImage","from","parentElement","sibling","media","matchMedia","matches","overlay","remove","findBackgroundImages","src_regex","collection","prop","exec","setSrc","lastBackgroundImage","cacheImageState","image","lastSrc","lastSrcset","sibSource","sib","types","drag","parent","parent_ui","siblings","Map","swapping","dropzones","observers","canMoveLeft","previousElementSibling","canMoveRight","nextElementSibling","canMoveDown","canMoveUnder","parentNode","canMoveUp","popOut","under","insertBefore","getNodeIndex","dragNDrop","selection","clearListeners","validMoveableChildren","notList","tooManySelected","hasNoSiblingsToDrag","isAnSVG","SVGElement","set","createGripUI","createParentUI","moveWatch","$node","dragDrop","dragStart","grip","dragOver","siblingHoverIn","siblingHoverOut","moveUnwatch","has","createDropzoneUI","get","opacity","ghostNode","hasAttribute","swapElements","setTimeout","ghostBuster","zone","observer","MutationObserver","list","observe","childList","subtree","disconnect","ui","updateFeedback","options","console","SelectorEngine","search_base","classList","add","search","searchInput","hideSearchBar","attr","stopBubbling","distances","clearMeasurements","takeMeasurementOwnership","padElement","padding","createPaddingVisual","healthyContrastColor","contrast","clone","isDark","lighten","darken","toHslString","functionalNotate","chunks","pop","active","tip","tips","modemap","services","mouseMove","deepElementFromPoint","isOffBounds","wipe","clearActive","showTip","positionTip","north","west","mouse_quadrant","tip_position","restorePinnedTips","removeAll","unobserve","colormode","getStyles","camelToDash","value","blur","spread","getShadowValues","getTextShadowValues","firstUsableFontFromFamily","localModifications","notLocalModifications","meta","pageY","pageX","handleBlur","togglePinned","restoring","contrast_results","determineColorContrast","ally_attributes","getA11ys","ally","foreground","textSize","getWCAG2TextSize","background","getComputedBackgroundColor","pass_icon","fail_icon","aa_contrast","aaa_contrast","level","size","floor","readability","Selectable","uhWebEditor","page","selectedCallbacks","labels","handles","hover_state","sourceList","mapSourceFromElement","sourceMap","child","propName","_debugSource","_debugOwner","log","mutations","saveSourceMap","on_click","$target","unselect_all","silent","unselect","select","tellWatchers","on_dblclick","toolSelected","on_copy","getSelection","node_clipboard","cloneNode","copy_backup","outerHTML","clipboardData","setData","permissions","query","clipboard","writeText","on_cut","do","parentLocation","location","action","on_paste","clipData","getData","globalClipboard","readText","potentialHTML","htmlStringToDom","Element","on_selection","show_tip","active_tool","activeTool","tipFactory","on_hover","tool","clearHover","overlayHoverUI","no_label","$anchor","anchorBounds","targetBounds","$measurement","overlayMetaUI","unshift","delete_all","selected_after_delete","expandSelection","potentials","anchor","root_node_index","potential","combineNodeNameAndClass","createClassname","no_hover","createHover","createHoverLabel","handleLabelText","handle","createHandle","createLabel","template","createObserver","parentObserver","attributes","_","setLabel","setHandle","cb","clearWatchers","initWatchers","did_hide","onkeydown","onkeyup","watchCommandKey","copied_styles","colorMode","message","item","warn","potentialStyles","on_paste_styles","root_node","deep_clone","nextSibling","_e","beforeEdit","finalOuterHTML","root","isSelectorValid","$selected","reverse","childNodes","prepend","removeChild","div","targets","flat_n_unique","element_to_left","element_to_right","has_parent_element","findNearestParentElement","has_child_elements","findNearestChildElement","Set","flat","parents","parent_element","undo","redo","onSelectedUpdate","immediateCallback","removeSelectedCallback","callback","links","removeEditability","cleanup","empty","EditText","elements","$el","contenteditable","spellcheck","focus","showHideNodeLabel","weightMap","normal","bold","light","weightOptions","alignMap","start","center","alignOptions","ensureFlex","accountForOtherJustifyContent","cur","want","changeDirection","flexDirection","h_alignMap","h_alignOptions","v_alignOptions","h_distributionMap","h_distributionOptions","v_distributionMap","v_distributionOptions","orderMap","row","column","orderOptions","wrapMap","nowrap","wrapOptions","ensureHasShadow","boxShadow","propMap","parseCurrentShadow","changeBoxShadow","propIndex","updated","cur_opacity","active_color","changeHue","Color","border","fg_temp","extractPalleteColors","getActive","toHsl","setAlpha","gridlines","stuck","showGridlines","stickGuide","on_hoverout","hideGridlines","draggable","surface","clickEvent","mouse","travelDistance","onMouseDown","willChange","extractSVGTranslate","onMouseUp","treatAsClick","onMouseMove","teardown","extractCurrentValueAndSide","setTranslateOnSVG","pos","determineNegativity","ensurePositionable","Metatip","applyScheme","schemeRule","dispatchUnQuery","data","items","copyColorSwatch","copyToClipboard","trim","contrastingForegroundColor","getContrastingColor","contrastingBackgroundColor","move","font","align","resize","hueshift","boxshadow","inspector","camera","guides","color_text","color_background","color_border","accessibility","HotkeyMap","keyboard_model","num","caps","key_size_model","_hotkey","_usedkeys","$shift","$ctrl","$alt","$cmd","$up","$down","$left","$right","_tool","show","watchKeys","hide","stopImmediatePropagation","negative_modifier","createCommand","displayCommand","keyboard","row_name","distOptions","_htool","_vtool","_dtool","_side","_direction","_distribution","_wrap","clamp","range","increment","Hotkeys","tool_map","values","cur_tool","hideTool","showTool","WebEditorModel","g","icon","description","instruction","m","p","h","l","f","s","WebEditor","toolbar_model","Engine","_tutsBaseURL","setup","selectorEngine","colorPicker","pallete","foregroundPicker","backgroundPicker","borderPicker","fgInput","bgInput","boInput","shadows","setActive","removeActive","picker","FG","BG","BO","isMeaningfulForeground","isMeaningfulBackground","isMeaningfulBorder","bo_temp","fg","bo","originalInput","new_fg","new_bg","new_bo","fg_icon","bg_icon","bo_icon","toHex","ColorPicker","deactivate_feature","main_ol","buttonPieces","toolButton","closest","dataset","constructibleStylesheetSupport","demoTip","showEdge","moveElement","keycommand","combo","spoof","pushAllElementSides","boxmodel","padAllElementSides","selectedNodes","isNaN","changeAlignment","changeLeading","font_size","changeFontSize","fontWeight","fontStyle","Font","changeHAlignment","changeVDistribution","changeVAlignment","changeWrap","Flex","onQuery","requestIdleCallback","Search","BoxShadow","HueShift","selectors","screenshot","alert","feature","onNodesSelected","Position","execCommand","PluginRegistry","Error","WebEditorElement","isFirefox","isSafarish","isChrome","isSafari","isPolyfilledCE","shadow_node","testConstructible","history","redoStack","DO","UNDO","last","error","REDO","actions","getters","naturalHistory","str","fetch","headers","JSON","stringify","btoa","unescape","encodeURIComponent","response","cssPath","path","nodeType","Node","ELEMENT_NODE","selector","nth","desiredPropMap","backgroundColor","backgroundSize","backgroundPosition","borderRadius","fontFamily","fontSize","textAlign","textShadow","textTransform","lineHeight","letterSpacing","alignItems","justifyContent","flexWrap","flexBasis","fill","stroke","gridTemplateColumns","gridAutoColumns","gridTemplateRows","gridAutoRows","gridTemplateAreas","gridArea","gap","gridAutoFlow","borderWidth","borderColor","desiredAccessibilityMap","largeWCAG2TextMap","defaultView","computedStyle","vettedStyles","borders","is_desired","borderStyle","propA","propB","canvas_color","getComputedCanvasBackgroundColor","foo","found","shadowRoot","loadStyles","fetches","stylesheets","url","texts","fileContents","head","shadow","fontCacheMap","family","fonts","context","getContext","match","String","fontName","baselineSize","measureText","elAttributes","getAttributeNames","acc","attribute","styleMap","largeProperties","includeFallbackColors","camelString","$1","nodeKey","tree","furthest_leaf","branch","className","ellipse","combined","classnames","classname","platform","elementFromPoint","crawlShadows","c","animate","outline","timeoutMap","duration","clearTimeout","nodes","htmlString","DOMParser","parseFromString","firstChild","createDocumentFragment","temp","elem","offsetParent","dark","lightScheme","darkScheme","colors","numberBetween","min","random","bound01","n","isOnePointZero","isPercent","isPercentage","abs","clamp01","boundAlpha","convertToPercentage","rgbToHsl","r","b","hue2rgb","t","rgbToHsv","rgbToHex","allow3Char","hex","startsWith","charAt","convertHexToDecimal","parseIntFromHex","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","goldenrod","gold","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavenderblush","lavender","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","matchers","RegExp","rgb","rgba","hsl","hsla","hsv","hsva","hex3","hex6","hex4","hex8","isValidCSSUnit","Boolean","TinyColor","opts","_a","numberInputToObject","ok","format","named","stringInputToObject","substr","mod","hsvToRgb","hslToRgb","inputToRGB","roundA","gradientType","isValid","getBrightness","isLight","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","pow","getAlpha","alpha","toHsv","toHsvString","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","toPercentageRgbString","rnd","toName","_b","formatSet","formattedString","hasAlpha","toNumber","brighten","tint","mix","shade","desaturate","saturate","greyscale","spin","hue","rgb1","rgb2","analogous","results","slices","part","ret","complement","monochromatic","res","modification","splitcomplement","triad","polyad","tetrad","equals","color1","color2","c1","c2","isReadable","wcag2","readabilityLevel","mostReadable","baseColor","colorList","bestColor","bestScore","colorList_1","score","sugar","fn","$","$context","$nodes","NodeList","attrs","hasShadyCss","ShadyCSS","nativeShadow","deferredStyleSheets","deferredDocumentStyleElements","adoptedSheetsRegistry","WeakMap","sheetMetadataRegistry","locationRegistry","observerRegistry","appliedActionsCursorRegistry","loaded","frame","OldCSSStyleSheet","importPattern","cssStyleSheetMethods","cssStyleSheetNewMethods","ConstructStyleSheet","basicStyleElement","disabled","nativeStyleSheet","sheet","adopters","_proto","contents","_this","sanitized","rejectImports","updateAdopters","defineProperty","Symbol","hasInstance","configurable","instanceOfStyleSheet","updatePrototype","adoptedStyleSheetAccessors","sheets","oldSheets","container","locationType","TypeError","every","uniqueSheets","checkAndPrepare","isDocumentLoading","isConnected","adoptStyleSheets","getAdoptedStyleSheet","styleElement","removeExcludedStyleSheets","Document","ShadowRoot","apply","initAdoptedStyleSheets","initPolyfill","readyState","imports","sheetContent","_import","proto","methodKey","oldMethod","_sheetMetadataRegistr","_sheetMetadataRegistr2","newStyles","elementToAdopt","cssText","_adopters","adoptedStyleElement","_i2","_len2","_actions$_i","adoptAndRestoreStylesOnMutationCallback","_mutations$i","addedNodes","removedNodes","iter","createNodeIterator","NodeFilter","SHOW_ELEMENT","FILTER_ACCEPT","FILTER_REJECT","nextNode","observerTool","iframe","hidden","contentWindow","fragment","exports","cssWithMappingToString","needLayer","modules","dedupe","supports","layer","alreadyImportedModules","_k","cssMapping","base64","sourceMapping","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","enumerable","obj","toStringTag","getElementById"],"sourceRoot":""}